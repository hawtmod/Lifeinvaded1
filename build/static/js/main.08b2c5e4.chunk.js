(this["webpackJsonplife-invader-frontend"]=this["webpackJsonplife-invader-frontend"]||[]).push([[0],{162:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),a=n(5),o=n(47),r=n.n(o),i=n(3),l=n(9),A=n(4),u=n.n(A),d=n(1),h=function(e){e.setCurrentUser;var t=Object(l.g)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{className:"welcome-heading-small welcome-heading-small__main",children:"Join lifeinvader today"}),Object(d.jsx)("button",{className:"btn btn-fill",onClick:function(){t.push("/register")},children:"Sign up"}),Object(d.jsx)("button",{className:"btn",onClick:function(){t.push("/login")},children:"Log in"}),Object(d.jsx)("button",{className:"btn",onClick:function(){alert("currently unavailable")},children:"Log in as guest"})]})},j=n(37),p=function(e){return new RegExp(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/).test(e)},b=function(e){return new RegExp(/^[A-Za-z][A-Za-z0-9]+$/).test(e)},f=function(e){e.setCurrentUser;var t=Object(s.useState)(""),n=Object(i.a)(t,2),c=n[0],o=n[1],r=Object(s.useState)(""),A=Object(i.a)(r,2),h=A[0],f=A[1],m=Object(s.useState)(""),O=Object(i.a)(m,2),g=O[0],x=O[1],v=Object(s.useState)(""),C=Object(i.a)(v,2),N=C[0],y=C[1],w=Object(s.useState)(""),E=Object(i.a)(w,2),I=E[0],S=E[1],U=Object(s.useState)(""),k=Object(i.a)(U,2),P=k[0],Q=k[1],B=Object(s.useState)([]),D=Object(i.a)(B,2),L=D[0],z=D[1],M=Object(l.g)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{className:"welcome-heading-small",children:"Register with lifeinvader"}),Object(d.jsxs)("p",{className:"welcome-text",children:["Already have an account?"," ",Object(d.jsx)(a.b,{style:{color:"rgb(29, 161, 242)",textDecoration:"none"},to:"/login",children:"Log in here"})]}),Object(d.jsxs)("form",{action:"",className:"welcome-register-form",children:[Object(d.jsx)("input",{className:"input__sign-in",type:"text",name:"firstName",placeholder:"First Name",value:c,onChange:function(e){return o(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"input__sign-in",type:"text",name:"lastName",placeholder:"Last Name",value:h,onChange:function(e){return f(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"input__sign-in",type:"text",name:"username",placeholder:"Username",value:g,onChange:function(e){return x(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"input__sign-in",type:"email",name:"email",placeholder:"Email",value:N,onChange:function(e){return y(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"input__sign-in",type:"password",name:"password",placeholder:"Password",value:I,onChange:function(e){return S(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"input__sign-in",type:"password",name:"passwordConfirm",placeholder:"Confirm password",value:P,onChange:function(e){return Q(e.target.value)},required:!0}),Object(d.jsxs)("button",{className:"btn btn-fill",onClick:function(e){e.preventDefault();var t=[];0===c.trim().length&&t.push("Please enter your first name."),0===h.trim().length&&t.push("Please enter your last name.");var n=b(g);0===g.length?t.push("Please enter a username."):g.length>16?t.push("Username may not be longer than 16 characters."):n||(t.push("Username must start with a letter."),t.push("Username may only contain only contain letters and numbers."));var s=p(N);0!==N.length&&s||t.push("Please enter a valid email address."),0===I.length&&t.push("Please enter a password."),0===P.length&&t.push("Please confirm your password."),I!==P&&I.length>0&&P.length>0&&(t.push("Your passwords do not match."),S(""),Q("")),0===t.length?u()({method:"post",data:{firstName:c,lastName:h,username:g,email:N,password:I},withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/register")}).then((function(e){void 0!==e.data.username?(console.log(e.data),z([]),M.push("/login")):z([e.data])})):z(t)},children:["Create account ",Object(d.jsx)(j.a,{style:{verticalAlign:"bottom"}})]}),L.map((function(e){return Object(d.jsx)("p",{className:"register-error",children:e},e)}))]})]})},m=function(e){var t=e.setCurrentUser,n=Object(s.useState)(""),c=Object(i.a)(n,2),o=c[0],r=c[1],A=Object(s.useState)(""),h=Object(i.a)(A,2),p=h[0],b=h[1],f=Object(s.useState)([]),m=Object(i.a)(f,2),O=m[0],g=m[1],x=Object(l.g)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{className:"welcome-heading-small",children:"Log into lifeinvader"}),Object(d.jsxs)("p",{className:"welcome-text",children:["Need an account?"," ",Object(d.jsx)(a.b,{style:{color:"rgb(29, 161, 242)",textDecoration:"none"},to:"/register",children:"Sign up here"})]}),Object(d.jsxs)("form",{action:"",className:"welcome-register-form",children:[Object(d.jsx)("input",{className:"input__sign-in",type:"text",name:"username",placeholder:"Username or email",value:o,onChange:function(e){return r(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"input__sign-in",type:"password",name:"password",placeholder:"Password",value:p,onChange:function(e){return b(e.target.value)},required:!0}),Object(d.jsxs)("button",{className:"btn btn-fill",onClick:function(e){e.preventDefault();var n=[];0===o.length&&n.push("Please enter a username."),0===p.length&&n.push("Please enter a password."),0===n.length?u()({method:"post",data:{username:o,password:p},withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/login")}).then((function(e){void 0!==e.data.username?(t(e.data),x.push("/")):(g([e.data]),b(""))})):g(n)},children:["Log in ",Object(d.jsx)(j.a,{style:{verticalAlign:"bottom"}})]}),O.map((function(e){return Object(d.jsx)("p",{className:"register-error",children:e},e)}))]})]})},O="data:image/png;base64,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",g=function(e){var t=e.setCurrentUser;return Object(d.jsx)(a.a,{children:Object(d.jsx)("div",{className:"welcome-wrapper",children:Object(d.jsxs)("div",{className:"welcome-content",children:[Object(d.jsxs)("div",{className:"welcome-logo-container",children:[Object(d.jsx)("div",{className:"welcome-logo-img",children:Object(d.jsx)("img",{src:O,alt:"life invader logo icon"})}),Object(d.jsx)("div",{className:"welcome-logo-text",children:Object(d.jsx)("img",{src:"data:image/png;base64,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",alt:"life invader logo icon"})})]}),Object(d.jsxs)("div",{className:"welcome-form",children:[Object(d.jsx)("div",{className:"welcome-form-img",children:Object(d.jsx)("img",{src:O,alt:"Life invader logo icon - small"})}),Object(d.jsxs)("h2",{className:"welcome-heading-large",children:["It's not technology,",Object(d.jsx)("br",{}),"It's your life"]}),Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/welcome",children:Object(d.jsx)(h,{setCurrentUser:t})}),Object(d.jsx)(l.b,{exact:!0,path:"/login",children:Object(d.jsx)(m,{setCurrentUser:t})}),Object(d.jsx)(l.b,{exact:!0,path:"/register",children:Object(d.jsx)(f,{setCurrentUser:t})}),Object(d.jsx)(l.b,{path:"/",children:Object(d.jsx)(l.a,{to:"/welcome"})})]})]})]})})})},x=Object(s.createContext)(),v=function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(s.useState)(!1),r=Object(i.a)(o,2),l=r[0],A=r[1],u=Object(s.useState)(!1),h=Object(i.a)(u,2),j=h[0],p=h[1],b=Object(s.useState)(!1),f=Object(i.a)(b,2),m=f[0],O=f[1],g=Object(s.useState)(!1),v=Object(i.a)(g,2),C=v[0],N=v[1],y=Object(s.useState)(!1),w=Object(i.a)(y,2),E=w[0],I=w[1],S=Object(s.useState)(!1),U=Object(i.a)(S,2),k=U[0],P=U[1],Q=Object(s.useState)(null),B=Object(i.a)(Q,2),D=B[0],L=B[1],z=Object(s.useState)(!1),M=Object(i.a)(z,2),R=M[0],F=M[1],T=Object(s.useState)(!1),X=Object(i.a)(T,2),q=X[0],Y=X[1],H=Object(s.useState)(!1),J=Object(i.a)(H,2),V=J[0],K=J[1];return Object(d.jsx)(x.Provider,{value:{deleteModalIsOpen:l,setDeleteModalIsOpen:A,modalIsOpen:c,setModalIsOpen:a,profilePicModalIsOpen:j,setProfilePicModalIsOpen:p,coverPhotoModalIsOpen:m,setCoverPhotoModalIsOpen:O,pinModalIsOpen:E,setPinModalIsOpen:I,unPinModalIsOpen:k,setUnPinModalIsOpen:P,pinPostId:D,setPinPostId:L,editDescriptionModalIsOpen:C,setEditDescriptionModalIsOpen:N,buyNowModalIsOpen:R,setBuyNowModalIsOpen:F,noCoinsModalIsOpen:q,setNoCoinsModalIsOpen:Y,editChatNameModalIsOpen:V,setEditChatNameModalIsOpen:K},children:e.children})},C=Object(s.createContext)(),N=function(e){var t=Object(s.useState)([]),n=Object(i.a)(t,2),c=n[0],a=n[1];return Object(d.jsx)(C.Provider,{value:{usersFollowing:c,setUsersFollowing:a},children:e.children})},y=Object(s.createContext)(),w=function(e){var t=Object(s.useState)(0),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(s.useState)(0),r=Object(i.a)(o,2),l=r[0],A=r[1];return Object(d.jsx)(y.Provider,{value:{numMessages:c,setNumMessages:a,numNotifications:l,setNumNotifications:A},children:e.children})},E=Object(s.createContext)(),I=function(e){var t=Object(s.useState)(null),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(s.useState)(null),r=Object(i.a)(o,2),l=r[0],A=r[1],u=Object(s.useState)(!1),h=Object(i.a)(u,2),j=h[0],p=h[1];return Object(d.jsx)(E.Provider,{value:{currentNotification:c,setCurrentNotification:a,currentChat:l,setCurrentChat:A,notificationIsOpen:j,setNotificationIsOpen:p},children:e.children})},S=n(24),U=function(){return Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(d.jsx)(S.a,{className:"spinner",style:{fontSize:"40px",color:"#1da1f2"}})})},k=n(6),P=n(11),Q=n(26),B=function(e){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/chats"),params:{unreadOnly:!0}}).then((function(t){e(t.data.length)})).catch((function(t){console.log(t),e(0)}))},D=function(e){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/notifications"),params:{unreadOnly:!0}}).then((function(t){e(t.data.length)})).catch((function(t){console.log(t),e(0)}))},L=function(e){var t=e.toggleDropdown,n=Object(s.useContext)(y),c=n.numMessages,a=n.setNumMessages,o=n.numNotifications,r=n.setNumNotifications,i={fontSize:"28px",cursor:"pointer"},A=Object(l.g)();return Object(s.useEffect)((function(){B(a),D(r)}),[]),Object(d.jsx)("nav",{className:"navbar",children:Object(d.jsxs)("div",{className:"navbar-container",children:[Object(d.jsx)("div",{className:"top-nav-group",children:Object(d.jsx)(k.b,{style:i,onClick:function(){A.push("/"),t(!0)}})}),Object(d.jsx)("div",{className:"top-nav-group",onClick:function(){A.push("/notifications")},children:Object(d.jsxs)("div",{className:"badge-wrapper",children:[Object(d.jsx)(k.a,{style:i}),Object(d.jsx)("span",{id:"notification-badge",className:o>0?"active":"",children:o})]})}),Object(d.jsx)("div",{className:"top-nav-group top-nav-group-mail",onClick:function(){A.push("/messages")},children:Object(d.jsxs)("div",{className:"badge-wrapper",children:[Object(d.jsx)(P.c,{style:i}),Object(d.jsx)("span",{id:"messages-badge",className:c>0?"active":"",children:c})]})}),Object(d.jsx)("div",{className:"top-nav-group",children:Object(d.jsx)(Q.b,{style:i,onClick:function(e){return t()}})})]})})},z=function(e){var t=e.logOut,n=e.currentUser,s={fontSize:"28px",cursor:"pointer"},c=Object(l.g)();return Object(d.jsx)("nav",{className:"navbar navbar-dropdown",children:Object(d.jsxs)("div",{className:"navbar-container",children:[Object(d.jsx)("div",{className:"top-nav-group",onClick:function(){c.push("/profile/".concat(n.username))},children:Object(d.jsx)(k.f,{style:s})}),Object(d.jsx)("div",{className:"top-nav-group",onClick:function(){c.push("/search")},children:Object(d.jsx)(k.d,{style:s})}),Object(d.jsx)("div",{className:"top-nav-group top-nav-group-shop",onClick:function(){c.push("/store")},children:Object(d.jsx)(k.e,{style:s})}),Object(d.jsx)("div",{className:"top-nav-group",onClick:t,children:Object(d.jsx)(P.b,{style:s})})]})})},M=n(80),R=n.p+"static/media/logo-small.dbd2ad15.png",F=function(e){var t=e.logOut,n=e.currentUser,c={fontSize:"28px"},a=Object(l.h)(),o=Object(s.useContext)(y),r=o.numMessages,i=o.setNumMessages,A=o.numNotifications,u=o.setNumNotifications;Object(s.useEffect)((function(){var e=a.pathname;document.querySelectorAll(".left-nav-group").forEach((function(e){e.classList.remove("left-nav-group__active")}));var t=document.querySelector("#left-nav-home"),n=document.querySelector("#left-nav-profile"),s=document.querySelector("#left-nav-notifications"),c=document.querySelector("#left-nav-messages"),o=document.querySelector("#left-nav-search"),r=document.querySelector("#left-nav-store");"/"===e||"/login"===e?t.classList.add("left-nav-group__active"):e.includes("/profile")?n.classList.add("left-nav-group__active"):e.includes("/notifications")?s.classList.add("left-nav-group__active"):e.includes("/messages")?c.classList.add("left-nav-group__active"):e.includes("/search")?o.classList.add("left-nav-group__active"):e.includes("/store")&&r.classList.add("left-nav-group__active")}),[a]);var h=Object(l.g)(),j=function(){h.push("/")};return Object(s.useEffect)((function(){B(i),D(u)}),[]),Object(d.jsx)("nav",{className:"layout__left-container custom-scroll",children:Object(d.jsxs)("div",{className:"layout__left-content custom-scroll",children:[Object(d.jsx)("div",{className:"left-nav-logo-container",onClick:j,children:Object(d.jsx)("img",{src:R,alt:""})}),Object(d.jsxs)("div",{className:"left-nav-group",id:"left-nav-home",onClick:j,children:[Object(d.jsx)(k.b,{style:c}),Object(d.jsx)("h2",{className:"left-nav-heading",children:"Home"})]}),Object(d.jsxs)("div",{className:"left-nav-group",id:"left-nav-profile",onClick:function(){h.push("/profile/".concat(n.username))},children:[Object(d.jsx)(k.f,{style:c}),Object(d.jsx)("h2",{className:"left-nav-heading",children:"Profile"})]}),Object(d.jsxs)("div",{className:"left-nav-group",id:"left-nav-notifications",onClick:function(){h.push("/notifications")},children:[Object(d.jsxs)("div",{className:"badge-wrapper",children:[Object(d.jsx)(k.a,{style:Object(M.a)({},c)}),Object(d.jsx)("span",{id:"notification-badge",className:A>0?"active":"",children:A})]}),Object(d.jsx)("h2",{className:"left-nav-heading",children:"Notifications"})]}),Object(d.jsxs)("div",{className:"left-nav-group",id:"left-nav-messages",onClick:function(){h.push("/messages")},children:[Object(d.jsxs)("div",{className:"badge-wrapper",children:[Object(d.jsx)(P.c,{style:c}),Object(d.jsx)("span",{id:"messages-badge",className:r>0?"active":"",children:r})]}),Object(d.jsx)("h2",{className:"left-nav-heading",children:"Messages"})]}),Object(d.jsxs)("div",{className:"left-nav-group",id:"left-nav-search",onClick:function(){h.push("/search")},children:[Object(d.jsx)(k.d,{style:c}),Object(d.jsx)("h2",{className:"left-nav-heading",children:"Search"})]}),Object(d.jsxs)("div",{className:"left-nav-group",id:"left-nav-store",onClick:function(){h.push("/store")},children:[Object(d.jsx)(k.e,{style:c}),Object(d.jsx)("h2",{className:"left-nav-heading",children:"Store"})]}),Object(d.jsxs)("div",{className:"left-nav-group",onClick:t,style:{marginBottom:"5px"},children:[Object(d.jsx)(P.b,{style:c}),Object(d.jsx)("h2",{className:"left-nav-heading",children:"Logout"})]})]})})},T=n(8),X=n.n(T),q=n(33),Y={messageReceived:function(e){var t=window.location.href,n=[];e.chat.isGroupChat||(n.push(e.chat.users[0]._id),n.push(e.chat.users[1]._id));var s=t.includes(e.chat._id)||!e.groupChat&&(t.includes(n[0])||t.includes(n[1])),c=!t.includes("profile"),a=t.split("/");return s&&c?{onChatPage:!0,newMessage:e}:"messages"===a[a.length-1]?{onChatPage:!0,newMessage:e,onInboxPage:!0}:{onChatPage:!1,newMessage:e}}},H=function(e){var t=e.currentUser,n=e.setCurrentUser,c=e.textPlaceholder,a=e.buttonText,o=e.setModalIsOpen,r=e.isReply,A=e.replyComment,h=e.forceUpdate,j=Object(s.useState)(""),p=Object(i.a)(j,2),b=p[0],f=p[1],m=Object(l.g)();return Object(d.jsxs)("div",{className:"post-form-container",children:[Object(d.jsx)("div",{className:"user-image-container",children:Object(d.jsx)("img",{src:"".concat("https://fathomless-depths-30026.herokuapp.com").concat(t.profilePic),alt:"User profile picture"})}),Object(d.jsxs)("div",{className:"textarea-container",children:[Object(d.jsx)("textarea",{id:"post-textarea",placeholder:c,onInput:function(e){var t=document.querySelector("#post-textarea");t.style.height="auto",t.style.height=t.scrollHeight+"px"},onChange:function(e){return f(e.target.value)},maxLength:"400",value:b,spellCheck:"false"}),Object(d.jsx)("div",{className:"buttons-container",children:Object(d.jsx)("button",{id:"submit-post-button",disabled:!b.trim().length,onClick:function(){if(t.coins&&t.coins>0){var e={content:b};r&&(e.replyTo=A._id),u()({method:"post",data:e,withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts")}).then((function(e){f(""),document.querySelector("#post-textarea").style.height="auto",h(),r&&(o(!1),Y.emitNotification(A.author._id,t._id))})).catch((function(e){console.log(e),401==e.response.status&&window.location.reload()}));var s=t.coins;u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/shop/").concat(s-1)}).then((function(e){n(e.data)})).catch((function(e){console.log(e)}))}else m.push("/store/nocoins")},children:a})})]})]})};H.defaultProps={textPlaceholder:"What's going on?",buttonText:"Invade",setModalIsOpen:!1,isReply:!1,replyComment:null,setPosts:null,forceUpdate:null};var J=H,V=n(22),K=n(7),W=n(81);var G=function(e,t){var n=6e4,s=36e5,c=864e5,a=2592e6,o=31536e6,r=e-t;return r<n?r/1e3<30?"Just now":Math.round(r/1e3)+" seconds ago":r<s?Math.round(r/n)+" minute".concat(1===Math.round(r/n)?"":"s"," ago"):r<c?Math.round(r/s)+" hour".concat(1===Math.round(r/s)?"":"s"," ago"):r<a?Math.round(r/c)+" day".concat(1===Math.round(r/c)?"":"s"," ago"):r<o?Math.round(r/a)+" month".concat(1===Math.round(r/a)?"":"s"," ago"):Math.round(r/o)+" year".concat(1===Math.round(r/o)?"":"s"," ago")},Z=function(e){var t=e.postData,n=e.currentUser,o=e.forceUpdate,r=e.setReplyComment,A=e.setDeleteComment,h=e.allowComments,j=e.makeBig,p=e.isDeletable,b=e.showPin,f=e.showPinHeading,m=Object(s.useContext)(x),O=m.setDeleteModalIsOpen,g=m.setModalIsOpen,v=m.setPinModalIsOpen,C=m.setUnPinModalIsOpen,N=m.setPinPostId,y=t.author._id===n._id,w=void 0!==t.sharedPostData,E=void 0!==t.replyTo,I=w?t.author.username:null,S=(t=w?t.sharedPostData:t).dislikes.includes(n._id),U=t.sharedBy.includes(n._id),k=t.replies.some((function(e){return e.author===n._id})),P="".concat("https://fathomless-depths-30026.herokuapp.com").concat(t.author.profilePic),Q="".concat(t.author.firstName," ").concat(t.author.lastName),B=G(new Date,new Date(t.createdAt)),D=Object(s.useRef)(null),L=Object(l.g)();function z(e,t){var n=c.a.useState((function(){return localStorage.getItem(e)||t})),a=Object(i.a)(n,2),o=a[0],r=a[1];return Object(s.useEffect)((function(){localStorage.setItem(e,o)}),[e,o]),[o,r]}var M=z(t._id,!1),R=Object(i.a)(M,2),F=R[0],T=R[1],X=z("".concat(t._id,"2"),!0),q=Object(i.a)(X,2),H=q[0],J=q[1],Z=function(e){e.stopPropagation(),D.current.classList.toggle("post-body-truncated"),J("true"==H?"false":"true")};Object(s.useEffect)((function(){var e=1.2*parseInt(D.current.style.fontSize)*4;D.current.scrollHeight>e&&T("true")}),[]);var _={fontSize:j?"30px":"22px"},$={fontSize:j?"24px":"18px"},ee={color:"rgb(29, 161, 242)",fontSize:j?"24px":"18px"},te={color:"rgb(226, 34, 94)",fontSize:j?"30px":"22px"},ne={color:"rgb(22, 191, 99)",fontSize:j?"30px":"22px"},se={};return t.author.goldenName&&(se.color="rgb(240, 173, 1)"),Object(d.jsxs)("div",{className:"post",onClick:function(e){void 0!==t._id&&"A"!=e.target.tagName&&(g(!1),L.push("/post/".concat(t._id)))},children:[w&&Object(d.jsxs)("div",{className:"shared-by-heading",children:[Object(d.jsx)(K.d,{style:{marginRight:"4px",transform:"translateY(2px)"}}),"Shared by"," ",Object(d.jsxs)(a.b,{to:"/profile/".concat(I),onClick:function(e){return g(!1)},style:{color:"rgb(29, 161, 242)"},children:["@",I]})]}),E&&null!==t.replyTo&&t.replyTo._id&&Object(d.jsxs)("div",{className:"shared-by-heading",children:[Object(d.jsx)(V.c,{style:{marginRight:"4px",transform:"translateY(2px)"}}),"Replying to"," ",Object(d.jsxs)(a.b,{to:"/profile/".concat(t.replyTo.author.username),onClick:function(e){return g(!1)},style:{color:"rgb(29, 161, 242)"},children:["@",t.replyTo.author.username]})]}),E&&null===t.replyTo&&Object(d.jsxs)("div",{className:"shared-by-heading",children:[Object(d.jsx)(V.c,{style:{marginRight:"4px",transform:"translateY(2px)"}}),"Replying to DELETED POST"," "]}),t.pinned&&!w&&f&&Object(d.jsxs)("div",{className:"shared-by-heading",children:[Object(d.jsx)(K.c,{style:{marginRight:"4px",transform:"translateY(1px)"}}),"Pinned post"]}),Object(d.jsxs)("div",{className:"main-content-container",children:[Object(d.jsx)("div",{className:"user-image-container",children:Object(d.jsx)("img",{src:P,alt:"post author profile pic"})}),Object(d.jsxs)("div",{className:"post-content-container",children:[Object(d.jsxs)("div",{className:"post-header",children:[Object(d.jsx)("span",{className:"display-name",onClick:function(e){return g(!1)},children:Object(d.jsx)(a.b,{to:"/profile/".concat(t.author.username),style:se,children:Q})}),Object(d.jsxs)("span",{className:"username",children:["@",t.author.username]}),(y||n.admin)&&!w&&p&&Object(d.jsxs)("div",{style:{marginLeft:"auto",display:"flex"},children:[b&&Object(d.jsx)("div",{className:"delete-post-btn",children:Object(d.jsx)(K.c,{onClick:!0===t.pinned?function(e){e.stopPropagation(),N(t._id),C(!0)}:function(e){e.stopPropagation(),N(t._id),v(!0)},style:!0===t.pinned?{color:"rgb(226, 34, 94)"}:{}})}),Object(d.jsxs)("div",{className:"delete-post-btn",style:{marginLeft:"10px"},children:[Object(d.jsx)(W.a,{style:{color:"inherit",fontSize:"18px"},onClick:function(e){e.stopPropagation(),A(t._id),O(!0)}})," "]})]})]}),Object(d.jsx)("div",{className:"post-body ".concat("false"==H?"":"post-body-truncated"),style:{whiteSpace:"pre-wrap",fontSize:j?"24px":"16px"},ref:D,children:t.content}),"true"==F&&"true"==H&&Object(d.jsx)("p",{className:"date truncate-message",style:{marginBottom:"10px"},onClick:Z,children:"Post collapsed. View more..."}),"true"==F&&"false"==H&&Object(d.jsx)("p",{className:"date truncate-message",style:{marginBottom:"10px"},onClick:Z,children:"Collapse post"}),Object(d.jsx)("div",{className:"date",children:B}),Object(d.jsxs)("div",{className:"post-footer",children:[Object(d.jsx)("div",{className:"post-button-container",children:Object(d.jsxs)("button",{onClick:function(e){e.stopPropagation(),function(e){h?(r(e),g(!0)):g(!1)}(t)},children:[Object(d.jsx)(V.c,{style:k?ee:$}),Object(d.jsx)("span",{className:"number-comments ".concat(k?"number-comments-active":""),style:{fontSize:j?"24px":"16px",marginLeft:"5px"},children:t.replies.length||""})]})}),Object(d.jsx)("div",{className:"post-button-container post-button-container-share",children:Object(d.jsxs)("button",{onClick:function(e){e.stopPropagation(),u()({method:"post",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts/").concat(t._id,"/share")}).then((function(e){"$addToSet"===e.data.option&&Y.emitNotification(t.author._id,n._id),o()})).catch((function(e){console.log(e)}))},children:[Object(d.jsx)(K.d,{style:U?ne:_}),Object(d.jsx)("span",{className:"number-shares ".concat(U?"number-shares-active":""),style:{fontSize:j?"24px":"16px"},children:t.sharedBy.length||""})]})}),Object(d.jsx)("div",{className:"post-button-container post-button-container-dislike",children:Object(d.jsxs)("button",{className:"dislike-button",onClick:function(e){e.stopPropagation(),u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts/").concat(t._id,"/dislike")}).then((function(e){e.data.dislikes.includes(n._id)&&Y.emitNotification(t.author._id,n._id),o()}))},children:[Object(d.jsx)(K.b,{style:S?te:_}),Object(d.jsx)("span",{className:"number-dislikes ".concat(S?"number-dislikes-active":""),style:{fontSize:j?"24px":"16px"},children:t.dislikes.length||""})]})})]})]})]})]})};Z.defaultProps={allowComments:!0,makeBig:!1,isDeletable:!0,showPin:!1,showPinHeading:!1};var _=Z,$=n(38),ee={overlay:{backgroundColor:"rgba(0, 0, 0, .9)",height:"calc(100vh + 100px)",zIndex:3},content:Object($.a)({backgroundColor:"rgb(21, 24, 28)",maxWidth:"600px",height:"fit-content",zIndex:3,marginLeft:"auto",marginRight:"auto",top:"calc(50% - 50px)",left:"10px",right:"10px",borderRadius:"15px",border:"1px solid #3a3a3a"},"border","none")},te=function(e){var t=e.deleteComment,n=e.deletePost,c=Object(s.useContext)(x),a=c.deleteModalIsOpen,o=c.setDeleteModalIsOpen;return Object(d.jsx)(X.a,{style:ee,isOpen:a,closeTimeoutMS:300,onRequestClose:function(){return o(!1)},children:Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)("h2",{className:"main-content-heading",style:{marginRight:"auto",marginBottom:"0px"},children:"Delete post?"}),Object(d.jsx)("button",{className:"modal-delete-btn",style:{marginRight:"20px"},onClick:function(e){return n(t),void o(!1)},children:"Yes"}),Object(d.jsx)("button",{className:"modal-delete-btn",onClick:function(e){return o(!1)},children:"No"})]})})},ne=n(82),se=n(83),ce=n(88),ae=n(87),oe=function(e){Object(ce.a)(n,e);var t=Object(ae.a)(n);function n(e){var s;return Object(ne.a)(this,n),(s=t.call(this,e)).state={hasError:!1},s}return Object(se.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}]),n}(c.a.Component),re=n(164),ie=function(e){var t=e.currentUser,n=e.replyComment,c=e.replyHeading,a=e.replyTextPlaceholder,o=e.getPost,r=e.setCurrentUser,i=Object(s.useContext)(x),l=i.modalIsOpen,A=i.setModalIsOpen;Object(s.useEffect)((function(){l&&setTimeout((function(){try{document.querySelector(".ReactModal__Content #post-textarea").focus()}catch(e){A(!1)}}),0)}),[l]);try{return Object(d.jsxs)(X.a,{style:ee,isOpen:l,closeTimeoutMS:300,onRequestClose:function(){return A(!1)},children:[Object(d.jsxs)("div",{className:"heading-container",style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)("h2",{className:"main-content-heading",children:c}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return A(!1)}})})]}),Object(d.jsx)(oe,{children:Object(d.jsx)(_,{postData:n,currentUser:t,forceUpdate:o,setModalIsOpen:A,allowComments:!1,isDeletable:!1},Object(re.a)())}),Object(d.jsx)(J,{currentUser:t,setCurrentUser:r,textPlaceholder:a,buttonText:"Reply",setModalIsOpen:A,isReply:!0,replyComment:n,forceUpdate:o})]})}catch(u){return Object(d.jsx)("div",{})}},le=function(e,t){u()({method:"delete",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts/").concat(e)}).then((function(e){t()}))};X.a.setAppElement("#root");var Ae=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(s.useState)([]),a=Object(i.a)(c,2),o=a[0],r=a[1],A=Object(s.useState)(null),h=Object(i.a)(A,2),j=h[0],p=h[1],b=Object(s.useState)(null),f=Object(i.a)(b,2),m=f[0],g=f[1],x=Object(s.useState)(!1),v=Object(i.a)(x,2),C=v[0],N=v[1],y=Object(l.g)(),w=Object(s.useRef)(!0),E=Object(s.useState)(1),I=Object(i.a)(E,2),S=I[0],U=I[1],k=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts"),params:{followingPostsOnly:!0}}).then((function(e){if(e.data.length>0&&void 0===e.data[0].author.firstName)return alert("author data not populated ");r(e.data)})).catch((function(e){console.log(e),e.response&&401==e.response.status&&console.log("user was logged out")}))};Object(s.useEffect)((function(){if(j){var e=o.filter((function(e){return e._id===j._id}));p(e[0])}}),[o]),Object(s.useEffect)((function(){k()}),[t]),Object(s.useEffect)((function(){k()}),[]);var P=o.slice(0,20*S).map((function(e){return Object(d.jsx)(_,{postData:e,currentUser:t,forceUpdate:k,setReplyComment:p,setDeleteComment:g},Object(re.a)())})),Q="",B="";null!==j&&void 0!==j&&(j.author.username===t.username?(Q="Reply to... yourself?",B="Replying to yourself huh? You must have a lot of friends..."):(Q="Reply to ".concat(j.author.username),B="Give ".concat(j.author.username," a piece of your mind.."))),Object(s.useEffect)((function(){w.current?w.current=!1:0===o.length?N(!0):N(!1)}),[o]);var D=Object(d.jsxs)("div",{style:{marginTop:"20px"},children:[Object(d.jsx)("h2",{className:"main-content-heading",children:"Welcome to lifeinvader!"}),Object(d.jsx)("p",{className:"paragraph-text",children:"Stalk other lifeinvader users to see their posts here on the home page."}),Object(d.jsxs)("p",{className:"paragraph-text",children:["Check out"," ",Object(d.jsx)("span",{className:"text-link",onClick:function(){y.push("/profile/coolben")},children:"Ben's profile here"}),", or search for users from the"," ",Object(d.jsx)("span",{className:"text-link",onClick:function(){y.push("/search")},children:"search page."})]}),Object(d.jsx)("div",{className:"image-wrapper",style:{width:"60%",margin:"50px auto 0"},children:Object(d.jsx)("img",{src:O,alt:"logo",style:{width:"100%"}})})]});return Object(d.jsxs)("div",{children:[Object(d.jsx)(ie,{currentUser:t,setCurrentUser:n,replyComment:j,replyHeading:Q,replyTextPlaceholder:B,getPost:k}),Object(d.jsx)(te,{deleteComment:m,deletePost:function(e){le(e,k)}}),Object(d.jsx)("h1",{className:"main-content-heading",children:"Home"}),Object(d.jsx)(J,{currentUser:t,forceUpdate:k,setCurrentUser:n,textPlaceholder:"Hey ".concat(t.firstName,", what's going on?")}),Object(d.jsx)("div",{className:"posts-container",children:Object(d.jsx)(q.a,{dataLength:20*S,next:function(){U((function(e){return e+1}))},hasMore:o.length>20*S,scrollThreshold:.9,children:P})}),C&&D]})},ue=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(l.i)().id,a=Object(s.useState)([]),o=Object(i.a)(a,2),r=o[0],A=o[1],h=Object(s.useState)(null),j=Object(i.a)(h,2),p=j[0],b=j[1],f=Object(s.useState)([]),m=Object(i.a)(f,2),O=m[0],g=m[1],x=Object(s.useState)(!1),v=Object(i.a)(x,2),C=v[0],N=v[1],y=Object(s.useState)(null),w=Object(i.a)(y,2),E=w[0],I=w[1],S=Object(s.useState)(null),U=Object(i.a)(S,2),k=U[0],P=U[1],B=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts/").concat(c)}).then((function(e){A([e.data.post]),void 0!==e.data.replyTo&&null!==e.data.replyTo&&void 0!==e.data.replyTo._id?b(e.data.replyTo):b(null),g(e.data.replies),N(!1)})).catch((function(e){console.log(e),A([]),b(null),g([]),N(!0),e.response&&401==e.response.status&&window.location.reload()}))};Object(s.useEffect)((function(){return B(),function(){}}),[c]),Object(s.useEffect)((function(){E&&r.length>0&&r[0]._id===E._id&&I(r[0])}),[r]),Object(s.useEffect)((function(){E&&p&&p._id===E._id&&I(p)}),[p]),Object(s.useEffect)((function(){E&&O.length>0&&O.map((function(e){e._id===E._id&&I(e)}))}),[O]);var D=r.map((function(e){return Object(d.jsx)(_,{postData:r[0],currentUser:t,forceUpdate:B,setReplyComment:I,setDeleteComment:P,makeBig:!0},Object(re.a)())})),L=O.map((function(e){return Object(d.jsx)(_,{postData:e,currentUser:t,forceUpdate:B,setReplyComment:I,setDeleteComment:P},Object(re.a)())}));L.reverse();var z=null!==p?Object(d.jsx)(_,{postData:p,currentUser:t,forceUpdate:B,setReplyComment:I,setDeleteComment:P},Object(re.a)()):null,M="",R="";return null!==E&&void 0!==E&&(E.author.username===t.username?(M="Reply to... yourself?",R="Replying to yourself huh? You must have a lot of friends..."):(M="Reply to ".concat(E.author.username),R="Give ".concat(E.author.username," a piece of your mind.."))),Object(d.jsxs)("div",{children:[Object(d.jsx)(ie,{currentUser:t,setCurrentUser:n,replyComment:E,replyHeading:M,replyTextPlaceholder:R,getPost:B}),Object(d.jsx)(te,{deleteComment:k,deletePost:function(e){le(e,B)}}),Object(d.jsx)("h1",{className:"main-content-heading",children:"View Post"}),Object(d.jsxs)("div",{className:"posts-container",children:[z,D.length>0&&D[0],O.length>0&&L,C&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Post not found"}),Object(d.jsx)(Q.a,{style:{fontSize:"50px",marginTop:"15px"}})]})]})]})},de=function(e){var t=e.currentUser,n=e.profileUser,c=Object(s.useContext)(x).setEditDescriptionModalIsOpen;return Object(d.jsxs)("div",{children:[void 0!==n.description&&Object(d.jsx)("p",{id:"profile-desc",spellCheck:"false",children:n.description}),t._id===n._id&&Object(d.jsxs)("div",{className:"edit-label",onClick:function(e){return c(!0)},children:["Edit profile description"," ",Object(d.jsx)(P.a,{style:{marginLeft:"5px",transform:"translateY(3px)"}})]})]})},he=function(e){var t=e.getProfilePosts,n=Object(s.useContext)(x),c=n.pinModalIsOpen,a=n.setPinModalIsOpen,o=n.pinPostId,r=n.setPinPostId;Object(l.g)();return Object(d.jsxs)(X.a,{style:ee,isOpen:c,closeTimeoutMS:300,onRequestClose:function(){return a(!1)},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(d.jsx)("h2",{className:"main-content-heading",style:{marginRight:"auto",marginBottom:"20px"},children:"Pin post?"}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return a(!1)}})})]}),Object(d.jsx)("p",{style:{fontSize:"16px"},children:"Your pinned post will appear at the top of your profile. You may have only one pinned post at a time."}),Object(d.jsx)("button",{className:"modal-delete-btn",onClick:function(){o&&u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts/").concat(o),data:{pinned:!0}}).then((function(e){r(null),t()})).catch((function(e){console.log(e)})),a(!1)},style:{marginTop:"20px"},children:"Pin post"})]})},je=function(e){var t=e.getProfilePosts,n=Object(s.useContext)(x),c=n.unPinModalIsOpen,a=n.setUnPinModalIsOpen,o=n.pinPostId,r=n.setPinPostId;Object(l.g)();return Object(d.jsxs)(X.a,{style:ee,isOpen:c,closeTimeoutMS:300,onRequestClose:function(){return a(!1)},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(d.jsx)("h2",{className:"main-content-heading",style:{marginRight:"auto",marginBottom:"20px"},children:"Unpin post?"}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return a(!1)}})})]}),Object(d.jsx)("p",{style:{fontSize:"16px"},children:"Your pinned post will no longer appear at the top of your profile."}),Object(d.jsx)("button",{className:"modal-delete-btn",onClick:function(){o&&u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts/").concat(o),data:{pinned:!1}}).then((function(e){r(null),t()})).catch((function(e){console.log(e)})),a(!1)},style:{marginTop:"20px"},children:"Unpin post"})]})},pe=n(29),be=n.n(pe),fe=n(39),me=n(89),Oe=function(e){return new Promise((function(t,n){var s=new Image;s.addEventListener("load",(function(){return t(s)})),s.addEventListener("error",(function(e){return n(e)})),s.setAttribute("crossOrigin","anonymous"),s.src=e}))},ge=function(){var e=Object(fe.a)(be.a.mark((function e(t,n,s,c){var a,o,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return a=e.sent,o=document.createElement("canvas"),r=o.getContext("2d"),o.width=s,o.height=c,r.drawImage(a,n.x,n.y,n.width,n.height,0,0,o.width,o.height),e.abrupt("return",new Promise((function(e){o.toBlob((function(t){e(t)}),"image/jpeg")})));case 9:case"end":return e.stop()}}),e)})));return function(t,n,s,c){return e.apply(this,arguments)}}(),xe=function(e){var t=e.getBlob,n=e.inputImg,c=e.options,a=Object(s.useState)({x:0,y:0}),o=Object(i.a)(a,2),r=o[0],l=o[1],A=Object(s.useState)(1),u=Object(i.a)(A,2),h=u[0],j=u[1],p=function(){var e=Object(fe.a)(be.a.mark((function e(s,a){var o;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(n,a,c.x,c.y);case 2:o=e.sent,t(o);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"cropper",children:Object(d.jsx)(me.a,{image:n,crop:r,zoom:h,aspect:c.aspect,onCropChange:l,onCropComplete:p,onZoomChange:j,zoomSpeed:.5})})},ve=function(e){var t=e.setCurrentUser,n=e.options,c=Object(s.useState)(null),a=Object(i.a)(c,2),o=a[0],r=a[1],l=Object(s.useState)(""),A=Object(i.a)(l,2),h=A[0],j=A[1],p=Object(s.useContext)(x),b=p.setProfilePicModalIsOpen,f=p.setCoverPhotoModalIsOpen;return Object(d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),"user-img"===n.type){var s=new FormData;s.append("profilePic",o),u()({method:"post",data:s,withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/profilePicture"),headers:{contentType:!1,processData:!1}}).then((function(e){t(e.data),b(!1)})).catch((function(e){console.log(e)}))}else if("cover-img"===n.type){var c=new FormData;c.append("coverPic",o),u()({method:"post",data:c,withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/coverPhoto"),headers:{contentType:!1,processData:!1}}).then((function(e){t(e.data),f(!1)})).catch((function(e){console.log(e)}))}},children:[Object(d.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.addEventListener("load",(function(){j(n.result)}),!1),t&&n.readAsDataURL(t)}}),Object(d.jsx)("p",{className:"crop-instructions",children:"Select image file then drag and zoom to crop"}),h&&Object(d.jsx)(xe,{getBlob:function(e){r(e)},inputImg:h,options:n}),Object(d.jsx)("button",{type:"submit",className:"image-submit-btn",disabled:null===o,style:{cursor:null===o?"not-allowed":"pointer"},children:"Submit"})]})},Ce=function(e){var t=e.setCurrentUser,n=Object(s.useContext)(x),c=n.profilePicModalIsOpen,a=n.setProfilePicModalIsOpen;return Object(d.jsx)(X.a,{style:ee,isOpen:c,closeTimeoutMS:300,onRequestClose:function(){return a(!1)},children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)("h2",{className:"main-content-heading",children:"Upload profile picture"}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return a(!1)}})})]}),Object(d.jsx)(ve,{setCurrentUser:t,options:{x:150,y:150,type:"user-img",aspect:1}})]})})},Ne=function(e){var t=e.setCurrentUser,n=Object(s.useContext)(x),c=n.coverPhotoModalIsOpen,a=n.setCoverPhotoModalIsOpen;return Object(d.jsx)(X.a,{style:ee,isOpen:c,closeTimeoutMS:300,onRequestClose:function(){return a(!1)},children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)("h2",{className:"main-content-heading",children:"Upload cover photo"}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return a(!1)}})})]}),Object(d.jsx)(ve,{setCurrentUser:t,options:{x:600,y:180,type:"cover-img",aspect:10/3}})]})})},ye=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(s.useState)(t.description?t.description:""),a=Object(i.a)(c,2),o=a[0],r=a[1],l=Object(s.useContext)(x),A=l.editDescriptionModalIsOpen,h=l.setEditDescriptionModalIsOpen,j=function(e){var t=document.querySelector("#edit-description-textarea");t.style.height="auto",t.style.height=t.scrollHeight+"px"};Object(s.useEffect)((function(){A&&setTimeout((function(){j()}),0)}),[A]),Object(s.useEffect)((function(){A&&setTimeout((function(){var e=document.querySelector("#edit-description-textarea");e.focus(),e.setSelectionRange(e.value.length,e.value.length)}),0)}),[A]);return Object(d.jsx)(X.a,{style:ee,isOpen:A,closeTimeoutMS:300,onRequestClose:function(){return h(!1)},children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)("h2",{className:"main-content-heading",children:"Edit profile description"}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return h(!1)}})})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("textarea",{placeholder:"Add a profile description..",id:"edit-description-textarea",spellCheck:!1,onInput:j,value:o,onChange:function(e){return r(e.target.value)},maxLength:"100",style:{height:"auto"},onLoad:function(e){return console.log("load")}}),Object(d.jsxs)("div",{className:"modal-buttons",children:[Object(d.jsx)("button",{className:"follow-btn",style:{marginLeft:"0px"},onClick:function(){var e=o.trim();u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/description"),data:{description:e}}).then((function(e){n(e.data),h(!1)})).catch((function(e){console.log(e)}))},children:"Save"}),Object(d.jsx)("button",{className:"follow-btn",onClick:function(){return h(!1)},children:"Cancel"})]})]})]})})},we=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(s.useContext)(x),o=c.setProfilePicModalIsOpen,r=c.setCoverPhotoModalIsOpen,A=Object(l.i)().username,h=Object(s.useState)(null),j=Object(i.a)(h,2),p=j[0],b=j[1],f=Object(s.useState)([]),m=Object(i.a)(f,2),O=m[0],g=m[1],v=Object(s.useState)([]),C=Object(i.a)(v,2),N=C[0],y=C[1],w=Object(s.useState)([]),E=Object(i.a)(w,2),I=E[0],S=E[1],U=Object(s.useState)(!1),k=Object(i.a)(U,2),B=k[0],D=k[1],L=Object(s.useState)("Posts"),z=Object(i.a)(L,2),M=z[0],R=z[1],F=Object(s.useState)(!1),T=Object(i.a)(F,2),X=T[0],H=T[1],K=Object(s.useState)(null),W=Object(i.a)(K,2),G=W[0],Z=W[1],$=Object(s.useState)(null),ee=Object(i.a)($,2),ne=ee[0],se=ee[1],ce=Object(s.useState)(0),ae=Object(i.a)(ce,2),oe=ae[0],Ae=ae[1],ue=Object(s.useState)(0),pe=Object(i.a)(ue,2),be=pe[0],fe=pe[1],me=Object(s.useState)(1),Oe=Object(i.a)(me,2),ge=Oe[0],xe=Oe[1],ve=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/profile/").concat(A)}).then((function(e){H(!1),b(e.data),e.data.followers&&Ae(e.data.followers.length),e.data.following&&fe(e.data.following.length),t.following&&t.following.includes(e.data._id)&&D(!0)})).catch((function(e){H(!0)}))},we=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/posts"),params:{author:p._id}}).then((function(e){if(e.data.length>0&&void 0===e.data[0].author.firstName)return alert("author data not populated ");var t=e.data.filter((function(e){return void 0===e.replyTo&&!0!==e.pinned})),n=e.data.filter((function(e){return void 0!==e.replyTo})),s=e.data.filter((function(e){return!0===e.pinned}));g(t),y(n),S(s)})).catch((function(e){console.log(e),e.response&&401==e.response.status&&window.location.reload()}))},Ee=Object(s.useState)(!1),Ie=Object(i.a)(Ee,2),Se=Ie[0],Ue=Ie[1];Object(s.useEffect)((function(){H(!1),Ue(!0),ve()}),[A]),Object(s.useEffect)((function(){ve()}),[t]),Object(s.useEffect)((function(){null!==p&&(Se&&(g([]),y([]),S([]),Ue(!1)),we())}),[p]);var ke=function(){xe((function(e){return e+1}))},Pe=O.slice(0,20*ge).map((function(e){return Object(d.jsx)(_,{postData:e,currentUser:t,forceUpdate:we,setReplyComment:Z,setDeleteComment:se,showPin:A===t.username},Object(re.a)())})),Qe=N.slice(0,20*ge).map((function(e){return Object(d.jsx)(_,{postData:e,currentUser:t,forceUpdate:we,setReplyComment:Z,setDeleteComment:se},Object(re.a)())})),Be=I.map((function(e){return Object(d.jsx)(_,{postData:e,currentUser:t,forceUpdate:we,setReplyComment:Z,setDeleteComment:se,showPin:A===t.username,showPinHeading:!0},Object(re.a)())})),De={};p&&p.goldenName&&(De.color="rgb(240, 173, 1)");var Le="",ze="";return null!==G&&void 0!==G&&(G.author.username===t.username?(Le="Reply to... yourself?",ze="Replying to yourself huh? You must have a lot of friends..."):(Le="Reply to ".concat(G.author.username),ze="Give ".concat(G.author.username," a piece of your mind.."))),Object(d.jsxs)("div",{children:[null!==p&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ie,{currentUser:t,setCurrentUser:n,replyComment:G,replyHeading:Le,replyTextPlaceholder:ze,getPost:we}),Object(d.jsx)(te,{deleteComment:ne,deletePost:function(e){le(e,we)}}),Object(d.jsx)(Ce,{setCurrentUser:n}),Object(d.jsx)(Ne,{setCurrentUser:n}),Object(d.jsx)(he,{getProfilePosts:we}),Object(d.jsx)(je,{getProfilePosts:we}),Object(d.jsx)(ye,{currentUser:t,setCurrentUser:n}),Object(d.jsxs)("div",{className:"profile-header-container",children:[Object(d.jsxs)("div",{className:"cover-photo-container ".concat(p&&p.coverPhoto?"":"blue"),children:[Object(d.jsxs)("div",{className:"cover-photo-img-container",children:[p&&p.coverPhoto&&Object(d.jsx)("img",{src:"https://fathomless-depths-30026.herokuapp.com"+p.coverPhoto}),p&&p._id===t._id&&Object(d.jsx)("button",{className:"cover-pic-btn",onClick:function(e){return r(!0)},children:Object(d.jsx)(V.a,{})})]}),Object(d.jsxs)("div",{className:"user-image-container",children:[Object(d.jsx)("img",{className:p._id===t._id?"profile-img-fade":"",src:"https://fathomless-depths-30026.herokuapp.com"+p.profilePic,alt:"profile pic"}),p&&p._id===t._id&&Object(d.jsx)("button",{className:"profile-pic-btn",onClick:function(e){return o(!0)},children:Object(d.jsx)(V.a,{})})]})]}),Object(d.jsx)("div",{className:"profile-btns-container",children:p._id!==t._id&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(a.b,{to:"/messages/".concat(p._id),children:Object(d.jsx)(P.c,{})}),Object(d.jsx)("button",{className:B?"follow-btn following":"follow-btn",onClick:function(){u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/").concat(p._id,"/follow")}).then((function(e){n(e.data),e.data.following&&e.data.following.includes(p._id)?(D(!0),Ae((function(e){return e+1})),Y.emitNotification(p._id,t._id)):(D(!1),Ae((function(e){return e-1})))})).catch((function(e){console.log(e)}))},children:B?"Stalking":"Stalk"})]})}),Object(d.jsxs)("div",{className:"user-details-container",children:[Object(d.jsx)("span",{className:"display-name",style:De,children:"".concat(p.firstName," ").concat(p.lastName)}),Object(d.jsx)("span",{className:"username",children:"@".concat(p.username)}),Object(d.jsxs)("div",{className:"followers-container",children:[Object(d.jsxs)(a.b,{to:"".concat(p.username,"/following"),children:[Object(d.jsx)("span",{className:"value",children:be}),Object(d.jsx)("span",{children:"Stalking"})]}),Object(d.jsxs)(a.b,{to:"".concat(p.username,"/followers"),children:[Object(d.jsx)("span",{className:"value",children:oe}),Object(d.jsx)("span",{children:"Stalker".concat(1===oe?"":"s")})]})]}),Object(d.jsx)(de,{currentUser:t,profileUser:p})]})]}),t._id===p._id&&Object(d.jsx)("div",{className:"post-form-profile-container",children:Object(d.jsx)(J,{currentUser:t,forceUpdate:we,setCurrentUser:n,textPlaceholder:"Hey ".concat(t.firstName,", what's going on?")})}),Object(d.jsxs)("div",{className:"tabs-container",children:[Object(d.jsx)("div",{className:"tab ".concat("Posts"===M?"active":""),onClick:function(){R("Posts")},children:"Posts"}),Object(d.jsx)("div",{className:"tab ".concat("Replies"===M?"active":""),onClick:function(){R("Replies")},children:"Replies"})]}),I.length>0&&"Posts"===M&&Object(d.jsx)("div",{className:"posts-container",style:{borderBottom:"6px solid #3a3a3a"},children:"Posts"==M?Be:""}),Object(d.jsx)("div",{className:"posts-container",children:"Posts"==M?Object(d.jsx)(q.a,{dataLength:20*ge,next:ke,hasMore:O.length>20*ge,scrollThreshold:.9,children:Pe}):Object(d.jsx)(q.a,{dataLength:20*ge,next:ke,hasMore:N.length>20*ge,scrollThreshold:.9,children:Qe})})]}),X&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("h2",{children:["User ",A," not found"]}),Object(d.jsx)(Q.a,{style:{fontSize:"50px",marginTop:"15px"}})]})]})},Ee=n(23),Ie=function(e){var t=e.currentUser,n=e.user,c=e.showFollowBtn,o=e.setCurrentUser,r=e.getUserData,l=e.makeSmall,A=e.isSidebar,h=e.addToChat,j=Object(s.useState)(t.following.includes(n._id)),p=Object(i.a)(j,2),b=p[0],f=p[1],m=Object(s.useContext)(C),O=m.usersFollowing,g=m.setUsersFollowing;Object(s.useEffect)((function(){return function(){f(t.following.includes(n._id))}}),[]);var x={};n&&n.goldenName&&(x.color="goldenrod");var v=null;return c&&n._id!==t._id&&(v=Object(d.jsx)("div",{className:"follow-btn-container",children:Object(d.jsx)("button",{className:b?"follow-btn following":"follow-btn",onClick:function(){u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/").concat(n._id,"/follow")}).then((function(e){if(o(e.data),f(e.data.following.includes(n._id)),r(),A){var t=Object(Ee.a)(O);t.push(n),t.sort((function(e,t){return e.firstName.toLowerCase()+e.lastName.toLowerCase()>t.firstName.toLowerCase()+t.lastName.toLowerCase()?1:-1}));var s=new Set;t=t.filter((function(e){var t=s.has(e._id);return s.add(e._id),!t})),g(t)}})).catch((function(e){console.log(e)}))},children:b?"Stalking":"Stalk"})})),Object(d.jsxs)("div",{className:"user-preview",onClick:function(){null!==h&&h(n)},style:{cursor:null!==h?"pointer":"auto"},children:[!l&&Object(d.jsx)("div",{className:"user-image-container",children:Object(d.jsx)("img",{src:"https://fathomless-depths-30026.herokuapp.com"+n.profilePic,alt:"user profile picture"})}),Object(d.jsx)("div",{className:"user-details-container",style:l?{paddingLeft:"0",paddingRight:"0"}:{},children:Object(d.jsxs)("div",{className:"header",children:[null===h&&Object(d.jsx)(a.b,{to:"/profile/".concat(n.username),style:x,children:"".concat(n.firstName," ").concat(n.lastName)}),null!==h&&Object(d.jsx)(a.b,{to:"/messages/new",style:x,children:"".concat(n.firstName," ").concat(n.lastName)}),l&&Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"username",style:l?{marginLeft:"0"}:{},children:"@".concat(n.username)})]})}),c&&v]})};Ie.defaultProps={showFollowBtn:!0,makeSmall:!1,isSidebar:!1,addToChat:null};var Se=Ie,Ue=function(e){var t=e.currentUser,n=e.setCurrentUser,c=e.selectedTab,o=Object(l.i)().username,r=Object(s.useState)(c),A=Object(i.a)(r,2),h=A[0],j=A[1],p=Object(s.useState)([]),b=Object(i.a)(p,2),f=b[0],m=b[1],O=Object(s.useContext)(C),g=O.usersFollowing,x=O.setUsersFollowing,v=Object(s.useState)([]),N=Object(i.a)(v,2),y=N[0],w=N[1],E=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/").concat(o,"/followers")}).then((function(e){m(e.data.followers.sort((function(e,t){return e.firstName.toLowerCase()+e.lastName.toLowerCase()>t.firstName.toLowerCase()+t.lastName.toLowerCase()?1:-1}))),x(e.data.following.sort((function(e,t){return e.firstName.toLowerCase()+e.lastName.toLowerCase()>t.firstName.toLowerCase()+t.lastName.toLowerCase()?1:-1}))),w(e.data)})).catch((function(e){console.log(e)}))},I=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/").concat(o,"/followers")}).then((function(e){w(e.data)})).catch((function(e){console.log(e)}))};Object(s.useEffect)((function(){y.followers?m(y.followers.sort((function(e,t){return e.firstName+e.lastName>t.firstName+t.lastName?1:-1}))):m([]),y.following?x(y.following.sort((function(e,t){return e.firstName.toLowerCase()+e.lastName.toLowerCase()>t.firstName.toLowerCase()+t.lastName.toLowerCase()?1:-1}))):x([])}),[h]),Object(s.useEffect)((function(){E()}),[]),Object(s.useEffect)((function(){I()}),[t]);var S=f.map((function(e){return Object(d.jsx)(Se,{currentUser:t,user:e,setCurrentUser:n,getProfileData:E,getUserData:I},Object(re.a)())})),U=g.map((function(e){return Object(d.jsx)(Se,{currentUser:t,user:e,setCurrentUser:n,getUserData:I},Object(re.a)())}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(a.b,{to:"/profile/".concat(o),style:{color:"white",textDecoration:"none"},children:Object(d.jsx)("h1",{className:"main-content-heading",children:o})}),Object(d.jsxs)("div",{className:"tabs-container",children:[Object(d.jsx)("div",{className:"tab ".concat("Following"===h?"active":""),onClick:function(){j("Following")},children:"Stalking"}),Object(d.jsx)("div",{className:"tab ".concat("Followers"===h?"active":""),onClick:function(){j("Followers")},children:"Stalkers"})]}),f.length>0&&"Followers"===h&&S,g.length>0&&"Following"===h&&U]})};Ue.defaultProps={selectedTab:"Following"};var ke=Ue,Pe=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(s.useState)("Posts"),a=Object(i.a)(c,2),o=a[0],r=a[1],l=Object(s.useState)(""),A=Object(i.a)(l,2),h=A[0],j=A[1],p=Object(s.useState)(!1),b=Object(i.a)(p,2),f=b[0],m=b[1],O=Object(s.useState)(null),g=Object(i.a)(O,2),x=g[0],v=g[1],C=Object(s.useState)(null),N=Object(i.a)(C,2),y=N[0],w=N[1],E=Object(s.useState)([]),I=Object(i.a)(E,2),U=I[0],P=I[1],Q=Object(s.useState)([]),B=Object(i.a)(Q,2),D=B[0],L=B[1],z=Object(s.useState)(!1),M=Object(i.a)(z,2),R=M[0],F=M[1],T=Object(s.useState)(!1),X=Object(i.a)(T,2),q=X[0],Y=X[1];Object(s.useEffect)((function(){var e;return""!==h.trim()?e=setTimeout((function(){H()}),900):(L([]),P([])),function(){clearTimeout(e)}}),[h]);var H=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&m(!0),u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/search"),params:{search:h.trim()}}).then((function(e){P(e.data.posts),L(e.data.users.sort((function(e,t){return e.firstName.toLowerCase()+e.lastName.toLowerCase()>t.firstName.toLowerCase()+t.lastName.toLowerCase()?1:-1}))),m(!1),0===e.data.posts.length?F(!0):F(!1),0===e.data.users.length?Y(!0):Y(!1)})).catch((function(e){console.log(e),m(!1)}))},J=U.map((function(e){return Object(d.jsx)(_,{postData:e,currentUser:t,forceUpdate:function(){return H(!1)},setReplyComment:v,setDeleteComment:w},Object(re.a)())})),V=D.map((function(e){return Object(d.jsx)(Se,{currentUser:t,user:e,setCurrentUser:n,getUserData:function(){return H(!1)}},Object(re.a)())})),K="",W="";null!==x&&void 0!==x&&(x.author.username===t.username?(K="Reply to... yourself?",W="Replying to yourself huh? You must have a lot of friends..."):(K="Reply to ".concat(x.author.username),W="Give ".concat(x.author.username," a piece of your mind..")));var G={marginTop:"20px",fontSize:"16px"};return Object(d.jsxs)("div",{style:{maxWidth:"100%"},children:[Object(d.jsx)(ie,{currentUser:t,setCurrentUser:n,replyComment:x,replyHeading:K,replyTextPlaceholder:W,getPost:H}),Object(d.jsx)(te,{deleteComment:y,deletePost:function(e){le(e,H)}}),Object(d.jsx)("h1",{className:"main-content-heading",children:"Search lifeinvader"}),Object(d.jsxs)("div",{className:"search-container",children:[f?Object(d.jsx)(S.a,{className:"spinner"}):Object(d.jsx)(k.d,{}),Object(d.jsx)("input",{autoComplete:"off",spellCheck:"false",type:"text",value:h,id:"search-box",onChange:function(e){return j(e.target.value)},placeholder:"Search ".concat("Posts"===o?"posts":"users")})]}),Object(d.jsxs)("div",{className:"tabs-container",children:[Object(d.jsx)("div",{className:"tab ".concat("Posts"===o?"active":""),onClick:function(){r("Posts")},children:"Posts"}),Object(d.jsx)("div",{className:"tab ".concat("Users"===o?"active":""),onClick:function(){r("Users")},children:"Users"})]}),U.length>0&&"Posts"===o&&J,D.length>0&&"Users"===o&&V,R&&"Posts"===o&&""!==h&&!f&&Object(d.jsx)("h2",{style:G,children:"No posts found"}),q&&"Users"===o&&""!==h&&!f&&Object(d.jsx)("h2",{style:G,children:"No users found"})]})},Qe=function(){var e=Object(s.useContext)(x),t=e.buyNowModalIsOpen,n=e.setBuyNowModalIsOpen;return Object(d.jsxs)(X.a,{style:ee,isOpen:t,closeTimeoutMS:300,onRequestClose:function(){return n(!1)},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(d.jsx)("h2",{className:"main-content-heading",style:{marginRight:"auto",marginBottom:"0px"},children:"Purchase successful"}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return n(!1)}})})]}),Object(d.jsx)("button",{className:"modal-delete-btn",onClick:function(){return n(!1)},style:{marginTop:"20px"},children:"OK"})]})},Be=function(){var e=Object(s.useContext)(x),t=e.noCoinsModalIsOpen,n=e.setNoCoinsModalIsOpen;return Object(d.jsxs)(X.a,{style:ee,isOpen:t,closeTimeoutMS:300,onRequestClose:function(){return n(!1)},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(d.jsx)("h2",{className:"main-content-heading",style:{marginRight:"auto",marginBottom:"0px"},children:"You're all out of coins!"}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return n(!1)}})})]}),Object(d.jsxs)("p",{style:{fontSize:"16px",marginTop:"10px"},children:["We hope you have enjoyed your generous allowance of free lifeinvader coins. You have no coins remaining and must purchase more to continue participating on lifeinvader."," "]}),Object(d.jsx)("button",{className:"modal-delete-btn",onClick:function(){return n(!1)},style:{marginTop:"20px"},children:"Oh no!"})]})},De=n.p+"static/media/lifeinvadercoin.f4507299.png",Le=function(e){var t=e.currentUser,n=e.setCurrentUser,c=e.popup,a=Object(s.useContext)(x),o=a.setBuyNowModalIsOpen,r=a.setNoCoinsModalIsOpen,l=Object(s.useState)(t.coins?t.coins:0),A=Object(i.a)(l,2),h=A[0],j=A[1];Object(s.useEffect)((function(){!0===c&&0===h&&setTimeout((function(){r(!0)}),0)}),[]);var p=function(e){o(!0),u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/shop/").concat(h+e)}).then((function(t){n(t.data),j((function(t){return t+e}))})).catch((function(e){console.log(e)}))};return Object(d.jsxs)("div",{children:[Object(d.jsx)(Qe,{}),Object(d.jsx)(Be,{}),Object(d.jsx)("h1",{className:"main-content-heading",children:"lifeinvader store"}),Object(d.jsxs)("div",{className:"store-description",children:[Object(d.jsx)("h2",{children:"lifeinvader coins"}),Object(d.jsx)("p",{children:"Purchase lifeinvader coins to make posts and comments. Every post and comment costs 1 lifeinvader coin."}),Object(d.jsx)("p",{children:"You currently have ".concat(h," lifeinvader coin").concat(1===h?"":"s",".")}),Object(d.jsx)("p",{className:"disclaimer",children:"Note: This is not a real store and is just for fun. Clicking Buy now will add the coins to your account."})]}),Object(d.jsxs)("div",{className:"shop-items-container",children:[Object(d.jsxs)("div",{className:"shop-item",children:[Object(d.jsxs)("div",{className:"shop-item-card",children:[Object(d.jsx)("div",{className:"shop-img-container",children:Object(d.jsx)("img",{src:De,alt:"lifeinvader coin image"})}),Object(d.jsx)("div",{className:"coin-amount",children:"10 coins"})]}),Object(d.jsxs)("div",{className:"shop-item-description",children:[Object(d.jsx)("div",{className:"shop-item-price",children:"Only $8.99!"}),Object(d.jsx)("button",{className:"btn btn-fill btn-buy",onClick:function(){return p(10)},children:"Buy now"})]})]}),Object(d.jsxs)("div",{className:"shop-item",children:[Object(d.jsxs)("div",{className:"shop-item-card",children:[Object(d.jsx)("div",{className:"shop-img-container",children:Object(d.jsx)("img",{src:De,alt:"lifeinvader coin image"})}),Object(d.jsx)("div",{className:"coin-amount",children:"50 coins"})]}),Object(d.jsxs)("div",{className:"shop-item-description",children:[Object(d.jsx)("div",{className:"shop-item-price",children:"Only $42.99!"}),Object(d.jsx)("button",{className:"btn btn-fill btn-buy",onClick:function(){return p(50)},children:"Buy now"})]})]}),Object(d.jsxs)("div",{className:"shop-item",children:[Object(d.jsxs)("div",{className:"shop-item-card",children:[Object(d.jsx)("div",{className:"shop-img-container",children:Object(d.jsx)("img",{src:De,alt:"lifeinvader coin image"})}),Object(d.jsx)("div",{className:"coin-amount",children:"250 coins"})]}),Object(d.jsxs)("div",{className:"shop-item-description",children:[Object(d.jsx)("div",{className:"shop-item-price",children:"Only $199.99!"}),Object(d.jsx)("button",{className:"btn btn-fill btn-buy",onClick:function(){return p(250)},children:"Buy now"})]})]})]})]})};Le.defaultProps={popup:!1};var ze=Le,Me=function(e){var t=e.chat,n=e.currentUser,s=Object(l.g)(),c="New conversation";void 0!=t.lastMessage&&(c="".concat(t.lastMessage.sender.firstName," ").concat(t.lastMessage.sender.lastName,": ").concat(t.lastMessage.content),t.lastMessage.sender._id===n._id&&(c="You: ".concat(t.lastMessage.content)));var a=function(e){return 1===e.length?e:e.filter((function(e){return e._id!==n._id}))},o=function(e){return e&&e.profilePic?Object(d.jsx)("img",{src:"https://fathomless-depths-30026.herokuapp.com"+e.profilePic,alt:"pic"}):console.log("no chat user image")},r=!t.lastMessage||t.lastMessage.seenBy.includes(n._id)?"":"active";return Object(d.jsxs)("div",{className:"chat-list-item ".concat(r),onClick:function(e){return n=t._id,void s.push("/messages/".concat(n));var n},children:[function(){var e=a(t.users),n=o(e[0]);if(e.length>1){var s=o(e[1]);return Object(d.jsxs)("div",{className:"group-chat-image results-image-container",children:[n,s]})}return Object(d.jsx)("div",{className:"results-image-container",children:n})}(),Object(d.jsxs)("div",{className:"chat-list-item-details ellipsis",children:[Object(d.jsx)("span",{className:"heading ellipsis",children:t.chatName?t.chatName:a(t.users).map((function(e){return"".concat(e.firstName," ").concat(e.lastName)})).join(", ")}),Object(d.jsx)("span",{className:"subtext ellipsis",children:c})]})]})},Re=function(e){var t=e.currentUser,n=Object(l.g)(),c=Object(s.useState)([]),a=Object(i.a)(c,2),o=a[0],r=a[1],A=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/chats")}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))};Object(s.useEffect)((function(){A()}),[]),Object(s.useEffect)((function(){Y.socket.on("message recieved",(function(e){var t=Y.messageReceived(e);t&&t.onInboxPage&&A()}))}),[]);var h=o.map((function(e){return Object(d.jsx)(Me,{chat:e,currentUser:t},Object(re.a)())}));return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)("h1",{className:"main-content-heading",children:"Inbox"}),Object(d.jsx)(k.c,{className:"blue-on-hover",style:{fontSize:"24px",cursor:"pointer"},onClick:function(){n.push("/messages/new")}})]}),o.length>0&&h]})},Fe=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(s.useState)(""),a=Object(i.a)(c,2),o=a[0],r=a[1],A=Object(s.useState)(!1),h=Object(i.a)(A,2),j=h[0],p=h[1],b=Object(s.useState)([]),f=Object(i.a)(b,2),m=f[0],O=f[1],g=Object(s.useState)([]),x=Object(i.a)(g,2),v=x[0],C=x[1],N=Object(l.g)(),y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&p(!0),u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/search"),params:{search:o.trim()}}).then((function(e){O(e.data.users.sort((function(e,t){return e.firstName.toLowerCase()+e.lastName.toLowerCase()>t.firstName.toLowerCase()+t.lastName.toLowerCase()?1:-1}))),p(!1)})).catch((function(e){console.log(e),p(!1)}))};Object(s.useEffect)((function(){var e;return""!==o.trim()?e=setTimeout((function(){y()}),900):O([]),function(){clearTimeout(e)}}),[o]);var w=function(e){C((function(t){return[].concat(Object(Ee.a)(t),[e])})),r(""),document.getElementById("user-search-textbox").focus()},E=m.filter((function(e){return e._id!==t._id})).filter((function(e){return!v.some((function(t){return t._id===e._id}))})).map((function(e){return Object(d.jsx)(Se,{currentUser:t,user:e,setCurrentUser:n,getUserData:function(){return y(!1)},addToChat:w,showFollowBtn:!1},Object(re.a)())})),I=v.map((function(e){return Object(d.jsx)("p",{className:"user-added-to-chat",onClick:function(t){return function(e){var t=Object(Ee.a)(v);t=t.filter((function(t){return t._id!==e})),C(t)}(e._id)},children:"".concat(e.firstName," ").concat(e.lastName)},Object(re.a)())}));return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"main-content-heading",children:"New Message"}),Object(d.jsxs)("div",{className:"chat-page-container",children:[Object(d.jsxs)("div",{className:"chat-title-bar",children:[!j&&Object(d.jsx)("label",{htmlFor:"user-search-textbox",children:"To:"}),j&&Object(d.jsx)(S.a,{className:"spinner",style:{marginRight:"16px"}}),Object(d.jsx)("div",{id:"selected-users",children:Object(d.jsx)("input",{autoComplete:"off",type:"text",placeholder:"Enter message recipients",id:"user-search-textbox",value:o,onChange:function(e){return r(e.target.value)},spellCheck:!1})})]}),v.length>0&&Object(d.jsx)("div",{children:I}),Object(d.jsx)("div",{className:"results-container",children:m.length>0&&E}),Object(d.jsx)("button",{id:"create-chat-btn",className:"follow-btn",disabled:0===v.length,onClick:function(){var e=JSON.stringify(v);u()({method:"post",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/chats"),data:{users:e}}).then((function(e){N.push("/messages/".concat(e.data._id))})).catch((function(e){console.log(e)}))},children:"Create new chat"})]})]})},Te=function(e){var t=e.chatId,n=e.refresh,c=Object(s.useContext)(x),a=c.editChatNameModalIsOpen,o=c.setEditChatNameModalIsOpen,r=Object(s.useState)(""),l=Object(i.a)(r,2),A=l[0],h=l[1];return Object(s.useEffect)((function(){a&&setTimeout((function(){document.querySelector("#change-chat-name-textbox").focus()}),0)}),[a]),Object(d.jsxs)(X.a,{style:ee,isOpen:a,closeTimeoutMS:300,onRequestClose:function(){return o(!1)},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(d.jsx)("h2",{className:"main-content-heading",style:{marginRight:"auto",marginBottom:"0px"},children:"Edit chat name"}),Object(d.jsx)("span",{className:"close-modal-icon-wrapper",children:Object(d.jsx)(K.a,{style:{fontSize:"22px",cursor:"pointer"},onClick:function(){return o(!1)}})})]}),Object(d.jsx)("input",{value:A,type:"text",id:"change-chat-name-textbox",placeholder:"Enter new chat name",spellCheck:!1,autoComplete:"false",onChange:function(e){return h(e.target.value)}}),Object(d.jsx)("button",{className:"modal-delete-btn",onClick:function(){u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/chats/").concat(t),data:{chatName:A}}).then((function(e){n(),o(!1)})).catch((function(e){console.log(e),o(!1)}))},style:{marginTop:"20px"},children:"OK"})]})},Xe=function(){return Object(d.jsx)("div",{className:"typing-indicator-container",children:Object(d.jsxs)("div",{className:"typing-indicator",children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]})})},qe=n(48),Ye=n.n(qe),He=n(40),Je=n.n(He),Ve=function(e){var t=e.currentUser,n=Object(l.i)().id,c=Object(s.useContext)(y).setNumMessages,a=Object(s.useContext)(x).setEditChatNameModalIsOpen,o=Object(s.useState)(!1),r=Object(i.a)(o,2),A=r[0],h=r[1],j=Object(s.useState)(null),p=Object(i.a)(j,2),b=p[0],f=p[1],m=Object(s.useState)(null),O=Object(i.a)(m,2),g=O[0],v=O[1],C=Object(s.useState)([]),N=Object(i.a)(C,2),w=N[0],E=N[1],I=Object(s.useState)(""),U=Object(i.a)(I,2),k=U[0],P=U[1],Q=Object(s.useState)(null),D=Object(i.a)(Q,2),L=D[0],z=D[1],M=Object(s.useRef)(!0);Object(s.useEffect)((function(){M.current=!0,R(),ee()}),[n]),Object(s.useEffect)((function(){g&&(Y.socket.emit("join room",g._id),Y.socket.on("typing",(function(e){if(e===g._id)try{document.querySelector(".typing-indicator").style.display="flex"}catch(t){}})),Y.socket.on("stop typing",(function(){try{document.querySelector(".typing-indicator").style.display="none"}catch(e){}})),Y.socket.on("message recieved",(function(e){var t=Y.messageReceived(e);t&&t.onChatPage&&(z(t.newMessage),ee())})))}),[g]),Object(s.useEffect)((function(){M.current||E((function(e){return[].concat(Object(Ee.a)(e),[L])}))}),[L]);var R=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/chats/").concat(n)}).then((function(e){v(e.data.chat),f(!1)})).catch((function(e){console.log(e),f(!0)}))};Object(s.useEffect)((function(){g&&X()}),[g]);var F,T,X=function(){h(!0),u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/chats/").concat(g._id,"/messages")}).then((function(e){h(!1),E(e.data)})).catch((function(e){console.log(e),h(!1)}))},q=function(e){var t=document.querySelector("#message-input");t.style.height="38px",t.style.height=t.scrollHeight+"px"},H=function(e){return 1===e.length?e:e.filter((function(e){return e._id!==t._id}))},J=function(){k.trim().length>0&&(u()({method:"post",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/messages/"),data:{content:k.trim(),chatId:g._id}}).then((function(e){E((function(t){return[].concat(Object(Ee.a)(t),[e.data])})),P(""),q(),Y.connected&&Y.socket.emit("new message",e.data)})).catch((function(e){console.log(e),alert("Could not send message. Please try again.")})),Y.socket.emit("stop typing",g._id),G=!1)},K="",W=function(e,n,s){var c=e.sender._id===t._id,a=e.sender,o=a.firstName,r=a._id,i=(null!=n?n.sender._id:"")!==r,l=null,A=n?"":"very-last-msg",u=c?"message own-msg":"message not-own-msg";s!==r&&(u+=" first-msg",c||(l=Object(d.jsx)("span",{className:"sender-name",children:o})));var h=null;i&&(u+=" last-msg",h=Object(d.jsx)("img",{src:"https://fathomless-depths-30026.herokuapp.com"+a.profilePic,alt:"x"}));var j=null;return c||(j=Object(d.jsx)("div",{className:"img-container",children:h})),Object(d.jsxs)("li",{className:"".concat(u," ").concat(A),children:[j,Object(d.jsxs)("div",{className:"message-container",children:[null!==l&&g.isGroupChat&&l,Object(d.jsx)("span",{className:"message-body",children:e.content})]})]},Object(re.a)())},G=!1;Object(s.useEffect)((function(){if(!M.current&&""!=k)return Z(),function(){clearTimeout(T)}}),[k]);var Z=function(){if(Y.connected){G||(G=!0,Y.socket.emit("typing",g._id)),F=(new Date).getTime();T=setTimeout((function(){(new Date).getTime()-F>=3e3&&G&&(Y.socket.emit("stop typing",g._id),G=!1)}),3e3)}},_=w.map((function(e,t){return function(e,t,n){if(!e||!e._id)return console.log("cannot display invalid message");var s=W(e,w[t+1],n);return K=e.sender._id,s}(e,t,K)})),$=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.querySelector(".chat-messages"),n=t.scrollHeight;e?t.scrollTo({top:n,behavior:"smooth"}):t.scrollTo({top:n,behavior:"auto"})};Object(s.useEffect)((function(){w.length>0&&(M.current?($(),M.current=!1,document.querySelector(".chat-messages").style.visibility="visible"):$(!0))}),[w]);var ee=function(){u()({method:"put",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/chats/").concat(n,"/messages/read")}).then((function(e){B(c)})).catch((function(e){console.log(e)}))};return Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(d.jsx)(Te,{chatId:n,refresh:R}),!0===b&&Object(d.jsx)("p",{style:{fontSize:"16px"},children:"No chat found"}),!1===b&&Object(d.jsxs)("div",{className:"chat-page-container",children:[Object(d.jsxs)("div",{className:"chat-title-container",children:[null!=g&&function(e,t){if(e){var n=e.users.filter((function(e){return e._id!==t._id})),s=n.length-3;return n=n.slice(0,3),Object(d.jsxs)("div",{className:"chat-images-container",children:[s>0&&Object(d.jsx)("span",{className:"chat-user-extra-count",children:"+".concat(s)}),Object(Ee.a)(n).reverse().map((function(e){return Object(d.jsx)("img",{src:"https://fathomless-depths-30026.herokuapp.com"+e.profilePic},Object(re.a)())}))]})}}(g,t),Object(d.jsx)("span",{id:"chat-name",onClick:function(){g.isGroupChat&&a(!0)},style:g.isGroupChat?{}:{border:"1px solid transparent",cursor:"auto"},children:g.chatName?g.chatName:H(g.users).map((function(e){return"".concat(e.firstName," ").concat(e.lastName)})).join(", ")})]}),Object(d.jsx)("div",{className:"main-content-container main-content-container-chat",children:Object(d.jsxs)("div",{className:"chat-container",children:[A&&Object(d.jsx)("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderTop:"1px solid #3a3a3a"},children:Object(d.jsx)(S.a,{className:"spinner",style:{fontSize:"40px",color:"#1da1f2"}})}),!A&&Object(d.jsx)("ul",{className:"chat-messages",children:w.length>0&&_}),Object(d.jsx)(Xe,{}),Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("textarea",{className:"custom-scroll",id:"message-input",name:"message-input",placeholder:"Enter message...",spellCheck:!1,onInput:q,onChange:function(e){return P(e.target.value)},maxLength:500,onKeyDown:function(e){13!=e.keyCode||e.shiftKey||(J(),e.preventDefault())},value:k}),Object(d.jsx)("button",{className:"send-msg-btn",onClick:J,children:Object(d.jsx)(V.b,{})})]})]})})]})]})},Ke=n(85),We=n(86),Ge={markAsRead:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null!==e?"".concat("https://fathomless-depths-30026.herokuapp.com","/api/notifications/").concat(e,"/read"):"".concat("https://fathomless-depths-30026.herokuapp.com","/api/notifications/read");u()({method:"put",withCredentials:!0,url:n}).then((function(e){null!==t&&t()})).catch((function(e){return console.log(e)}))}},Ze=function(e){var t=e.notification,n=e.isPopup,c=t.userFrom,a=Object(l.g)(),o=Object(s.useContext)(y).setNumNotifications,r=Object(s.useContext)(E).setNotificationIsOpen,i=function(){t.read||Ge.markAsRead(t._id),D(o)},A=t.read?"":"active",u=n?"notification-item-popup":"";return Object(s.useEffect)((function(){if(n){var e=document.querySelector(".notification-item-popup");e&&e.classList.add("notification-item-popup-fade")}}),[]),Object(d.jsxs)("div",{className:"chat-list-item notification ".concat(A," ").concat(u),onClick:function(){i(),n&&r(!1),setTimeout((function(){i(),a.push(function(e){var t;return"share"===e.notificationType||"like"===e.notificationType||"reply"===e.notificationType?t="/post/".concat(e.entityId):"follow"===e.notificationType&&(t="/profile/".concat(e.userFrom.username)),t||"/notifications"}(t))}),0)},children:[Object(d.jsx)("div",{className:"results-image-container",children:Object(d.jsx)("img",{src:"https://fathomless-depths-30026.herokuapp.com"+c.profilePic,alt:"pic"})}),Object(d.jsx)("div",{className:"chat-list-item-details",children:Object(d.jsx)("span",{style:{wordBreak:"break-word"},children:function(e){if(!c.firstName)return console.log("userFrom not populated ");var t,n=c.fullName;return"share"===e.notificationType?t="".concat(n," shared your post"):"like"===e.notificationType?t="".concat(n," disliked your post"):"reply"===e.notificationType?t="".concat(n," replied to your post"):"follow"===e.notificationType&&(t="".concat(n," is stalking you")),"like"===e.notificationType&&e.userTo._id===e.userFrom._id&&(t="Congratulations, you disliked your own post"),"share"===e.notificationType&&e.userTo._id===e.userFrom._id&&(t="Congratulations, you shared your own post"),t||"Notification"}(t)})})]})};Ze.defaultProps={isPopup:!1};var _e=Ze,$e=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(null),o=Object(i.a)(a,2),r=o[0],l=o[1],A=Object(s.useContext)(y).setNumNotifications;Object(s.useEffect)((function(){h()}),[]),Object(s.useEffect)((function(){Y.socket.on("notification received",(function(){h()}))}),[]);var h=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/notifications/")}).then((function(e){c(e.data),0===e.data.length?l(!0):l(!1)})).catch((function(e){console.log(e)}))},j=n.map((function(e){return Object(d.jsx)(_e,{notification:e},Object(re.a)())}));return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",maxWidth:"100%"},children:[Object(d.jsx)("h1",{className:"main-content-heading",children:"Notifications"}),Object(d.jsxs)("div",{className:"notifications-heading-btns-container",children:[Object(d.jsx)(Ke.a,{className:"blue-on-hover",style:{fontSize:"24px",cursor:"pointer"},onClick:function(){Ge.markAsRead(null,h),D(A),setTimeout((function(){D(A)}),0)}}),Object(d.jsx)(We.a,{className:"blue-on-hover",style:{fontSize:"22px",cursor:"pointer",marginLeft:"16px"},onClick:function(){u()({method:"delete",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/notifications/")}).then((function(e){c([]),l(!0),D(A)})).catch((function(e){return console.log(e)}))}})]})]}),n.length>0&&j,r&&Object(d.jsx)("div",{children:Object(d.jsx)("p",{style:{fontSize:"16px"},children:"No notifications"})})]})},et=function(){var e=Object(l.g)();return Object(d.jsxs)("div",{style:{marginTop:"20px"},children:[Object(d.jsx)("h2",{className:"main-content-heading",children:"Welcome to lifeinvader!"}),Object(d.jsx)("p",{className:"paragraph-text",children:"Stalk other lifeinvader users to see their posts on the home page."}),Object(d.jsxs)("p",{className:"paragraph-text",children:["Check out"," ",Object(d.jsx)("span",{className:"text-link",onClick:function(){e.push("/profile/coolben")},children:"Ben's profile here"}),", or search for users from the"," ",Object(d.jsx)("span",{className:"text-link",onClick:function(){e.push("/search")},children:"search page."})]}),Object(d.jsx)("div",{className:"image-wrapper",style:{width:"60%",margin:"50px auto 0"},children:Object(d.jsx)("img",{src:O,alt:"logo",style:{width:"100%"}})})]})},tt=function(e){var t=e.currentUser,n=e.setCurrentUser,c=e.toggleDropdown,a=Object(l.h)(),o=Object(s.useContext)(x),r=o.setDeleteModalIsOpen,i=o.setModalIsOpen,A=o.setProfilePicModalIsOpen,u=o.setCoverPhotoModalIsOpen,h=o.setPinModalIsOpen,j=o.setUnPinModalIsOpen,p=o.setEditDescriptionModalIsOpen,b=o.setBuyNowModalIsOpen,f=o.setNoCoinsModalIsOpen,m=o.setEditChatNameModalIsOpen;return Object(s.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"}),c(!0)}),[a]),Object(s.useEffect)((function(){r(!1),i(!1),A(!1),u(!1),h(!1),j(!1),m(!1),p(!1),b(!1),f(!1)}),[a]),Object(d.jsx)("section",{className:"layout__main",children:Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/guest",children:Object(d.jsx)(et,{})}),Object(d.jsx)(l.b,{exact:!0,path:"/post/:id",children:Object(d.jsx)(ue,{currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/profile/:username",children:Object(d.jsx)(we,{currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/profile/:username/followers",children:Object(d.jsx)(ke,{selectedTab:"Followers",currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/profile/:username/following",children:Object(d.jsx)(ke,{selectedTab:"Following",currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/search",children:Object(d.jsx)(Pe,{currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/store",children:Object(d.jsx)(ze,{currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/store/nocoins",children:Object(d.jsx)(ze,{currentUser:t,setCurrentUser:n,popup:!0})}),Object(d.jsx)(l.b,{exact:!0,path:"/messages",children:Object(d.jsx)(Re,{currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/messages/new",children:Object(d.jsx)(Fe,{currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/messages/:id",children:Object(d.jsx)(Ve,{currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{exact:!0,path:"/notifications",children:Object(d.jsx)($e,{currentUser:t,setCurrentUser:n})}),Object(d.jsx)(l.b,{path:"/",children:Object(d.jsx)(Ae,{currentUser:t,setCurrentUser:n})})]})})},nt=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(s.useState)([]),a=Object(i.a)(c,2),o=a[0],r=a[1],A=Object(l.g)();Object(s.useEffect)((function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/users/suggestions")}).then((function(e){var t=e.data;t.length>3&&(t=t.slice(0,3)),t.sort((function(e,t){return e.followers.length<t.followers.length?1:-1})),r(t)})).catch((function(e){console.log(e)}))}),[t]);var h=o.map((function(e){return Object(d.jsx)(Se,{currentUser:t,user:e,setCurrentUser:n,getUserData:function(){return 1},makeSmall:!0,isSidebar:!0},Object(re.a)())}));return Object(d.jsx)("section",{className:"layout__right-sidebar-container",children:Object(d.jsxs)("div",{className:"layout__right-sidebar custom-scroll",children:[Object(d.jsx)("h1",{className:"main-content-heading",children:"Stalk these users"}),o.length>0&&h,0===o.length&&Object(d.jsxs)("p",{style:{fontSize:"16px",marginBottom:"20px"},children:["You're already stalking everyone!"," "]}),Object(d.jsxs)("div",{className:"ad-container",children:[Object(d.jsx)("h1",{className:"main-content-heading",style:{borderTop:"1px solid #3a3a3a",paddingTop:"20px"},children:"Special deals in the lifeinvader store are waiting for you!"}),Object(d.jsx)("button",{className:"btn btn-fill btn-block",onClick:function(){A.push("/store")},style:{marginBottom:"10px"},children:"Shop now!"})]})]})})},st=(n(162),function(e){var t=e.notification,n=Object(l.g)(),c=Object(s.useContext)(E).setNotificationIsOpen;Object(s.useEffect)((function(){var e=document.querySelector(".notification-item-popup");e&&e.classList.add("notification-item-popup-fade")}),[]);var a="".concat(t.sender.firstName," ").concat(t.sender.lastName,": ").concat(t.content);return Object(d.jsxs)("div",{className:"chat-list-item notification notification-item-popup active",onClick:function(){c(!1),n.push("/messages/".concat(t.chat._id))},children:[Object(d.jsx)("div",{className:"results-image-container",children:Object(d.jsx)("img",{src:"".concat("https://fathomless-depths-30026.herokuapp.com","/").concat(t.sender.profilePic),alt:""})}),Object(d.jsxs)("div",{className:"chat-list-item-details ellipsis",children:[Object(d.jsx)("span",{className:"heading ellipsis"}),Object(d.jsx)("span",{className:"subtext subtext-notification ellipsis",children:a})]})]})}),ct=function(){var e,t=Object(s.useContext)(E),n=t.currentNotification,c=t.currentChat,a=t.notificationIsOpen,o=t.setNotificationIsOpen;return n&&void 0!==n.notificationType&&(e=n.notificationType),Object(s.useEffect)((function(){var e=document.querySelector(".notification-item-popup");a?e&&e.classList.add("notification-item-popup-fade"):e&&e.classList.remove("notification-item-popup-fade")}),[a]),Object(s.useEffect)((function(){var e;return a&&(e=setTimeout((function(){o(!1)}),5e3)),function(){clearTimeout(e)}}),[n]),!n||"like"!==e&&"share"!==e&&"reply"!==e&&"follow"!==e?c&&"message"===e?Object(d.jsx)(st,{notification:c}):null:Object(d.jsx)(_e,{notification:n,isPopup:!0})};var at=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(s.useState)(!0),r=Object(i.a)(o,2),A=r[0],h=r[1],j=Object(l.g)(),p=Object(s.useContext)(y),b=(p.numMessages,p.setNumMessages),f=(p.numNotifications,p.setNumNotifications),m=Object(s.useContext)(E),O=m.setCurrentNotification,x=m.setCurrentChat,C=m.setNotificationIsOpen,w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.querySelector(".navbar-dropdown");e?t&&t.classList.remove("dropdown-active"):t&&t.classList.toggle("dropdown-active")};Object(s.useEffect)((function(){h(!0),Je.a.start(),u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/authenticate")}).then((function(e){void 0!==e.data.username&&c(e.data),h(!1),Je.a.done()})).catch((function(e){return console.log(e)}))}),[]);var I=function(){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/logout")}).then((function(e){c(null),localStorage.clear()}))};return Object(s.useEffect)((function(){n&&(Y.socket||(Y.socket=Ye()("".concat("https://fathomless-depths-30026.herokuapp.com"),{transports:["websocket"]})),Y.socket.emit("setup",n),Y.socket.on("connected",(function(){Y.connected=!0})),Y.socket.on("message recieved",(function(e){var t=Y.messageReceived(e);t&&!t.onChatPage&&u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/notifications/latest")}).then((function(t){C(!0),O(t.data),x(e),B(b)}))})),Y.socket.on("notification received",(function(e){u()({method:"get",withCredentials:!0,url:"".concat("https://fathomless-depths-30026.herokuapp.com","/api/notifications/latest")}).then((function(e){C(!0),O(e.data),D(f)}))})),Y.emitNotification=function(e,t){e!==t&&Y.socket.emit("notification received",e)})}),[n]),A?Object(d.jsx)(U,{}):null===n?Object(d.jsx)(g,{setCurrentUser:c}):Object(d.jsx)(v,{children:Object(d.jsx)(N,{children:Object(d.jsx)(a.a,{history:j,children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(L,{toggleDropdown:w}),Object(d.jsx)(z,{logOut:I,currentUser:n,toggleDropdown:w}),Object(d.jsx)("div",{className:"main-wrapper",children:Object(d.jsxs)("main",{className:"layout",children:[Object(d.jsx)(F,{logOut:I,currentUser:n}),Object(d.jsx)(tt,{currentUser:n,setCurrentUser:c,toggleDropdown:w}),Object(d.jsx)(nt,{currentUser:n,setCurrentUser:c}),Object(d.jsx)(ct,{currentUser:n})]})})]})})})})};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(a.a,{children:Object(d.jsx)(w,{children:Object(d.jsx)(I,{children:Object(d.jsx)(at,{})})})})}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.08b2c5e4.chunk.js.map