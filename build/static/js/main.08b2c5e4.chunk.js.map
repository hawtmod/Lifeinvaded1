{"version":3,"sources":["components/WelcomePage/WelcomeMain.js","utils/checkEmail.js","utils/checkUsername.js","components/WelcomePage/WelcomeRegister.js","components/WelcomePage/WelcomeLogin.js","images/logo-large.png","components/WelcomePage/Welcome.js","images/textlogo-large.png","components/Modals/ModalContext.js","components/MainPage/FollowingContext.js","components/MainPage/NotificationsContext.js","components/MainPage/NotificationsPopupContext.js","components/Loading.js","utils/getNumMessages.js","utils/getNumNotifications.js","components/MainPage/TopNav.js","components/MainPage/TopNavDropdown.js","images/logo-small.png","components/MainPage/LeftNav.js","sockets.js","components/MainPage/MainContent/CreatePostForm.js","utils/relativeTime.js","components/MainPage/MainContent/Post.js","components/Modals/modalStyle.js","components/Modals/DeletePostModal.js","components/ErrorBoundary.js","components/Modals/ReplyModal.js","utils/deletePostRequest.js","components/MainPage/MainContent/Home.js","components/MainPage/MainContent/ViewPost.js","components/MainPage/MainContent/ProfileDescription.js","components/Modals/PinModal.js","components/Modals/UnPinModal.js","utils/cropImage.js","components/MainPage/MainContent/ImageCropper.js","components/MainPage/MainContent/ImageUpload.js","components/Modals/ProfilePictureModal.js","components/Modals/CoverPhotoModal.js","components/Modals/EditDescriptionModal.js","components/MainPage/MainContent/ProfilePage.js","components/MainPage/MainContent/UserPreview.js","components/MainPage/MainContent/FollowerPage.js","components/MainPage/MainContent/SearchPage.js","components/Modals/BuyNowModal.js","components/Modals/NoCoinsModal.js","images/lifeinvadercoin.png","components/MainPage/MainContent/Store.js","components/MainPage/MainContent/Messages/ChatListItem.js","components/MainPage/MainContent/Messages/Inbox.js","components/MainPage/MainContent/Messages/NewMessage.js","components/Modals/EditChatNameModal.js","components/MainPage/MainContent/Messages/TypingIndicator.js","components/MainPage/MainContent/Messages/ChatPage.js","notifications.js","components/MainPage/MainContent/Notifications/NotificationItem.js","components/MainPage/MainContent/Notifications/NotificationsPage.js","components/MainPage/MainContent/GuestWelcome.js","components/MainPage/MainContent/MainContent.js","components/MainPage/RightSidebar.js","components/MainPage/MainContent/Notifications/ChatNotification.js","components/NotificationPopup.js","App.js","index.js"],"names":["WelcomeMain","setCurrentUser","history","useHistory","className","onClick","push","alert","checkEmail","email","RegExp","test","checkUsername","username","WelcomeRegister","useState","firstName","setFirstName","lastName","setLastName","setUsername","setEmail","password","setPassword","passwordConfirm","setPasswordConfirm","validationErrors","setValidationErrors","style","color","textDecoration","to","action","type","name","placeholder","value","onChange","e","target","required","preventDefault","errors","trim","length","isValidUsername","isValidEmail","axios","method","data","withCredentials","url","process","then","res","undefined","console","log","verticalAlign","map","err","WelcomeLogin","Welcome","src","logoIcon","alt","exact","path","ModalContext","createContext","ModalProvider","props","modalIsOpen","setModalIsOpen","deleteModalIsOpen","setDeleteModalIsOpen","profilePicModalIsOpen","setProfilePicModalIsOpen","coverPhotoModalIsOpen","setCoverPhotoModalIsOpen","editDescriptionModalIsOpen","setEditDescriptionModalIsOpen","pinModalIsOpen","setPinModalIsOpen","unPinModalIsOpen","setUnPinModalIsOpen","pinPostId","setPinPostId","buyNowModalIsOpen","setBuyNowModalIsOpen","noCoinsModalIsOpen","setNoCoinsModalIsOpen","editChatNameModalIsOpen","setEditChatNameModalIsOpen","Provider","children","FollowingContext","FollowingProvider","usersFollowing","setUsersFollowing","NotificationsContext","NotificationsProvider","numMessages","setNumMessages","numNotifications","setNumNotifications","NotificationsPopupContext","NotificationsPopupProvider","currentNotification","setCurrentNotification","currentChat","setCurrentChat","notificationIsOpen","setNotificationIsOpen","Loading","display","justifyContent","alignItems","height","fontSize","getNumMessages","setState","params","unreadOnly","catch","getNumNotifications","TopNav","toggleDropdown","useContext","iconStyles","cursor","useEffect","id","logOut","currentUser","LeftNav","iconStyle","location","useLocation","currentPage","pathname","document","querySelectorAll","forEach","el","classList","remove","homeLink","querySelector","profileLink","notificationsLink","messagesLink","searchLink","storeLink","add","includes","goToHomePage","marginBottom","sockets","messageReceived","newMessage","page","window","href","usersNotGroupChat","chat","isGroupChat","users","_id","isCorrectChatPage","groupChat","definitelyOnChatPage","urlSplit","split","onChatPage","onInboxPage","CreatePostForm","textPlaceholder","buttonText","isReply","replyComment","forceUpdate","postText","setPostText","profilePic","onInput","textarea","scrollHeight","maxLength","spellCheck","disabled","coins","payload","content","replyTo","emitNotification","author","response","status","reload","numCoins","defaultProps","setPosts","timeDifference","current","previous","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","Math","round","Post","postData","setReplyComment","setDeleteComment","allowComments","makeBig","isDeletable","showPin","showPinHeading","isCurrentUsersPost","isRepost","sharedPostData","repostedBy","isDisliked","dislikes","isShared","sharedBy","isCommentedOn","replies","some","reply","postImage","userFullName","timestamp","relativeTime","Date","createdAt","myPostElement","useRef","usePersistedState","key","defaultValue","React","localStorage","getItem","state","setItem","truncatePost","setTruncatePost","isTruncated","setIsTruncated","toggleTruncatedPost","stopPropagation","toggle","maxScrollHeight","parseInt","buttonIconStyle","commentIconStyle","commentActiveStyle","dislikeActiveStyle","shareActiveStyle","displayNameStyle","goldenName","tagName","marginRight","transform","pinned","admin","marginLeft","whiteSpace","ref","openReplyModal","option","modalStyle","overlay","backgroundColor","zIndex","maxWidth","top","left","right","borderRadius","border","DeletePostModal","deleteComment","deletePost","isOpen","closeTimeoutMS","onRequestClose","ErrorBoundary","hasError","error","info","this","Component","ReplyModal","replyHeading","replyTextPlaceholder","getPost","setTimeout","focus","uuidv4","deletePostRequest","rerenderFunction","Modal","setAppElement","Home","posts","noPosts","setNoPosts","isInitialMount","numPages","setNumPages","getPosts","followingPostsOnly","updatedReplyComment","filter","post","postItems","slice","noPostsToShow","marginTop","width","margin","dataLength","next","x","hasMore","scrollThreshold","ViewPost","useParams","setPost","replyingTo","setReplyingTo","postReplies","setPostReplies","showError","setShowError","postItem","post_","postReplyItems","reverse","replyToItem","ProfileDescription","profileUser","description","PinModal","getProfilePosts","UnPinModal","createImage","Promise","resolve","reject","image","Image","addEventListener","setAttribute","getCroppedImg","imageSrc","crop","y","a","canvas","createElement","ctx","getContext","drawImage","toBlob","blob","ImageCropper","getBlob","inputImg","options","setCrop","zoom","setZoom","onCropComplete","_","croppedAreaPixels","croppedImage","aspect","onCropChange","onZoomChange","zoomSpeed","ImageUpload","setBlob","setInputImg","onSubmit","formData","FormData","append","headers","contentType","processData","accept","file","files","reader","FileReader","result","readAsDataURL","ProfilePictureModal","CoverPhotoModal","EditDescriptionModal","textContent","setTextContent","resizeTextarea","textbox","setSelectionRange","onLoad","newDescription","ProfilePage","profileName","setProfileUser","setReplies","pinnedPost","setPinnedPost","isFollowing","setIsFollowing","activeTab","setActiveTab","numFollowers","setNumFollowers","numFollowing","setNumFollowing","getProfileUser","followers","following","profilePagePosts","profilePageReplies","profilePagePinnedPost","profileHasChanged","setProfileHasChanged","showAnotherPage","replyItems","pinnedPostItem","coverPhoto","borderBottom","UserPreview","user","showFollowBtn","getUserData","makeSmall","isSidebar","addToChat","followBtn","updatedFollowingList","sort","b","toLowerCase","seen","Set","duplicate","has","paddingLeft","paddingRight","FollowerPage","selectedTab","usersFollowers","setUsersFollowers","userData","setUserData","getProfileData","followersList","followingList","SearchPage","searchText","setSearchText","isLoading","setIsLoading","postResults","setPostResults","userResults","setUserResults","noPostResults","setNoPostResults","noUserResults","setNoUserResults","searchTimer","makeSearchRequest","clearTimeout","showLoading","search","postList","userList","noResultsStyle","autoComplete","BuyNowModal","NoCoinsModal","Store","popup","userCoins","setUserCoins","buyCoins","prevCoins","coinImage","ChatListItem","displayLatestMessage","lastMessage","sender","getChatUsers","getUserChatImage","activeClass","seenBy","chatUsers","chatImage","chatImage2","getChatImages","chatName","join","Inbox","chats","setChats","getChats","socket","on","messageSocketResponse","chatList","NewMessage","text","setText","selectedUsers","setSelectedUsers","addUserToMessage","prevUsersArray","getElementById","u","selectedUsersLabels","userId","removeUserFromMessage","htmlFor","JSON","stringify","EditChatNameModal","chatId","refresh","TypingIndicator","ChatPage","isChatLoading","setIsChatLoading","noChatFound","setNoChatFound","chatData","setChatData","chatMessagesData","setChatMessagesData","currentMessage","setCurrentMessage","newMessageFromSockets","setNewMessageFromSockets","initialLoad","getChat","markAllMessagesAsRead","emit","room","prevState","getChatMessages","lastTypingTime","timer","sendMessage","prevData","connected","isTyping","lastMessageSenderId","createMessage","message","nextMessage","lastMsgId","isOwnMessage","senderName","currentSenderId","isLast","messageName","veryLastMessage","messageClassName","profileImg","imgContainer","updateTyping","getTime","messagesList","msg","index","addNewMessage","scrollToBottom","animate","container","scrollTo","behavior","visibility","flexDirection","chatDataUsers","remainingUsers","borderTop","onKeyDown","keyCode","shiftKey","notificationsController","markAsRead","cb","NotificationItem","notification","isPopup","userFrom","read","notificationClass","popupClass","notificationType","entityId","getNotificationLink","wordBreak","userFromName","fullName","userTo","getNotificationText","NotificationsPage","notificationsData","setNotificationsData","noNotifications","setNoNotifications","getNotifications","notificationsList","GuestWelcome","MainContent","RightSidebar","followSuggestions","setFollowSuggestions","followSuggestionResults","paddingTop","ChatNotification","NotificationPopup","App","setisLoading","close","dropDownMenu","nprogress","start","done","clear","openSocket","transports","newNotification","currentUserId","TopNavDropdown","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.08b2c5e4.chunk.js","sourcesContent":["import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport axios from 'axios';\n\nconst WelcomeMain = ({ setCurrentUser }) => {\n  const history = useHistory();\n\n  const redirectSignUp = () => {\n    history.push('/register');\n  };\n\n  const redirectLogIn = () => {\n    history.push('/login');\n  };\n\n  const loginGuest = () => {\n    // axios({\n    //   method: 'post',\n    //   data: {\n    //     username: 'lifeinvaderguest',\n    //     password: 'lifeinvaderguest',\n    //   },\n    //   withCredentials: true,\n    //   url: `${process.env.REACT_APP_BASE_URL}/login`,\n    // }).then((res) => {\n    //   // if a logged in user is returned, set current user.\n    //   // redirect to main app\n    //   if (res.data.username !== undefined) {\n    //\n\n    //     setCurrentUser(res.data);\n\n    //     history.push('/');\n\n    //\n    //   }\n    // });\n\n    alert('currently unavailable');\n  };\n\n  return (\n    <>\n      <h3 className=\"welcome-heading-small welcome-heading-small__main\">Join lifeinvader today</h3>\n      <button className=\"btn btn-fill\" onClick={redirectSignUp}>\n        Sign up\n      </button>\n      <button className=\"btn\" onClick={redirectLogIn}>\n        Log in\n      </button>\n      <button className=\"btn\" onClick={loginGuest}>\n        Log in as guest\n      </button>\n    </>\n  );\n};\n\nexport default WelcomeMain;\n","const checkEmail = (email) => {\n  const regex = new RegExp(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/);\n  return regex.test(email);\n};\n\nexport default checkEmail;\n","// validates that a username only contains alphanumeric characters\n// and starts with a letter.\nconst checkUsername = (username) => {\n  const regex = new RegExp(/^[A-Za-z][A-Za-z0-9]+$/);\n  return regex.test(username);\n};\n\nexport default checkUsername;\n","import { React, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { BsArrowRight } from 'react-icons/bs';\n\nimport checkEmail from '../../utils/checkEmail';\nimport checkUsername from '../../utils/checkUsername';\n\nconst WelcomeRegister = ({ setCurrentUser }) => {\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [validationErrors, setValidationErrors] = useState([]);\n\n  const history = useHistory();\n\n  const register = () => {\n    axios({\n      method: 'post',\n      data: {\n        firstName,\n        lastName,\n        username,\n        email,\n        password,\n      },\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/register`,\n    }).then((res) => {\n      // new user has successfully been created.\n      // remove any errors and redirect to login page.\n      if (res.data.username !== undefined) {\n        console.log(res.data);\n\n        setValidationErrors([]);\n        history.push('/login');\n\n        // email or username is already in use. display appropriate error\n      } else {\n        setValidationErrors([res.data]);\n      }\n    });\n  };\n\n  const validateRegisterDetails = (e) => {\n    // validate each field and add any errors to the errors array to be displayed.\n    e.preventDefault();\n\n    const errors = [];\n\n    if (firstName.trim().length === 0) {\n      errors.push('Please enter your first name.');\n    }\n\n    if (lastName.trim().length === 0) {\n      errors.push('Please enter your last name.');\n    }\n\n    const isValidUsername = checkUsername(username);\n\n    if (username.length === 0) {\n      errors.push('Please enter a username.');\n    } else if (username.length > 16) {\n      errors.push('Username may not be longer than 16 characters.');\n    } else if (!isValidUsername) {\n      errors.push('Username must start with a letter.');\n      errors.push('Username may only contain only contain letters and numbers.');\n    }\n\n    const isValidEmail = checkEmail(email);\n\n    if (email.length === 0 || !isValidEmail) {\n      errors.push('Please enter a valid email address.');\n    }\n\n    if (password.length === 0) {\n      errors.push('Please enter a password.');\n    }\n\n    if (passwordConfirm.length === 0) {\n      errors.push('Please confirm your password.');\n    }\n\n    if (password !== passwordConfirm && password.length > 0 && passwordConfirm.length > 0) {\n      errors.push('Your passwords do not match.');\n      setPassword('');\n      setPasswordConfirm('');\n    }\n\n    if (errors.length === 0) {\n      // information passes client side validation, send to server\n\n      // alert('registration info has been validated and is being sent to server');\n      register();\n    } else {\n      // set and display errors\n      setValidationErrors(errors);\n    }\n  };\n\n  const linkStyle = {\n    color: 'rgb(29, 161, 242)',\n    textDecoration: 'none',\n  };\n\n  return (\n    <>\n      <h3 className=\"welcome-heading-small\">Register with lifeinvader</h3>\n      <p className=\"welcome-text\">\n        Already have an account?{' '}\n        <Link style={linkStyle} to=\"/login\">\n          Log in here\n        </Link>\n      </p>\n      <form action=\"\" className=\"welcome-register-form\">\n        <input\n          className=\"input__sign-in\"\n          type=\"text\"\n          name=\"firstName\"\n          placeholder=\"First Name\"\n          value={firstName}\n          onChange={(e) => setFirstName(e.target.value)}\n          required\n        />\n        <input\n          className=\"input__sign-in\"\n          type=\"text\"\n          name=\"lastName\"\n          placeholder=\"Last Name\"\n          value={lastName}\n          onChange={(e) => setLastName(e.target.value)}\n          required\n        />\n        <input\n          className=\"input__sign-in\"\n          type=\"text\"\n          name=\"username\"\n          placeholder=\"Username\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          required\n        />\n        <input\n          className=\"input__sign-in\"\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <input\n          className=\"input__sign-in\"\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <input\n          className=\"input__sign-in\"\n          type=\"password\"\n          name=\"passwordConfirm\"\n          placeholder=\"Confirm password\"\n          value={passwordConfirm}\n          onChange={(e) => setPasswordConfirm(e.target.value)}\n          required\n        />\n        <button className=\"btn btn-fill\" onClick={validateRegisterDetails}>\n          Create account <BsArrowRight style={{ verticalAlign: 'bottom' }} />\n        </button>\n        {validationErrors.map((err) => (\n          <p className=\"register-error\" key={err}>\n            {err}\n          </p>\n        ))}\n      </form>\n    </>\n  );\n};\n\nexport default WelcomeRegister;\n","import { React, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { BsArrowRight } from 'react-icons/bs';\n\nconst WelcomeLogin = ({ setCurrentUser }) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [validationErrors, setValidationErrors] = useState([]);\n\n  const history = useHistory();\n\n  const login = () => {\n    axios({\n      method: 'post',\n      data: {\n        username,\n        password,\n      },\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/login`,\n    }).then((res) => {\n      // if a logged in user is returned, set current user.\n      // redirect to main app\n      if (res.data.username !== undefined) {\n        // console.log(res.data);\n        setCurrentUser(res.data);\n\n        history.push('/');\n      } else {\n        // no user was returned\n        // display wrong username and password message\n        // reset password\n\n        setValidationErrors([res.data]);\n        setPassword('');\n      }\n    });\n  };\n\n  const validateLoginDetails = (e) => {\n    // validate each field and add any errors to the errors array to be displayed.\n    e.preventDefault();\n\n    const errors = [];\n\n    if (username.length === 0) {\n      errors.push('Please enter a username.');\n    }\n\n    if (password.length === 0) {\n      errors.push('Please enter a password.');\n    }\n\n    if (errors.length === 0) {\n      // information passes client side validation, send to server\n\n      // alert('log in info has been validated and is being sent to server');\n      login();\n    } else {\n      // set and display errors\n      setValidationErrors(errors);\n    }\n  };\n\n  const linkStyle = {\n    color: 'rgb(29, 161, 242)',\n    textDecoration: 'none',\n  };\n\n  return (\n    <>\n      <h3 className=\"welcome-heading-small\">Log into lifeinvader</h3>\n      <p className=\"welcome-text\">\n        Need an account?{' '}\n        <Link style={linkStyle} to=\"/register\">\n          Sign up here\n        </Link>\n      </p>\n      <form action=\"\" className=\"welcome-register-form\">\n        <input\n          className=\"input__sign-in\"\n          type=\"text\"\n          name=\"username\"\n          placeholder=\"Username or email\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          required\n        />\n\n        <input\n          className=\"input__sign-in\"\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n\n        <button className=\"btn btn-fill\" onClick={validateLoginDetails}>\n          Log in <BsArrowRight style={{ verticalAlign: 'bottom' }} />\n        </button>\n        {validationErrors.map((err) => (\n          <p className=\"register-error\" key={err}>\n            {err}\n          </p>\n        ))}\n      </form>\n    </>\n  );\n};\n\nexport default WelcomeLogin;\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect } from 'react-router-dom';\n\nimport WelcomeMain from './WelcomeMain';\nimport WelcomeRegister from './WelcomeRegister';\nimport WelcomeLogin from './WelcomeLogin';\n\nimport logoIcon from '../../images/logo-large.png';\nimport logoText from '../../images/textlogo-large.png';\n\nconst Welcome = ({ setCurrentUser }) => {\n  return (\n    <Router>\n      <div className=\"welcome-wrapper\">\n        <div className=\"welcome-content\">\n          <div className=\"welcome-logo-container\">\n            <div className=\"welcome-logo-img\">\n              <img src={logoIcon} alt=\"life invader logo icon\" />\n            </div>\n            <div className=\"welcome-logo-text\">\n              <img src={logoText} alt=\"life invader logo icon\" />\n            </div>\n          </div>\n          <div className=\"welcome-form\">\n            <div className=\"welcome-form-img\">\n              <img src={logoIcon} alt=\"Life invader logo icon - small\" />\n            </div>\n            <h2 className=\"welcome-heading-large\">\n              It's not technology,\n              <br />\n              It's your life\n            </h2>\n            <Switch>\n              <Route exact path=\"/welcome\">\n                <WelcomeMain setCurrentUser={setCurrentUser} />\n              </Route>\n              <Route exact path=\"/login\">\n                <WelcomeLogin setCurrentUser={setCurrentUser} />\n              </Route>\n              <Route exact path=\"/register\">\n                <WelcomeRegister setCurrentUser={setCurrentUser} />\n              </Route>\n              <Route path=\"/\">\n                {/* All other urls will redirect to main welcome page */}\n                <Redirect to=\"/welcome\" />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </div>\n    </Router>\n  );\n};\n\nexport default Welcome;\n","export default \"data:image/png;base64,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\"","import react, { useState, createContext } from 'react';\n\nexport const ModalContext = createContext();\n\n// keep modal state in one place.\n// before i was passing these states and setStates thorugh multiple\n// components and it was getting out of hand\n\nexport const ModalProvider = (props) => {\n  // modal controls for comment modal\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n\n  // modal controls for delete modal\n  const [deleteModalIsOpen, setDeleteModalIsOpen] = useState(false);\n\n  // modal controls for profile pic modal\n  const [profilePicModalIsOpen, setProfilePicModalIsOpen] = useState(false);\n\n  // modal controls for cover pic modal\n  const [coverPhotoModalIsOpen, setCoverPhotoModalIsOpen] = useState(false);\n\n  // modal controls for cover pic modal\n  const [editDescriptionModalIsOpen, setEditDescriptionModalIsOpen] = useState(false);\n\n  // modal controls for pin post modal\n  const [pinModalIsOpen, setPinModalIsOpen] = useState(false);\n  const [unPinModalIsOpen, setUnPinModalIsOpen] = useState(false);\n\n  // pinned post id\n  const [pinPostId, setPinPostId] = useState(null);\n\n  // buy coins modal\n  const [buyNowModalIsOpen, setBuyNowModalIsOpen] = useState(false);\n\n  // no more coins modal\n  const [noCoinsModalIsOpen, setNoCoinsModalIsOpen] = useState(false);\n\n  // edit chat name modal\n  const [editChatNameModalIsOpen, setEditChatNameModalIsOpen] = useState(false);\n\n  return (\n    <ModalContext.Provider\n      value={{\n        deleteModalIsOpen,\n        setDeleteModalIsOpen,\n        modalIsOpen,\n        setModalIsOpen,\n        profilePicModalIsOpen,\n        setProfilePicModalIsOpen,\n        coverPhotoModalIsOpen,\n        setCoverPhotoModalIsOpen,\n        pinModalIsOpen,\n        setPinModalIsOpen,\n        unPinModalIsOpen,\n        setUnPinModalIsOpen,\n        pinPostId,\n        setPinPostId,\n        editDescriptionModalIsOpen,\n        setEditDescriptionModalIsOpen,\n        buyNowModalIsOpen,\n        setBuyNowModalIsOpen,\n        noCoinsModalIsOpen,\n        setNoCoinsModalIsOpen,\n        editChatNameModalIsOpen,\n        setEditChatNameModalIsOpen,\n      }}\n    >\n      {props.children}\n    </ModalContext.Provider>\n  );\n};\n","import react, { useState, createContext } from 'react';\n\nexport const FollowingContext = createContext();\n\n// to properly update the following users state the way i want, between the side bar and main followers page,\n// need to use context.\n\nexport const FollowingProvider = (props) => {\n  // array of users that the profile user is following\n  const [usersFollowing, setUsersFollowing] = useState([]);\n\n  return (\n    <FollowingContext.Provider\n      value={{\n        usersFollowing,\n        setUsersFollowing,\n      }}\n    >\n      {props.children}\n    </FollowingContext.Provider>\n  );\n};\n","import react, { useState, createContext } from 'react';\n\nexport const NotificationsContext = createContext();\n\n// the number of unread messages and notifications\n\nexport const NotificationsProvider = (props) => {\n  const [numMessages, setNumMessages] = useState(0);\n  const [numNotifications, setNumNotifications] = useState(0);\n\n  return (\n    <NotificationsContext.Provider\n      value={{\n        numMessages,\n        setNumMessages,\n        numNotifications,\n        setNumNotifications,\n      }}\n    >\n      {props.children}\n    </NotificationsContext.Provider>\n  );\n};\n","import react, { useState, createContext } from 'react';\n\nexport const NotificationsPopupContext = createContext();\n\nexport const NotificationsPopupProvider = (props) => {\n  const [currentNotification, setCurrentNotification] = useState(null);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [notificationIsOpen, setNotificationIsOpen] = useState(false);\n\n  return (\n    <NotificationsPopupContext.Provider\n      value={{\n        currentNotification,\n        setCurrentNotification,\n        currentChat,\n        setCurrentChat,\n        notificationIsOpen,\n        setNotificationIsOpen,\n      }}\n    >\n      {props.children}\n    </NotificationsPopupContext.Provider>\n  );\n};\n","import React from 'react';\n\nimport { VscLoading } from 'react-icons/vsc';\n\nconst Loading = () => {\n  return (\n    <div\n      style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}\n    >\n      <VscLoading className=\"spinner\" style={{ fontSize: '40px', color: '#1da1f2' }} />\n    </div>\n  );\n};\n\nexport default Loading;\n","import axios from 'axios';\n\nconst getNumMessages = (setState) => {\n  axios({\n    method: 'get',\n    withCredentials: true,\n    url: `${process.env.REACT_APP_BASE_URL}/api/chats`,\n    params: { unreadOnly: true },\n  })\n    .then((res) => {\n      setState(res.data.length);\n    })\n    .catch((err) => {\n      console.log(err);\n      setState(0);\n    });\n};\nexport default getNumMessages;\n","import axios from 'axios';\n\nconst getNumNotifications = (setState) => {\n  axios({\n    method: 'get',\n    withCredentials: true,\n    url: `${process.env.REACT_APP_BASE_URL}/api/notifications`,\n    params: { unreadOnly: true },\n  })\n    .then((res) => {\n      setState(res.data.length);\n    })\n    .catch((err) => {\n      console.log(err);\n      setState(0);\n    });\n};\nexport default getNumNotifications;\n","import React, { useContext, useEffect } from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport { BiHomeAlt } from 'react-icons/bi';\nimport { BiUser } from 'react-icons/bi';\nimport { BiBell } from 'react-icons/bi';\nimport { FiMail } from 'react-icons/fi';\nimport { BiSearch } from 'react-icons/bi';\nimport { FiLogOut } from 'react-icons/fi';\nimport { HiOutlineMenuAlt3 } from 'react-icons/hi';\n\nimport { NotificationsContext } from './NotificationsContext';\n\nimport getNumMessages from '../../utils/getNumMessages';\nimport getNumNotifications from '../../utils/getNumNotifications';\n\nconst TopNav = ({ toggleDropdown }) => {\n  const { numMessages, setNumMessages, numNotifications, setNumNotifications } =\n    useContext(NotificationsContext);\n\n  const iconStyles = {\n    fontSize: '28px',\n    cursor: 'pointer',\n  };\n\n  const history = useHistory();\n\n  const goToHomePage = () => {\n    history.push(`/`);\n    toggleDropdown(true);\n  };\n\n  const goToMessages = () => {\n    history.push('/messages');\n  };\n\n  const goToNotifications = () => {\n    history.push('/notifications');\n  };\n\n  useEffect(() => {\n    getNumMessages(setNumMessages);\n    getNumNotifications(setNumNotifications);\n  }, []);\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-container\">\n        <div className=\"top-nav-group\">\n          <BiHomeAlt style={iconStyles} onClick={goToHomePage} />\n        </div>\n        <div className=\"top-nav-group\" onClick={goToNotifications}>\n          <div className=\"badge-wrapper\">\n            <BiBell style={iconStyles} />\n            <span id=\"notification-badge\" className={numNotifications > 0 ? 'active' : ''}>\n              {numNotifications}\n            </span>\n          </div>\n        </div>\n        <div className=\"top-nav-group top-nav-group-mail\" onClick={goToMessages}>\n          <div className=\"badge-wrapper\">\n            <FiMail style={iconStyles} />\n            <span id=\"messages-badge\" className={numMessages > 0 ? 'active' : ''}>\n              {numMessages}\n            </span>\n          </div>\n        </div>\n        <div className=\"top-nav-group\">\n          <HiOutlineMenuAlt3 style={iconStyles} onClick={(e) => toggleDropdown()} />\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default TopNav;\n","import React from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport { BiHomeAlt } from 'react-icons/bi';\nimport { BiUser } from 'react-icons/bi';\nimport { BiBell } from 'react-icons/bi';\nimport { FiMail } from 'react-icons/fi';\nimport { BiSearch } from 'react-icons/bi';\nimport { FiLogOut } from 'react-icons/fi';\nimport { BiShoppingBag } from 'react-icons/bi';\nimport { HiOutlineMenuAlt3 } from 'react-icons/hi';\n\nconst TopNav = ({ logOut, currentUser }) => {\n  const iconStyles = {\n    fontSize: '28px',\n    cursor: 'pointer',\n  };\n\n  const history = useHistory();\n\n  const goToProfilePage = () => {\n    history.push(`/profile/${currentUser.username}`);\n  };\n\n  const goToSearchPage = () => {\n    history.push('/search');\n  };\n\n  const goToStore = () => {\n    history.push('/store');\n  };\n\n  return (\n    <nav className=\"navbar navbar-dropdown\">\n      <div className=\"navbar-container\">\n        <div className=\"top-nav-group\" onClick={goToProfilePage}>\n          <BiUser style={iconStyles} />\n        </div>\n        <div className=\"top-nav-group\" onClick={goToSearchPage}>\n          <BiSearch style={iconStyles} />\n        </div>\n        <div className=\"top-nav-group top-nav-group-shop\" onClick={goToStore}>\n          <BiShoppingBag style={iconStyles} />\n        </div>\n        <div className=\"top-nav-group\" onClick={logOut}>\n          <FiLogOut style={iconStyles} />\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default TopNav;\n","export default __webpack_public_path__ + \"static/media/logo-small.dbd2ad15.png\";","import React, { useEffect, useState, useContext } from 'react';\n\nimport { useHistory, useParams, useLocation } from 'react-router-dom';\n\nimport { BiHomeAlt } from 'react-icons/bi';\nimport { BiUser } from 'react-icons/bi';\nimport { BiBell } from 'react-icons/bi';\nimport { FiMail } from 'react-icons/fi';\nimport { BiSearch } from 'react-icons/bi';\nimport { FiLogOut } from 'react-icons/fi';\nimport { BiPlus } from 'react-icons/bi';\nimport { BiShoppingBag } from 'react-icons/bi';\n\nimport { NotificationsContext } from './NotificationsContext';\n\nimport getNumMessages from '../../utils/getNumMessages';\nimport getNumNotifications from '../../utils/getNumNotifications';\n\nimport logoIcon from '../../images/logo-small.png';\n\nconst LeftNav = ({ logOut, currentUser }) => {\n  const iconStyle = {\n    fontSize: '28px',\n  };\n\n  const location = useLocation();\n\n  const { numMessages, setNumMessages, numNotifications, setNumNotifications } =\n    useContext(NotificationsContext);\n\n  // checks what page you are on, and gives the relevant side bar link active styling\n  useEffect(() => {\n    const currentPage = location.pathname;\n\n    // first remove all sidebar active classes\n    const sideBarElements = document.querySelectorAll('.left-nav-group');\n    sideBarElements.forEach((el) => {\n      el.classList.remove('left-nav-group__active');\n    });\n\n    // check current url against possible sidebar link matches and apply active styling\n    const homeLink = document.querySelector('#left-nav-home');\n    const profileLink = document.querySelector('#left-nav-profile');\n    const notificationsLink = document.querySelector('#left-nav-notifications');\n    const messagesLink = document.querySelector('#left-nav-messages');\n    const searchLink = document.querySelector('#left-nav-search');\n    const storeLink = document.querySelector('#left-nav-store');\n\n    if (currentPage === '/' || currentPage === '/login') {\n      //right after logging in, currentPage is still '/login'\n      homeLink.classList.add('left-nav-group__active');\n    } else if (currentPage.includes('/profile')) {\n      profileLink.classList.add('left-nav-group__active');\n    } else if (currentPage.includes('/notifications')) {\n      notificationsLink.classList.add('left-nav-group__active');\n    } else if (currentPage.includes('/messages')) {\n      messagesLink.classList.add('left-nav-group__active');\n    } else if (currentPage.includes('/search')) {\n      searchLink.classList.add('left-nav-group__active');\n    } else if (currentPage.includes('/store')) {\n      storeLink.classList.add('left-nav-group__active');\n    }\n  }, [location]);\n\n  const history = useHistory();\n\n  const goToProfilePage = () => {\n    history.push(`/profile/${currentUser.username}`);\n  };\n\n  const goToHomePage = () => {\n    history.push('/');\n  };\n\n  const goToSearchPage = () => {\n    history.push('/search');\n  };\n\n  const goToStore = () => {\n    history.push('/store');\n  };\n\n  const goToMessages = () => {\n    history.push('/messages');\n  };\n\n  const goToNotifications = () => {\n    history.push('/notifications');\n  };\n\n  useEffect(() => {\n    getNumMessages(setNumMessages);\n    getNumNotifications(setNumNotifications);\n  }, []);\n\n  return (\n    <nav className=\"layout__left-container custom-scroll\">\n      <div className=\"layout__left-content custom-scroll\">\n        <div className=\"left-nav-logo-container\" onClick={goToHomePage}>\n          <img src={logoIcon} alt=\"\" />\n        </div>\n\n        <div className=\"left-nav-group\" id=\"left-nav-home\" onClick={goToHomePage}>\n          <BiHomeAlt style={iconStyle} />\n          <h2 className=\"left-nav-heading\">Home</h2>\n        </div>\n        <div className=\"left-nav-group\" id=\"left-nav-profile\" onClick={goToProfilePage}>\n          <BiUser style={iconStyle} />\n          <h2 className=\"left-nav-heading\">Profile</h2>\n        </div>\n        <div className=\"left-nav-group\" id=\"left-nav-notifications\" onClick={goToNotifications}>\n          <div className=\"badge-wrapper\">\n            <BiBell style={{ ...iconStyle }} />\n            <span id=\"notification-badge\" className={numNotifications > 0 ? 'active' : ''}>\n              {numNotifications}\n            </span>\n          </div>\n          <h2 className=\"left-nav-heading\">Notifications</h2>\n        </div>\n        <div className=\"left-nav-group\" id=\"left-nav-messages\" onClick={goToMessages}>\n          <div className=\"badge-wrapper\">\n            <FiMail style={iconStyle} />\n            <span id=\"messages-badge\" className={numMessages > 0 ? 'active' : ''}>\n              {numMessages}\n            </span>\n          </div>\n          <h2 className=\"left-nav-heading\">Messages</h2>\n        </div>\n        <div className=\"left-nav-group\" id=\"left-nav-search\" onClick={goToSearchPage}>\n          <BiSearch style={iconStyle} />\n          <h2 className=\"left-nav-heading\">Search</h2>\n        </div>\n        <div className=\"left-nav-group\" id=\"left-nav-store\" onClick={goToStore}>\n          <BiShoppingBag style={iconStyle} />\n          <h2 className=\"left-nav-heading\">Store</h2>\n        </div>\n        <div className=\"left-nav-group\" onClick={logOut} style={{ marginBottom: '5px' }}>\n          <FiLogOut style={iconStyle} />\n          <h2 className=\"left-nav-heading\">Logout</h2>\n        </div>\n        {/* I may want to add this add post button back to the side bar at some point */}\n        {/* <button className=\"btn btn-fill new-post\">Invade</button>\n        <div className=\"new-post-btn-wrapper\">\n          <BiPlus style={{ ...iconStyle, fontSize: '32px' }} />\n        </div> */}\n      </div>\n    </nav>\n  );\n};\n\nexport default LeftNav;\n","// global object singleton\n\nconst sockets = {\n  messageReceived: function (newMessage) {\n    const page = window.location.href;\n\n    // get the 2 users that are part of the not group chat\n    const usersNotGroupChat = [];\n    if (!newMessage.chat.isGroupChat) {\n      usersNotGroupChat.push(newMessage.chat.users[0]._id);\n      usersNotGroupChat.push(newMessage.chat.users[1]._id);\n    }\n\n    // this checks whether the url we are on is the id of the group chat, or the user id of the user we are\n    // messaging. this makes sure that we are on the correct chat page.\n    const isCorrectChatPage =\n      page.includes(newMessage.chat._id) ||\n      (!newMessage.groupChat &&\n        (page.includes(usersNotGroupChat[0]) || page.includes(usersNotGroupChat[1])));\n\n    // just to make sure this code doesnt run if someone has the word 'messages' in their username\n    // and we are on that profile page\n    const definitelyOnChatPage = !page.includes('profile');\n\n    const urlSplit = page.split('/');\n\n    if (isCorrectChatPage && definitelyOnChatPage) {\n      return {\n        onChatPage: true,\n        newMessage: newMessage,\n      };\n      // not on the chat page. return chat data so can display a notification\n\n      // check if on the inbox page so we can update inbox messages.\n      // checks if the url ends with /messages, as this is the inbox page\n    } else if (urlSplit[urlSplit.length - 1] === 'messages') {\n      return {\n        onChatPage: true,\n        newMessage: newMessage,\n        onInboxPage: true,\n      };\n    } else\n      return {\n        onChatPage: false,\n        newMessage: newMessage,\n      };\n  },\n};\nexport default sockets;\n","import React from 'react';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport axios from 'axios';\n\nimport sockets from '../../../sockets';\n\nconst CreatePostForm = ({\n  currentUser,\n  setCurrentUser,\n  textPlaceholder,\n  buttonText,\n  setModalIsOpen,\n  isReply,\n  replyComment,\n  forceUpdate,\n}) => {\n  const [postText, setPostText] = useState('');\n\n  const history = useHistory();\n\n  // resize post form text area to avoid text scroll\n  const resizeTextarea = function (e) {\n    const textarea = document.querySelector('#post-textarea');\n    textarea.style.height = 'auto';\n    textarea.style.height = textarea.scrollHeight + 'px';\n  };\n\n  const submitPost = () => {\n    // only allow posting if user has required coins\n    if (currentUser.coins && currentUser.coins > 0) {\n      const payload = {\n        content: postText,\n      };\n\n      if (isReply) {\n        payload.replyTo = replyComment._id;\n      }\n\n      axios({\n        method: 'post',\n        data: payload,\n        withCredentials: true,\n        url: `${process.env.REACT_APP_BASE_URL}/api/posts`,\n      })\n        .then((res) => {\n          // clear the text area\n          setPostText('');\n          // resize the text area back to normal\n          document.querySelector('#post-textarea').style.height = 'auto';\n          // refresh posts\n          forceUpdate();\n\n          // this will close the reply modal when submitting a comment reply\n          if (isReply) {\n            setModalIsOpen(false);\n            // send follow notification\n            sockets.emitNotification(replyComment.author._id, currentUser._id);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          // user has been signed out. redirect to home page\n          if (err.response.status == 401) {\n            window.location.reload();\n          }\n        });\n\n      const numCoins = currentUser.coins;\n\n      // update users coin balance\n      axios({\n        method: 'put',\n        withCredentials: true,\n        url: `${process.env.REACT_APP_BASE_URL}/api/users/shop/${numCoins - 1}`,\n        // send the amount of coins to update user data with\n      })\n        .then((res) => {\n          setCurrentUser(res.data);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n\n      // user has insufficeint coins to make a post. redirect to store\n    } else {\n      history.push(`/store/nocoins`);\n    }\n  };\n\n  return (\n    <div className=\"post-form-container\">\n      <div className=\"user-image-container\">\n        <img\n          src={`${process.env.REACT_APP_BASE_URL}${currentUser.profilePic}`}\n          alt=\"User profile picture\"\n        />\n      </div>\n      <div className=\"textarea-container\">\n        <textarea\n          id=\"post-textarea\"\n          placeholder={textPlaceholder}\n          onInput={resizeTextarea}\n          onChange={(e) => setPostText(e.target.value)}\n          maxLength=\"400\"\n          value={postText}\n          spellCheck=\"false\"\n        ></textarea>\n        <div className=\"buttons-container\">\n          {/* only allow pressing of button if there is actually text in the textarea */}\n          <button\n            id=\"submit-post-button\"\n            disabled={postText.trim().length ? false : true}\n            onClick={submitPost}\n          >\n            {buttonText}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nCreatePostForm.defaultProps = {\n  textPlaceholder: \"What's going on?\",\n  buttonText: 'Invade',\n  setModalIsOpen: false,\n  isReply: false,\n  replyComment: null,\n  setPosts: null,\n  forceUpdate: null,\n};\n\nexport default CreatePostForm;\n","// returns a time difference between 2 dates.\nfunction timeDifference(current, previous) {\n  const msPerMinute = 60 * 1000;\n  const msPerHour = msPerMinute * 60;\n  const msPerDay = msPerHour * 24;\n  const msPerMonth = msPerDay * 30;\n  const msPerYear = msPerDay * 365;\n\n  const elapsed = current - previous;\n\n  // if time unit is 1, omit the 's' in seconds, hours etc\n  if (elapsed < msPerMinute) {\n    if (elapsed / 1000 < 30) {\n      return 'Just now';\n    }\n    return Math.round(elapsed / 1000) + ` seconds ago`;\n  } else if (elapsed < msPerHour) {\n    return (\n      Math.round(elapsed / msPerMinute) +\n      ` minute${Math.round(elapsed / msPerMinute) === 1 ? '' : 's'} ago`\n    );\n  } else if (elapsed < msPerDay) {\n    return (\n      Math.round(elapsed / msPerHour) +\n      ` hour${Math.round(elapsed / msPerHour) === 1 ? '' : 's'} ago`\n    );\n  } else if (elapsed < msPerMonth) {\n    return (\n      Math.round(elapsed / msPerDay) + ` day${Math.round(elapsed / msPerDay) === 1 ? '' : 's'} ago`\n    );\n  } else if (elapsed < msPerYear) {\n    return (\n      Math.round(elapsed / msPerMonth) +\n      ` month${Math.round(elapsed / msPerMonth) === 1 ? '' : 's'} ago`\n    );\n  } else {\n    return (\n      Math.round(elapsed / msPerYear) +\n      ` year${Math.round(elapsed / msPerYear) === 1 ? '' : 's'} ago`\n    );\n  }\n}\n\nexport default timeDifference;\n","import React from 'react';\nimport { useContext, useEffect, useState, useRef } from 'react';\nimport { BrowserRouter as Router, Link, useHistory } from 'react-router-dom';\n\nimport { ModalContext } from '../../Modals/ModalContext';\n\nimport { FaRegComment } from 'react-icons/fa';\nimport { AiOutlineRetweet } from 'react-icons/ai';\nimport { AiOutlineDislike } from 'react-icons/ai';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport { AiOutlinePushpin } from 'react-icons/ai';\n\nimport relativeTime from '../../../utils/relativeTime';\nimport axios from 'axios';\n\nimport sockets from '../../../sockets';\n\nconst Post = ({\n  postData,\n  currentUser,\n  forceUpdate,\n  setReplyComment,\n  setDeleteComment,\n  allowComments,\n  makeBig,\n  isDeletable,\n  showPin,\n  showPinHeading,\n}) => {\n  const {\n    setDeleteModalIsOpen,\n    setModalIsOpen,\n    setPinModalIsOpen,\n    setUnPinModalIsOpen,\n    setPinPostId,\n  } = useContext(ModalContext);\n\n  // is the post written by the current user\n  const isCurrentUsersPost = postData.author._id === currentUser._id;\n\n  // store if the current post is a shared post or original post\n  const isRepost = postData.sharedPostData !== undefined;\n\n  const isReply = postData.replyTo !== undefined;\n\n  // store name of reposter if the post is a repost\n  const repostedBy = isRepost ? postData.author.username : null;\n\n  // if post is a repost, set post data to be the data of the original post\n  postData = isRepost ? postData.sharedPostData : postData;\n\n  // if the current user dislikes the post or not\n  const isDisliked = postData.dislikes.includes(currentUser._id);\n\n  // if the current user has shared the post or not\n  const isShared = postData.sharedBy.includes(currentUser._id);\n\n  // if the current user has commented on the post\n  const isCommentedOn = postData.replies.some((reply) => reply.author === currentUser._id);\n\n  // url of the post author display picture\n  const postImage = `${process.env.REACT_APP_BASE_URL}${postData.author.profilePic}`;\n\n  // combine author names into full name\n  const userFullName = `${postData.author.firstName} ${postData.author.lastName}`;\n\n  // convert the post date to a relative time, eg '2 hours ago'\n  const timestamp = relativeTime(new Date(), new Date(postData.createdAt));\n\n  // truncate the post and add a view more button if post is too long.\n  // default to false then calculate whether or not to show the button.\n  // const [truncatePost, setTruncatePost] = useState(false);\n\n  // if the post is currently truncated. default to true. this just\n  // determines what message to display under a truncated post. if a post is determined to\n  // not be truncated then this state is irrelevent, as it only changes by clicking that button\n  // under a truncated post. it defualts to true becuase otherwise sometimes the button will\n  // flash the false message first before changng to the true message.\n  // const [isTruncated, setIsTruncated] = useState(true);\n\n  // both of these states have been refactored to use local storage. this is to save isTruncated\n  // state between refreshes/ since liking a comment etc will refresh that component, collapsing the\n  // comment if it was previously expanded. this is probably (definitely) a terrible solution, especially for a lot of posts,\n  // but it works. the local storage is cleared on log out\n\n  const myPostElement = useRef(null);\n\n  const history = useHistory();\n\n  function usePersistedState(key, defaultValue) {\n    const [state, setState] = React.useState(() => localStorage.getItem(key) || defaultValue);\n    useEffect(() => {\n      localStorage.setItem(key, state);\n    }, [key, state]);\n    return [state, setState];\n  }\n\n  const [truncatePost, setTruncatePost] = usePersistedState(postData._id, false);\n\n  const [isTruncated, setIsTruncated] = usePersistedState(`${postData._id}2`, true);\n\n  const dislikePost = (e) => {\n    e.stopPropagation();\n    axios({\n      method: 'put',\n\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/posts/${postData._id}/dislike`,\n    }).then((res) => {\n      // send dislike notification only on dislike. not un dislike\n      if (res.data.dislikes.includes(currentUser._id)) {\n        sockets.emitNotification(postData.author._id, currentUser._id);\n      }\n\n      //rerender posts\n      forceUpdate();\n    });\n  };\n\n  const sharePost = (e) => {\n    e.stopPropagation();\n    axios({\n      method: 'post',\n\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/posts/${postData._id}/share`,\n    })\n      .then((res) => {\n        if (res.data.option === '$addToSet') {\n          // send share notification on share only. not unshare. $addToSet is the mongoDB operator\n          // that is run when sharing a post\n          sockets.emitNotification(postData.author._id, currentUser._id);\n        }\n\n        // rerender posts\n        forceUpdate();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const openReplyModal = (postData) => {\n    // only open modal if the modal is not already open.\n    // otherwise close the modal\n    if (allowComments) {\n      setReplyComment(postData);\n      setModalIsOpen(true);\n    } else {\n      setModalIsOpen(false);\n    }\n  };\n\n  const viewPost = (e) => {\n    // only redirect to post page if the user is not clicking a link.\n    // buttons are handled in their own click events with stopPropogation()\n    if (postData._id !== undefined && e.target.tagName != 'A') {\n      setModalIsOpen(false);\n      history.push(`/post/${postData._id}`);\n    }\n  };\n\n  // useEffect(() => {\n  //   if (isTruncated == 'false') {\n  //     myPostElement.current.classList.toggle('post-body-truncated');\n  //   }\n  // }, []);\n\n  const toggleTruncatedPost = (e) => {\n    e.stopPropagation();\n    myPostElement.current.classList.toggle('post-body-truncated');\n    // setIsTruncated((prevState) => !prevState);\n    if (isTruncated == 'true') {\n      setIsTruncated('false');\n    } else {\n      setIsTruncated('true');\n    }\n  };\n\n  // this will calculate which posts have been truncated, and add a view more button\n  // to those long posts.\n  useEffect(() => {\n    // get the post-body font size. it will be different if it is viewed on the view post page\n    // so need to get it here\n    const elementFontSize = parseInt(myPostElement.current.style.fontSize);\n\n    // set the max scroll height to be be font size * line height * number of lines to show\n    const maxScrollHeight = elementFontSize * 1.2 * 4;\n\n    if (myPostElement.current.scrollHeight > maxScrollHeight) {\n      // post-body has more height than we want to show. Add button to\n      // tell the user than the post has been truncated and that they can view more\n      setTruncatePost('true');\n    }\n  }, []);\n\n  const openDeleteModal = (e) => {\n    e.stopPropagation();\n    setDeleteComment(postData._id);\n    setDeleteModalIsOpen(true);\n  };\n\n  const openPinModal = (e) => {\n    e.stopPropagation();\n    setPinPostId(postData._id);\n    setPinModalIsOpen(true);\n  };\n\n  const unpin = (e) => {\n    e.stopPropagation();\n    setPinPostId(postData._id);\n    setUnPinModalIsOpen(true);\n  };\n\n  const buttonIconStyle = {\n    fontSize: makeBig ? '30px' : '22px',\n  };\n\n  // comment button needs to be smaller since the icon is larger than the others\n  const commentIconStyle = {\n    fontSize: makeBig ? '24px' : '18px',\n  };\n\n  const commentActiveStyle = {\n    color: 'rgb(29, 161, 242)',\n    fontSize: makeBig ? '24px' : '18px',\n  };\n\n  const dislikeActiveStyle = {\n    color: 'rgb(226, 34, 94)',\n    fontSize: makeBig ? '30px' : '22px',\n  };\n\n  const shareActiveStyle = {\n    color: 'rgb(22, 191, 99)',\n    fontSize: makeBig ? '30px' : '22px',\n  };\n\n  const deleteBtnStyle = {\n    color: 'inherit',\n    fontSize: '18px',\n  };\n\n  // special gold name styling just for my profile\n  const displayNameStyle = {};\n  if (postData.author.goldenName) {\n    displayNameStyle.color = 'rgb(240, 173, 1)';\n  }\n\n  return (\n    <div className=\"post\" onClick={viewPost}>\n      {isRepost && (\n        <div className=\"shared-by-heading\">\n          <AiOutlineRetweet style={{ marginRight: '4px', transform: 'translateY(2px)' }} />\n          Shared by{' '}\n          <Link\n            to={`/profile/${repostedBy}`}\n            onClick={(e) => setModalIsOpen(false)}\n            style={{ color: 'rgb(29, 161, 242)' }}\n          >\n            @{repostedBy}\n          </Link>\n        </div>\n      )}\n\n      {isReply && postData.replyTo !== null && postData.replyTo._id && (\n        <div className=\"shared-by-heading\">\n          <FaRegComment style={{ marginRight: '4px', transform: 'translateY(2px)' }} />\n          Replying to{' '}\n          <Link\n            to={`/profile/${postData.replyTo.author.username}`}\n            onClick={(e) => setModalIsOpen(false)}\n            style={{ color: 'rgb(29, 161, 242)' }}\n          >\n            @{postData.replyTo.author.username}\n          </Link>\n        </div>\n      )}\n      {/* this is for when the post is a reply to a deleted post */}\n      {isReply && postData.replyTo === null && (\n        <div className=\"shared-by-heading\">\n          <FaRegComment style={{ marginRight: '4px', transform: 'translateY(2px)' }} />\n          Replying to DELETED POST{' '}\n        </div>\n      )}\n      {/* pinned post heading */}\n      {postData.pinned && !isRepost && showPinHeading && (\n        <div className=\"shared-by-heading\">\n          <AiOutlinePushpin style={{ marginRight: '4px', transform: 'translateY(1px)' }} />\n          Pinned post\n        </div>\n      )}\n      <div className=\"main-content-container\">\n        <div className=\"user-image-container\">\n          <img src={postImage} alt=\"post author profile pic\" />\n        </div>\n        <div className=\"post-content-container\">\n          <div className=\"post-header\">\n            <span className=\"display-name\" onClick={(e) => setModalIsOpen(false)}>\n              <Link to={`/profile/${postData.author.username}`} style={displayNameStyle}>\n                {userFullName}\n              </Link>\n            </span>\n            <span className=\"username\">@{postData.author.username}</span>\n\n            {/* only show delete if it is not a repost, since that would delete the original\n            post as the repost data is copied over to the repost. also allow admin to delete\n            any post */}\n            {(isCurrentUsersPost || currentUser.admin) && !isRepost && isDeletable && (\n              <div style={{ marginLeft: 'auto', display: 'flex' }}>\n                {showPin && (\n                  <div className=\"delete-post-btn\">\n                    <AiOutlinePushpin\n                      onClick={postData.pinned === true ? unpin : openPinModal}\n                      style={postData.pinned === true ? { color: 'rgb(226, 34, 94)' } : {}}\n                    />\n                  </div>\n                )}\n                <div className=\"delete-post-btn\" style={{ marginLeft: '10px' }}>\n                  <IoCloseOutline style={deleteBtnStyle} onClick={openDeleteModal} />{' '}\n                </div>\n              </div>\n            )}\n          </div>\n          <div\n            className={`post-body ${isTruncated == 'false' ? '' : 'post-body-truncated'}`}\n            style={{ whiteSpace: 'pre-wrap', fontSize: makeBig ? '24px' : '16px' }}\n            ref={myPostElement}\n          >\n            {postData.content}\n          </div>\n\n          {truncatePost == 'true' && isTruncated == 'true' && (\n            <p\n              className=\"date truncate-message\"\n              style={{ marginBottom: '10px' }}\n              onClick={toggleTruncatedPost}\n            >\n              Post collapsed. View more...\n            </p>\n          )}\n          {truncatePost == 'true' && isTruncated == 'false' && (\n            <p\n              className=\"date truncate-message\"\n              style={{ marginBottom: '10px' }}\n              onClick={toggleTruncatedPost}\n            >\n              Collapse post\n            </p>\n          )}\n\n          <div className=\"date\">{timestamp}</div>\n          <div className=\"post-footer\">\n            <div className=\"post-button-container\">\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  openReplyModal(postData);\n                }}\n              >\n                <FaRegComment style={isCommentedOn ? commentActiveStyle : commentIconStyle} />\n                <span\n                  className={`number-comments ${isCommentedOn ? 'number-comments-active' : ''}`}\n                  style={{ fontSize: makeBig ? '24px' : '16px', marginLeft: '5px' }}\n                >\n                  {postData.replies.length || ''}\n                </span>\n              </button>\n            </div>\n            <div className=\"post-button-container post-button-container-share\">\n              <button onClick={sharePost}>\n                <AiOutlineRetweet style={isShared ? shareActiveStyle : buttonIconStyle} />\n                <span\n                  className={`number-shares ${isShared ? 'number-shares-active' : ''}`}\n                  style={{ fontSize: makeBig ? '24px' : '16px' }}\n                >\n                  {postData.sharedBy.length || ''}\n                </span>\n              </button>\n            </div>\n            <div className=\"post-button-container post-button-container-dislike\">\n              <button className=\"dislike-button\" onClick={dislikePost}>\n                <AiOutlineDislike style={isDisliked ? dislikeActiveStyle : buttonIconStyle} />\n                <span\n                  className={`number-dislikes ${isDisliked ? 'number-dislikes-active' : ''}`}\n                  style={{ fontSize: makeBig ? '24px' : '16px' }}\n                >\n                  {postData.dislikes.length || ''}\n                </span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nPost.defaultProps = {\n  allowComments: true, // i cant remember what this is for, but it is important. i think its to do with commenting from within a modal\n  makeBig: false, // this is to make the text and buttons of a post bigger\n  isDeletable: true, // this is to not allow deleting from within a modal. i could have multiple modals up but this is easier\n  showPin: false, // only show pin on profile page\n  showPinHeading: false, // need a seperate flag for heading to be able to see the heading on other profiles\n};\n\nexport default Post;\n","// to save me copying this into each modal\n\nconst modalStyle = {\n  overlay: {\n    backgroundColor: 'rgba(0, 0, 0, .9)',\n    height: 'calc(100vh + 100px)',\n    zIndex: 3,\n  },\n  content: {\n    backgroundColor: 'rgb(21, 24, 28)',\n    maxWidth: '600px',\n    height: 'fit-content',\n    zIndex: 3,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    top: 'calc(50% - 50px)',\n    left: '10px',\n    right: '10px',\n    // transform: 'translateY(-50%)',\n    borderRadius: '15px',\n    border: '1px solid #3a3a3a',\n    border: 'none',\n  },\n};\n\nexport default modalStyle;\n","import React, { useEffect, useState, useContext } from 'react';\n\nimport Modal from 'react-modal';\n\nimport { ModalContext } from './ModalContext';\n\nimport modalStyle from './modalStyle';\n\nconst DeletePostModal = ({ deleteComment, deletePost }) => {\n  // get delete modal state from context\n  const { deleteModalIsOpen, setDeleteModalIsOpen } = useContext(ModalContext);\n\n  const deletePostWrapper = (id) => {\n    deletePost(id);\n    setDeleteModalIsOpen(false);\n  };\n\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={deleteModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setDeleteModalIsOpen(false)}\n    >\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <h2 className=\"main-content-heading\" style={{ marginRight: 'auto', marginBottom: '0px' }}>\n          Delete post?\n        </h2>\n        <button\n          className=\"modal-delete-btn\"\n          style={{ marginRight: '20px' }}\n          onClick={(e) => deletePostWrapper(deleteComment)}\n        >\n          Yes\n        </button>\n        <button className=\"modal-delete-btn\" onClick={(e) => setDeleteModalIsOpen(false)}>\n          No\n        </button>\n      </div>\n    </Modal>\n  );\n};\n\nexport default DeletePostModal;\n","import React from 'react';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  componentDidCatch(error, info) {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return null;\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React, { useEffect, useContext } from 'react';\n\nimport Modal from 'react-modal';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport ErrorBoundary from '../ErrorBoundary';\n\nimport { ModalContext } from './ModalContext';\nimport Post from '../MainPage/MainContent/Post';\nimport CreatePostForm from '../MainPage/MainContent/CreatePostForm';\n\nimport { v4 as uuidv4 } from 'uuid';\nimport modalStyle from './modalStyle';\n\nconst ReplyModal = ({\n  currentUser,\n  replyComment,\n  replyHeading,\n  replyTextPlaceholder,\n  getPost,\n  setCurrentUser,\n}) => {\n  // get delete modal state from context\n  const { modalIsOpen, setModalIsOpen } = useContext(ModalContext);\n\n  // focus text box on popup\n  useEffect(() => {\n    if (modalIsOpen) {\n      // some pages will crash when clicking browser back arrow with open modal\n\n      setTimeout(() => {\n        try {\n          document.querySelector('.ReactModal__Content #post-textarea').focus();\n        } catch {\n          setModalIsOpen(false);\n        }\n      }, 0);\n    }\n  }, [modalIsOpen]);\n\n  // handle error when pressing back arrow with open modal\n  try {\n    return (\n      <Modal\n        style={modalStyle}\n        isOpen={modalIsOpen}\n        closeTimeoutMS={300}\n        onRequestClose={() => setModalIsOpen(false)}\n      >\n        <div\n          className=\"heading-container\"\n          style={{ display: 'flex', justifyContent: 'space-between' }}\n        >\n          <h2 className=\"main-content-heading\">{replyHeading}</h2>\n\n          <span className=\"close-modal-icon-wrapper\">\n            <AiOutlineCloseCircle\n              style={{ fontSize: '22px', cursor: 'pointer' }}\n              onClick={() => setModalIsOpen(false)}\n            />\n          </span>\n        </div>\n\n        {/* when pressing the back arrow with open modal, the post component fails as\n        it no longer has the data required to render */}\n        <ErrorBoundary>\n          <Post\n            postData={replyComment}\n            currentUser={currentUser}\n            key={uuidv4()}\n            forceUpdate={getPost}\n            setModalIsOpen={setModalIsOpen}\n            allowComments={false}\n            isDeletable={false}\n          />\n        </ErrorBoundary>\n\n        <CreatePostForm\n          currentUser={currentUser}\n          setCurrentUser={setCurrentUser}\n          textPlaceholder={replyTextPlaceholder}\n          buttonText={'Reply'}\n          setModalIsOpen={setModalIsOpen}\n          isReply={true}\n          replyComment={replyComment}\n          forceUpdate={getPost}\n        />\n      </Modal>\n    );\n  } catch {\n    return <div></div>;\n  }\n};\n\nexport default ReplyModal;\n","import axios from 'axios';\n\nconst deletePostRequest = (id, rerenderFunction) => {\n  axios({\n    method: 'delete',\n\n    withCredentials: true,\n    url: `${process.env.REACT_APP_BASE_URL}/api/posts/${id}`,\n  }).then((res) => {\n    //rerender posts\n    rerenderFunction();\n  });\n};\n\nexport default deletePostRequest;\n","import React from 'react';\nimport { useState, useEffect, useContext, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Modal from 'react-modal';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport CreatePostForm from './CreatePostForm';\nimport Post from './Post';\nimport DeletePostModal from '../../Modals/DeletePostModal';\nimport ReplyModal from '../../Modals/ReplyModal';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport deletePostRequest from '../../../utils/deletePostRequest';\nimport logoIcon from '../../../images/logo-large.png';\n\nModal.setAppElement('#root');\n\nconst Home = ({ currentUser, setCurrentUser }) => {\n  // all posts\n  const [posts, setPosts] = useState([]);\n\n  // keep track of which comment is being replied to\n  const [replyComment, setReplyComment] = useState(null);\n\n  // keep track of the id of which comment is being deleted\n  const [deleteComment, setDeleteComment] = useState(null);\n\n  const [noPosts, setNoPosts] = useState(false);\n\n  const history = useHistory();\n\n  const isInitialMount = useRef(true);\n\n  // keep track of the number of 'pages' of posts to display in infininite scroll.\n  const [numPages, setNumPages] = useState(1);\n\n  const getPosts = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/posts`,\n      params: { followingPostsOnly: true },\n    })\n      .then((res) => {\n        // set retrieved posts to post state array\n        if (res.data.length > 0 && res.data[0].author.firstName === undefined) {\n          return alert('author data not populated ');\n        }\n\n        setPosts(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n        // user has been signed out. redirect to home page\n        if (err.response && err.response.status == 401) {\n          // window.location.reload();\n          console.log('user was logged out');\n        }\n      });\n  };\n\n  // update the reply comment to its new data after being disliked or shared.\n  // this allows the dislike and share button to update within the reply modal.\n  useEffect(() => {\n    if (replyComment) {\n      const updatedReplyComment = posts.filter((post) => post._id === replyComment._id);\n\n      setReplyComment(updatedReplyComment[0]);\n    }\n  }, [posts]);\n\n  // fetch posts on page load or if users are followed from the side bar\n  useEffect(() => {\n    getPosts();\n  }, [currentUser]);\n\n  // need to get posts twice on initial load otherwise the local storage data isnt read for some reason.\n  // one day ill find out why. will i really? maybe...\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  // delete post\n  const deletePost = (id) => {\n    deletePostRequest(id, getPosts);\n  };\n\n  const goToSearchPage = () => {\n    history.push('/search');\n  };\n\n  const goToBensPage = () => {\n    history.push('/profile/coolben');\n  };\n\n  const showAnotherPage = () => {\n    setNumPages((x) => x + 1);\n  };\n\n  // only show 20 posts per 'page' of infinate scroll.\n  // as you scroll down to bottom the number of pages to show increases\n  const postItems = posts\n    .slice(0, 20 * numPages)\n    .map((post) => (\n      <Post\n        postData={post}\n        currentUser={currentUser}\n        key={uuidv4()}\n        forceUpdate={getPosts}\n        setReplyComment={setReplyComment}\n        setDeleteComment={setDeleteComment}\n      />\n    ));\n\n  let replyHeading = '';\n  let replyTextPlaceholder = '';\n\n  // generates custom reply popup message depending on who you reply to\n  // the check for undefined stops the app from crashing when you reply to a reply from within\n  // the view post page. i dont really understand why it crashes without it.\n  if (replyComment !== null && replyComment !== undefined) {\n    if (replyComment.author.username === currentUser.username) {\n      replyHeading = 'Reply to... yourself?';\n      replyTextPlaceholder = 'Replying to yourself huh? You must have a lot of friends...';\n    } else {\n      replyHeading = `Reply to ${replyComment.author.username}`;\n      replyTextPlaceholder = `Give ${replyComment.author.username} a piece of your mind..`;\n    }\n  }\n\n  // show the welcome message if there are no posts after loading\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      if (posts.length === 0) {\n        setNoPosts(true);\n      } else {\n        setNoPosts(false);\n      }\n    }\n  }, [posts]);\n\n  const noPostsToShow = (\n    <div style={{ marginTop: '20px' }}>\n      <h2 className=\"main-content-heading\">Welcome to lifeinvader!</h2>\n      <p className=\"paragraph-text\">\n        Stalk other lifeinvader users to see their posts here on the home page.\n      </p>\n      <p className=\"paragraph-text\">\n        Check out{' '}\n        <span className=\"text-link\" onClick={goToBensPage}>\n          Ben's profile here\n        </span>\n        , or search for users from the{' '}\n        <span className=\"text-link\" onClick={goToSearchPage}>\n          search page.\n        </span>\n      </p>\n      <div className=\"image-wrapper\" style={{ width: '60%', margin: '50px auto 0' }}>\n        <img src={logoIcon} alt=\"logo\" style={{ width: '100%' }} />\n      </div>\n    </div>\n  );\n\n  return (\n    <div>\n      <ReplyModal\n        currentUser={currentUser}\n        setCurrentUser={setCurrentUser}\n        replyComment={replyComment}\n        replyHeading={replyHeading}\n        replyTextPlaceholder={replyTextPlaceholder}\n        getPost={getPosts}\n      />\n\n      <DeletePostModal deleteComment={deleteComment} deletePost={deletePost} />\n\n      <h1 className=\"main-content-heading\">Home</h1>\n      <CreatePostForm\n        currentUser={currentUser}\n        forceUpdate={getPosts}\n        setCurrentUser={setCurrentUser}\n        textPlaceholder={`Hey ${currentUser.firstName}, what's going on?`}\n      />\n      <div className=\"posts-container\">\n        {/* {postItems} */}\n        <InfiniteScroll\n          dataLength={20 * numPages}\n          next={showAnotherPage}\n          hasMore={posts.length > numPages * 20}\n          scrollThreshold={0.9}\n        >\n          {postItems}\n        </InfiniteScroll>\n      </div>\n      {noPosts && noPostsToShow}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { HiOutlineEmojiSad } from 'react-icons/hi';\nimport DeletePostModal from '../../Modals/DeletePostModal';\nimport ReplyModal from '../../Modals/ReplyModal';\n\nimport Post from './Post';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\nimport deletePostRequest from '../../../utils/deletePostRequest';\n\nconst ViewPost = ({ currentUser, setCurrentUser }) => {\n  const id = useParams().id;\n\n  // the post we are currently viewing\n  const [post, setPost] = useState([]);\n\n  // the post this post is replying to, if this post is a reply\n  const [replyingTo, setReplyingTo] = useState(null);\n\n  // the replies to this post we are viewing\n  const [postReplies, setPostReplies] = useState([]);\n\n  // show error message if no post is returned\n  const [showError, setShowError] = useState(false);\n\n  // keep track of which comment is being replied to in the modal\n  const [replyComment, setReplyComment] = useState(null);\n\n  // keep track of which comment is being deleted\n  const [deleteComment, setDeleteComment] = useState(null);\n\n  // get specific post\n  const getPost = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/posts/${id}`,\n    })\n      .then((res) => {\n        // console.log(res.data);\n        // set the post we are viewing\n        setPost([res.data.post]);\n\n        // set the post we are viewing is replying to.\n        // the null check is for when we are replying to a deleted post.\n        if (\n          res.data.replyTo !== undefined &&\n          res.data.replyTo !== null &&\n          res.data.replyTo._id !== undefined\n        ) {\n          setReplyingTo(res.data.replyTo);\n        } else {\n          // in the case when switching between view post pages,\n          // we need to reset this so if we view a comment that is not a reply,\n          // it wont still show the previous reply that was loaded\n          setReplyingTo(null);\n        }\n\n        // set any replies to the post we are viewing\n        setPostReplies(res.data.replies);\n\n        // turn off the error\n        setShowError(false);\n      })\n      .catch((err) => {\n        console.log(err);\n\n        // need to reset post data, so that when you delete the subject of a view post page,\n        // it doesnt still show the posts as well as the error message.\n        setPost([]);\n        setReplyingTo(null);\n        setPostReplies([]);\n\n        setShowError(true);\n        // user has been signed out. redirect to home page\n        if (err.response && err.response.status == 401) {\n          window.location.reload();\n        }\n      });\n  };\n\n  // fetch post on page load\n  useEffect(() => {\n    getPost();\n\n    return () => {\n      // im not sure why i had this, i may need it for something\n      // setPost([]);\n    };\n\n    // need to update on id because the page doesnt refresh when\n    // you view a new post from the view post page\n  }, [id]);\n\n  // update the reply comment to its new data after being disliked or shared.\n  // this allows the dislike and share button to update within the reply modal.\n  // need to seperatley check replyTo, post and post replies for the right comment.\n\n  useEffect(() => {\n    if (replyComment) {\n      // check the subject post\n      // console.log(post[0]);\n      if (post.length > 0 && post[0]._id === replyComment._id) {\n        setReplyComment(post[0]);\n      }\n    }\n  }, [post]);\n\n  useEffect(() => {\n    if (replyComment) {\n      // check the comment the subject post is replying to\n      if (replyingTo) {\n        // if this was the comment we are interacting with in reply modal\n        if (replyingTo._id === replyComment._id) {\n          setReplyComment(replyingTo);\n        }\n      }\n    }\n  }, [replyingTo]);\n\n  useEffect(() => {\n    if (replyComment) {\n      // check subject post replies\n      if (postReplies.length > 0) {\n        postReplies.map((reply) => {\n          if (reply._id === replyComment._id) {\n            setReplyComment(reply);\n          }\n        });\n      }\n    }\n  }, [postReplies]);\n\n  // delete post\n  const deletePost = (id) => {\n    deletePostRequest(id, getPost);\n  };\n\n  const postItem = post.map((post_) => (\n    <Post\n      postData={post[0]}\n      currentUser={currentUser}\n      key={uuidv4()}\n      forceUpdate={getPost}\n      setReplyComment={setReplyComment}\n      setDeleteComment={setDeleteComment}\n      makeBig={true}\n    />\n  ));\n\n  const postReplyItems = postReplies.map((post) => (\n    <Post\n      postData={post}\n      currentUser={currentUser}\n      key={uuidv4()}\n      forceUpdate={getPost}\n      setReplyComment={setReplyComment}\n      setDeleteComment={setDeleteComment}\n    />\n  ));\n  postReplyItems.reverse();\n\n  const replyToItem =\n    replyingTo !== null ? (\n      <Post\n        postData={replyingTo}\n        currentUser={currentUser}\n        key={uuidv4()}\n        forceUpdate={getPost}\n        setReplyComment={setReplyComment}\n        setDeleteComment={setDeleteComment}\n      />\n    ) : null;\n\n  let replyHeading = '';\n  let replyTextPlaceholder = '';\n\n  // generates custom reply popup message depending on who you reply to\n  // the check for undefined stops the app from crashing when you reply to a reply from within\n  // the view post page. i dont really understand why it crashes without it.\n  if (replyComment !== null && replyComment !== undefined) {\n    if (replyComment.author.username === currentUser.username) {\n      replyHeading = 'Reply to... yourself?';\n      replyTextPlaceholder = 'Replying to yourself huh? You must have a lot of friends...';\n    } else {\n      replyHeading = `Reply to ${replyComment.author.username}`;\n      replyTextPlaceholder = `Give ${replyComment.author.username} a piece of your mind..`;\n    }\n  }\n  return (\n    <div>\n      <ReplyModal\n        currentUser={currentUser}\n        setCurrentUser={setCurrentUser}\n        replyComment={replyComment}\n        replyHeading={replyHeading}\n        replyTextPlaceholder={replyTextPlaceholder}\n        getPost={getPost}\n      />\n      <DeletePostModal deleteComment={deleteComment} deletePost={deletePost} />\n      <h1 className=\"main-content-heading\">View Post</h1>\n\n      <div className=\"posts-container\">\n        {replyToItem}\n        {postItem.length > 0 && postItem[0]}\n        {postReplies.length > 0 && postReplyItems}\n        {showError && (\n          <div>\n            <h2>Post not found</h2>\n            <HiOutlineEmojiSad style={{ fontSize: '50px', marginTop: '15px' }} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ViewPost;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { ModalContext } from '../../Modals/ModalContext';\n\nimport { FiEdit3 } from 'react-icons/fi';\n\nconst ProfileDescription = ({ currentUser, profileUser }) => {\n  const { setEditDescriptionModalIsOpen } = useContext(ModalContext);\n\n  return (\n    <div>\n      {profileUser.description !== undefined && (\n        <p id=\"profile-desc\" spellCheck=\"false\">\n          {profileUser.description}\n        </p>\n      )}\n      {currentUser._id === profileUser._id && (\n        <div className=\"edit-label\" onClick={(e) => setEditDescriptionModalIsOpen(true)}>\n          Edit profile description{' '}\n          <FiEdit3 style={{ marginLeft: '5px', transform: 'translateY(3px)' }} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileDescription;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport Modal from 'react-modal';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport { ModalContext } from './ModalContext';\n\nimport modalStyle from './modalStyle';\n\nimport axios from 'axios';\n\nconst PinModal = ({ getProfilePosts }) => {\n  // get delete modal state from context\n  const { pinModalIsOpen, setPinModalIsOpen, pinPostId, setPinPostId } = useContext(ModalContext);\n  const history = useHistory();\n\n  const pinPostWrapper = () => {\n    if (pinPostId) {\n      axios({\n        method: 'put',\n        withCredentials: true,\n        url: `${process.env.REACT_APP_BASE_URL}/api/posts/${pinPostId}`,\n        data: { pinned: true },\n      })\n        .then((res) => {\n          setPinPostId(null);\n          // history.go(0);\n          getProfilePosts();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n\n    setPinModalIsOpen(false);\n  };\n\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={pinModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setPinModalIsOpen(false)}\n    >\n      <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n        <h2 className=\"main-content-heading\" style={{ marginRight: 'auto', marginBottom: '20px' }}>\n          Pin post?\n        </h2>\n        <span className=\"close-modal-icon-wrapper\">\n          <AiOutlineCloseCircle\n            style={{ fontSize: '22px', cursor: 'pointer' }}\n            onClick={() => setPinModalIsOpen(false)}\n          />\n        </span>\n      </div>\n      <p style={{ fontSize: '16px' }}>\n        Your pinned post will appear at the top of your profile. You may have only one pinned post\n        at a time.\n      </p>\n      <button className=\"modal-delete-btn\" onClick={pinPostWrapper} style={{ marginTop: '20px' }}>\n        Pin post\n      </button>\n    </Modal>\n  );\n};\n\nexport default PinModal;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport Modal from 'react-modal';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport { ModalContext } from './ModalContext';\n\nimport modalStyle from './modalStyle';\n\nimport axios from 'axios';\n\nconst UnPinModal = ({ getProfilePosts }) => {\n  // get delete modal state from context\n  const { unPinModalIsOpen, setUnPinModalIsOpen, pinPostId, setPinPostId } =\n    useContext(ModalContext);\n  const history = useHistory();\n\n  const pinPostWrapper = () => {\n    if (pinPostId) {\n      axios({\n        method: 'put',\n        withCredentials: true,\n        url: `${process.env.REACT_APP_BASE_URL}/api/posts/${pinPostId}`,\n        data: { pinned: false },\n      })\n        .then((res) => {\n          setPinPostId(null);\n          // history.go(0);\n          getProfilePosts();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n\n    setUnPinModalIsOpen(false);\n  };\n\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={unPinModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setUnPinModalIsOpen(false)}\n    >\n      <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n        <h2 className=\"main-content-heading\" style={{ marginRight: 'auto', marginBottom: '20px' }}>\n          Unpin post?\n        </h2>\n        <span className=\"close-modal-icon-wrapper\">\n          <AiOutlineCloseCircle\n            style={{ fontSize: '22px', cursor: 'pointer' }}\n            onClick={() => setUnPinModalIsOpen(false)}\n          />\n        </span>\n      </div>\n      <p style={{ fontSize: '16px' }}>\n        Your pinned post will no longer appear at the top of your profile.\n      </p>\n      <button className=\"modal-delete-btn\" onClick={pinPostWrapper} style={{ marginTop: '20px' }}>\n        Unpin post\n      </button>\n    </Modal>\n  );\n};\n\nexport default UnPinModal;\n","// cropImage.js\n\n// create the image with a src of the base64 string\nconst createImage = (url) =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener('load', () => resolve(image));\n    image.addEventListener('error', (error) => reject(error));\n    image.setAttribute('crossOrigin', 'anonymous');\n    image.src = url;\n  });\n\nexport const getCroppedImg = async (imageSrc, crop, x, y) => {\n  const image = await createImage(imageSrc);\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n\n  /* setting canvas width & height allows us to \n    resize from the original image resolution */\n  canvas.width = x;\n  canvas.height = y;\n\n  ctx.drawImage(image, crop.x, crop.y, crop.width, crop.height, 0, 0, canvas.width, canvas.height);\n\n  return new Promise((resolve) => {\n    canvas.toBlob((blob) => {\n      resolve(blob);\n    }, 'image/jpeg');\n  });\n};\n","import React, { useState } from 'react';\nimport Cropper from 'react-easy-crop';\nimport { getCroppedImg } from '../../../utils/cropImage';\n\nconst ImageCropper = ({ getBlob, inputImg, options }) => {\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n\n  const onCropComplete = async (_, croppedAreaPixels) => {\n    const croppedImage = await getCroppedImg(inputImg, croppedAreaPixels, options.x, options.y);\n    getBlob(croppedImage);\n  };\n\n  return (\n    <div className=\"cropper\">\n      <Cropper\n        image={inputImg}\n        crop={crop}\n        zoom={zoom}\n        aspect={options.aspect}\n        onCropChange={setCrop}\n        onCropComplete={onCropComplete}\n        onZoomChange={setZoom}\n        zoomSpeed={0.5}\n      />\n    </div>\n  );\n};\n\nexport default ImageCropper;\n","import React, { useState, useContext } from 'react';\nimport { ModalContext } from '../../Modals/ModalContext';\n\nimport ImageCropper from './ImageCropper';\n\nimport axios from 'axios';\n\nconst ImageUpload = ({ setCurrentUser, options }) => {\n  const [blob, setBlob] = useState(null);\n  const [inputImg, setInputImg] = useState('');\n\n  const { setProfilePicModalIsOpen, setCoverPhotoModalIsOpen } = useContext(ModalContext);\n\n  const getBlob = (blob) => {\n    // pass blob up from the ImageCropper component\n    setBlob(blob);\n  };\n\n  const onInputChange = (e) => {\n    // convert image file to base64 string\n    const file = e.target.files[0];\n    const reader = new FileReader();\n\n    reader.addEventListener(\n      'load',\n      () => {\n        setInputImg(reader.result);\n      },\n      false\n    );\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmitImage = (e) => {\n    e.preventDefault();\n\n    // different routing for different images\n    if (options.type === 'user-img') {\n      const formData = new FormData();\n      formData.append('profilePic', blob);\n\n      axios({\n        method: 'post',\n        data: formData,\n        withCredentials: true,\n        url: `${process.env.REACT_APP_BASE_URL}/api/users/profilePicture`,\n        headers: {\n          contentType: false,\n          processData: false,\n        },\n      })\n        .then((res) => {\n          // set current user to be the updated user with new picture\n          setCurrentUser(res.data);\n          setProfilePicModalIsOpen(false);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else if (options.type === 'cover-img') {\n      const formData = new FormData();\n      formData.append('coverPic', blob);\n\n      axios({\n        method: 'post',\n        data: formData,\n        withCredentials: true,\n        url: `${process.env.REACT_APP_BASE_URL}/api/users/coverPhoto`,\n        headers: {\n          contentType: false,\n          processData: false,\n        },\n      })\n        .then((res) => {\n          // set current user to be the updated user with new picture\n          setCurrentUser(res.data);\n          setCoverPhotoModalIsOpen(false);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmitImage}>\n      <input type=\"file\" accept=\"image/*\" onChange={onInputChange} />\n      <p className=\"crop-instructions\">Select image file then drag and zoom to crop</p>\n      {inputImg && <ImageCropper getBlob={getBlob} inputImg={inputImg} options={options} />}\n      <button\n        type=\"submit\"\n        className=\"image-submit-btn\"\n        disabled={blob === null ? true : false}\n        style={{ cursor: blob === null ? 'not-allowed' : 'pointer' }}\n      >\n        Submit\n      </button>\n    </form>\n  );\n};\n\nexport default ImageUpload;\n","import React, { useEffect, useState, useContext } from 'react';\n\nimport { ModalContext } from './ModalContext';\nimport Modal from 'react-modal';\nimport ImageUpload from '../../components/MainPage/MainContent/ImageUpload';\n\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nimport modalStyle from './modalStyle';\n\nconst ProfilePictureModal = ({ setCurrentUser }) => {\n  // get delete modal state from context\n  const { profilePicModalIsOpen, setProfilePicModalIsOpen } = useContext(ModalContext);\n\n  // photo cropping / uploading options\n  const options = {\n    x: 150,\n    y: 150,\n    type: 'user-img',\n    aspect: 1,\n  };\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={profilePicModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setProfilePicModalIsOpen(false)}\n    >\n      <div>\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <h2 className=\"main-content-heading\">Upload profile picture</h2>\n          <span className=\"close-modal-icon-wrapper\">\n            <AiOutlineCloseCircle\n              style={{ fontSize: '22px', cursor: 'pointer' }}\n              onClick={() => setProfilePicModalIsOpen(false)}\n            />\n          </span>\n        </div>\n\n        <ImageUpload setCurrentUser={setCurrentUser} options={options} />\n      </div>\n    </Modal>\n  );\n};\n\nexport default ProfilePictureModal;\n","import React, { useEffect, useState, useContext } from 'react';\n\nimport { ModalContext } from './ModalContext';\nimport Modal from 'react-modal';\nimport ImageUpload from '../../components/MainPage/MainContent/ImageUpload';\n\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nimport modalStyle from './modalStyle';\n\nconst CoverPhotoModal = ({ setCurrentUser }) => {\n  // get delete modal state from context\n  const { coverPhotoModalIsOpen, setCoverPhotoModalIsOpen } = useContext(ModalContext);\n\n  // photo cropping / uploading options\n  const options = {\n    x: 600,\n    y: 180,\n    type: 'cover-img',\n    aspect: 10 / 3,\n  };\n\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={coverPhotoModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setCoverPhotoModalIsOpen(false)}\n    >\n      <div>\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <h2 className=\"main-content-heading\">Upload cover photo</h2>\n          <span className=\"close-modal-icon-wrapper\">\n            <AiOutlineCloseCircle\n              style={{ fontSize: '22px', cursor: 'pointer' }}\n              onClick={() => setCoverPhotoModalIsOpen(false)}\n            />\n          </span>\n        </div>\n\n        <ImageUpload setCurrentUser={setCurrentUser} options={options} />\n      </div>\n    </Modal>\n  );\n};\n\nexport default CoverPhotoModal;\n","import React, { useEffect, useState, useContext } from 'react';\n\nimport { ModalContext } from './ModalContext';\nimport Modal from 'react-modal';\n\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport axios from 'axios';\n\nimport modalStyle from './modalStyle';\n\nconst EditDescriptionModal = ({ currentUser, setCurrentUser }) => {\n  const [textContent, setTextContent] = useState(\n    currentUser.description ? currentUser.description : ''\n  );\n\n  // get description modal state from context\n  const { editDescriptionModalIsOpen, setEditDescriptionModalIsOpen } = useContext(ModalContext);\n\n  // resize text area to avoid text scroll\n  const resizeTextarea = function (e) {\n    const textarea = document.querySelector('#edit-description-textarea');\n    textarea.style.height = 'auto';\n    textarea.style.height = textarea.scrollHeight + 'px';\n  };\n\n  // this is the only way i could resize the text area as the modal opens.\n  // otherwise textarea is null and the app crashes.\n  // before the text area would be the minimum size on modal open (causing scroll),\n  // and would only resize when editing the text\n  useEffect(() => {\n    if (editDescriptionModalIsOpen) {\n      setTimeout(() => {\n        resizeTextarea();\n      }, 0);\n    }\n  }, [editDescriptionModalIsOpen]);\n\n  // focus text box on popup\n  useEffect(() => {\n    if (editDescriptionModalIsOpen) {\n      setTimeout(() => {\n        const textbox = document.querySelector('#edit-description-textarea');\n        textbox.focus();\n        // set cursor at end of textarea\n        textbox.setSelectionRange(textbox.value.length, textbox.value.length);\n      }, 0);\n    }\n  }, [editDescriptionModalIsOpen]);\n\n  const updateDescription = () => {\n    const newDescription = textContent.trim();\n\n    axios({\n      method: 'put',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/users/description`,\n      data: { description: newDescription },\n    })\n      .then((res) => {\n        setCurrentUser(res.data);\n        setEditDescriptionModalIsOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={editDescriptionModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setEditDescriptionModalIsOpen(false)}\n    >\n      <div>\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <h2 className=\"main-content-heading\">Edit profile description</h2>\n          <span className=\"close-modal-icon-wrapper\">\n            <AiOutlineCloseCircle\n              style={{ fontSize: '22px', cursor: 'pointer' }}\n              onClick={() => setEditDescriptionModalIsOpen(false)}\n            />\n          </span>\n        </div>\n        <div className=\"modal-body\">\n          <textarea\n            placeholder=\"Add a profile description..\"\n            id=\"edit-description-textarea\"\n            spellCheck={false}\n            onInput={resizeTextarea}\n            value={textContent}\n            onChange={(e) => setTextContent(e.target.value)}\n            maxLength={'100'}\n            style={{ height: 'auto' }}\n            onLoad={(e) => console.log('load')}\n          ></textarea>\n          <div className=\"modal-buttons\">\n            <button\n              className=\"follow-btn\"\n              style={{ marginLeft: '0px' }}\n              onClick={updateDescription}\n            >\n              Save\n            </button>\n            <button className=\"follow-btn\" onClick={() => setEditDescriptionModalIsOpen(false)}>\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default EditDescriptionModal;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport Post from './Post';\nimport CreatePostForm from './CreatePostForm';\nimport ProfileDescription from './ProfileDescription';\nimport DeletePostModal from '../../Modals/DeletePostModal';\nimport PinModal from '../../Modals/PinModal';\nimport UnPinModal from '../../Modals/UnPinModal';\nimport ReplyModal from '../../Modals/ReplyModal';\nimport ProfilePictureModal from '../../Modals/ProfilePictureModal';\nimport CoverPhotoModal from '../../Modals/CoverPhotoModal';\nimport EditDescriptionModal from '../../Modals/EditDescriptionModal';\nimport { ModalContext } from '../../Modals/ModalContext';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { HiOutlineEmojiSad } from 'react-icons/hi';\nimport { FiMail } from 'react-icons/fi';\nimport { FaCameraRetro } from 'react-icons/fa';\n\nimport deletePostRequest from '../../../utils/deletePostRequest';\nimport sockets from '../../../sockets';\n\nconst ProfilePage = ({ currentUser, setCurrentUser }) => {\n  const { setProfilePicModalIsOpen, setCoverPhotoModalIsOpen } = useContext(ModalContext);\n\n  const profileName = useParams().username;\n\n  // profile user data for the profile page\n  const [profileUser, setProfileUser] = useState(null);\n\n  // profile user post data\n  const [posts, setPosts] = useState([]);\n\n  // profile user reply data\n  const [replies, setReplies] = useState([]);\n\n  // profile pinned post\n  const [pinnedPost, setPinnedPost] = useState([]);\n\n  // if the logged in user is following the profile we are viewing\n  const [isFollowing, setIsFollowing] = useState(false);\n\n  // the active tab the user is viewing. eg posts or replies\n  const [activeTab, setActiveTab] = useState('Posts');\n\n  // show error message if no user is returned\n  const [showError, setShowError] = useState(false);\n\n  // keep track of which comment is being replied to in the modal\n  const [replyComment, setReplyComment] = useState(null);\n\n  // keep track of which comment is being deleted\n  const [deleteComment, setDeleteComment] = useState(null);\n\n  // the number of followers the profile has\n  const [numFollowers, setNumFollowers] = useState(0);\n\n  // the number of people the profile is following\n  const [numFollowing, setNumFollowing] = useState(0);\n\n  // keep track of the number of 'pages' of posts to display in infininite scroll.\n  const [numPages, setNumPages] = useState(1);\n\n  const getProfileUser = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/profile/${profileName}`,\n    })\n      .then((res) => {\n        setShowError(false);\n        setProfileUser(res.data);\n\n        // set the amount of profile followers\n        if (res.data.followers) {\n          setNumFollowers(res.data.followers.length);\n        }\n\n        // set the amount of people the profile is following\n        if (res.data.following) {\n          setNumFollowing(res.data.following.length);\n        }\n\n        // check to see if the logged in user is following the user profile\n        // we are viewing\n        if (currentUser.following && currentUser.following.includes(res.data._id)) {\n          setIsFollowing(true);\n        }\n      })\n      .catch((err) => {\n        setShowError(true);\n      });\n  };\n\n  const getProfilePosts = () => {\n    // console.log(profileUser);\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/posts`,\n      params: { author: profileUser._id },\n    })\n      .then((res) => {\n        // set retrieved posts to post state array\n        if (res.data.length > 0 && res.data[0].author.firstName === undefined) {\n          return alert('author data not populated ');\n        }\n\n        const profilePagePosts = res.data.filter(\n          (post) => post.replyTo === undefined && post.pinned !== true\n        );\n        const profilePageReplies = res.data.filter((post) => post.replyTo !== undefined);\n        const profilePagePinnedPost = res.data.filter((post) => post.pinned === true);\n\n        setPosts(profilePagePosts);\n        setReplies(profilePageReplies);\n        setPinnedPost(profilePagePinnedPost);\n      })\n      .catch((err) => {\n        console.log(err);\n        // user has been signed out. redirect to home page\n        if (err.response && err.response.status == 401) {\n          window.location.reload();\n        }\n      });\n  };\n\n  // this makes it so that it only clears the posts when changing between\n  // profile pages. before it would clear the posts every time you follow / unfollow\n  // someone on their page or update image, since that would change the current user, which would\n  // then in turn change the profile user, which would then reset the posts.\n  const [profileHasChanged, setProfileHasChanged] = useState(false);\n\n  useEffect(() => {\n    // clear error before switching to new profile page\n    setShowError(false);\n    setProfileHasChanged(true);\n    getProfileUser();\n  }, [profileName]);\n\n  // need to get data on currentUser change, so that the new profile picture updates without refresh\n  // this also updates following status on the profile page\n  useEffect(() => {\n    getProfileUser();\n  }, [currentUser]);\n\n  // need profile user id before we can get the posts by that user\n  useEffect(() => {\n    if (profileUser !== null) {\n      // need to clear posts, otherwise the previous profiles posts will still show until the new\n      // profile posts load when switching between profile pages\n\n      // only reset the posts when switching between profile pages\n      if (profileHasChanged) {\n        setPosts([]);\n        setReplies([]);\n        setPinnedPost([]);\n        setProfileHasChanged(false);\n      }\n\n      getProfilePosts();\n    }\n  }, [profileUser]);\n\n  const setActiveTabPosts = () => {\n    setActiveTab('Posts');\n  };\n\n  const setActiveTabReplies = () => {\n    setActiveTab('Replies');\n  };\n\n  const followUser = () => {\n    axios({\n      method: 'put',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/users/${profileUser._id}/follow`,\n    })\n      .then((res) => {\n        //res.data contains the updated currentUser with the updated following array\n\n        // need to update current user or the following button information doesnt persist\n        // when changing pages unless you refresh\n        setCurrentUser(res.data);\n\n        if (res.data.following && res.data.following.includes(profileUser._id)) {\n          // we are now following\n          setIsFollowing(true);\n          setNumFollowers((numFollowers) => numFollowers + 1);\n          // emit notification\n          sockets.emitNotification(profileUser._id, currentUser._id);\n        } else {\n          // we are now unfollowing\n          setIsFollowing(false);\n          setNumFollowers((numFollowers) => numFollowers - 1);\n        }\n      })\n      .catch((err) => {\n        // setShowError(true);\n        console.log(err);\n      });\n  };\n\n  // delete post\n  const deletePost = (id) => {\n    deletePostRequest(id, getProfilePosts);\n  };\n\n  // infinite scroll\n  const showAnotherPage = () => {\n    setNumPages((x) => x + 1);\n  };\n  // only show 20 posts per 'page' of infinate scroll.\n  // as you scroll down to bottom the number of pages to show increases\n  const postItems = posts\n    .slice(0, 20 * numPages)\n    .map((post) => (\n      <Post\n        postData={post}\n        currentUser={currentUser}\n        key={uuidv4()}\n        forceUpdate={getProfilePosts}\n        setReplyComment={setReplyComment}\n        setDeleteComment={setDeleteComment}\n        showPin={profileName === currentUser.username ? true : false}\n      />\n    ));\n\n  const replyItems = replies\n    .slice(0, 20 * numPages)\n    .map((post) => (\n      <Post\n        postData={post}\n        currentUser={currentUser}\n        key={uuidv4()}\n        forceUpdate={getProfilePosts}\n        setReplyComment={setReplyComment}\n        setDeleteComment={setDeleteComment}\n      />\n    ));\n\n  const pinnedPostItem = pinnedPost.map((post) => (\n    <Post\n      postData={post}\n      currentUser={currentUser}\n      key={uuidv4()}\n      forceUpdate={getProfilePosts}\n      setReplyComment={setReplyComment}\n      setDeleteComment={setDeleteComment}\n      showPin={profileName === currentUser.username ? true : false}\n      showPinHeading={true}\n    />\n  ));\n\n  // special gold name styling just for my profile\n  const displayNameStyle = {};\n  if (profileUser && profileUser.goldenName) {\n    displayNameStyle.color = 'rgb(240, 173, 1)';\n  }\n\n  let replyHeading = '';\n  let replyTextPlaceholder = '';\n\n  // generates custom reply popup message depending on who you reply to\n  // the check for undefined stops the app from crashing when you reply to a reply from within\n  // the view post page. i dont really understand why it crashes without it.\n  if (replyComment !== null && replyComment !== undefined) {\n    if (replyComment.author.username === currentUser.username) {\n      replyHeading = 'Reply to... yourself?';\n      replyTextPlaceholder = 'Replying to yourself huh? You must have a lot of friends...';\n    } else {\n      replyHeading = `Reply to ${replyComment.author.username}`;\n      replyTextPlaceholder = `Give ${replyComment.author.username} a piece of your mind..`;\n    }\n  }\n\n  return (\n    <div>\n      {profileUser !== null && (\n        <>\n          <ReplyModal\n            currentUser={currentUser}\n            setCurrentUser={setCurrentUser}\n            replyComment={replyComment}\n            replyHeading={replyHeading}\n            replyTextPlaceholder={replyTextPlaceholder}\n            getPost={getProfilePosts}\n          />\n          <DeletePostModal deleteComment={deleteComment} deletePost={deletePost} />\n          <ProfilePictureModal setCurrentUser={setCurrentUser} />\n          <CoverPhotoModal setCurrentUser={setCurrentUser} />\n          <PinModal getProfilePosts={getProfilePosts} />\n          <UnPinModal getProfilePosts={getProfilePosts} />\n          <EditDescriptionModal currentUser={currentUser} setCurrentUser={setCurrentUser} />\n          <div className=\"profile-header-container\">\n            <div\n              className={`cover-photo-container ${\n                profileUser && profileUser.coverPhoto ? '' : 'blue'\n              }`}\n            >\n              <div className=\"cover-photo-img-container\">\n                {profileUser && profileUser.coverPhoto && (\n                  <img src={process.env.REACT_APP_BASE_URL + profileUser.coverPhoto} />\n                )}\n                {profileUser && profileUser._id === currentUser._id && (\n                  <button className=\"cover-pic-btn\" onClick={(e) => setCoverPhotoModalIsOpen(true)}>\n                    <FaCameraRetro />\n                  </button>\n                )}\n              </div>\n              <div className=\"user-image-container\">\n                <img\n                  className={profileUser._id === currentUser._id ? 'profile-img-fade' : ''}\n                  src={process.env.REACT_APP_BASE_URL + profileUser.profilePic}\n                  alt=\"profile pic\"\n                />\n                {profileUser && profileUser._id === currentUser._id && (\n                  <button\n                    className=\"profile-pic-btn\"\n                    onClick={(e) => setProfilePicModalIsOpen(true)}\n                  >\n                    <FaCameraRetro />\n                  </button>\n                )}\n              </div>\n            </div>\n            <div className=\"profile-btns-container\">\n              {profileUser._id !== currentUser._id && (\n                <>\n                  <Link to={`/messages/${profileUser._id}`}>\n                    <FiMail />\n                  </Link>\n                  <button\n                    className={isFollowing ? 'follow-btn following' : 'follow-btn'}\n                    onClick={followUser}\n                  >\n                    {isFollowing ? 'Stalking' : 'Stalk'}\n                  </button>\n                </>\n              )}\n            </div>\n            <div className=\"user-details-container\">\n              <span className=\"display-name\" style={displayNameStyle}>\n                {`${profileUser.firstName} ${profileUser.lastName}`}\n              </span>\n              <span className=\"username\">{`@${profileUser.username}`}</span>\n              {/* <span className=\"description\">{`${profileUser.description}`}</span> */}\n              <div className=\"followers-container\">\n                <Link to={`${profileUser.username}/following`}>\n                  <span className=\"value\">{numFollowing}</span>\n                  <span>Stalking</span>\n                </Link>\n                <Link to={`${profileUser.username}/followers`}>\n                  <span className=\"value\">{numFollowers}</span>\n                  <span>{`Stalker${numFollowers === 1 ? '' : 's'}`}</span>\n                </Link>\n              </div>\n              <ProfileDescription currentUser={currentUser} profileUser={profileUser} />\n            </div>\n          </div>\n          {currentUser._id === profileUser._id && (\n            <div className=\"post-form-profile-container\">\n              <CreatePostForm\n                currentUser={currentUser}\n                forceUpdate={getProfilePosts}\n                setCurrentUser={setCurrentUser}\n                textPlaceholder={`Hey ${currentUser.firstName}, what's going on?`}\n              />\n            </div>\n          )}\n          <div className=\"tabs-container\">\n            <div\n              className={`tab ${activeTab === 'Posts' ? 'active' : ''}`}\n              onClick={setActiveTabPosts}\n            >\n              Posts\n            </div>\n            <div\n              className={`tab ${activeTab === 'Replies' ? 'active' : ''}`}\n              onClick={setActiveTabReplies}\n            >\n              Replies\n            </div>\n          </div>\n          {pinnedPost.length > 0 && activeTab === 'Posts' && (\n            <div className=\"posts-container\" style={{ borderBottom: '6px solid #3a3a3a' }}>\n              {activeTab == 'Posts' ? pinnedPostItem : ''}\n            </div>\n          )}\n          <div className=\"posts-container\">\n            {activeTab == 'Posts' ? (\n              <InfiniteScroll\n                dataLength={20 * numPages}\n                next={showAnotherPage}\n                hasMore={posts.length > numPages * 20}\n                scrollThreshold={0.9}\n              >\n                {postItems}\n              </InfiniteScroll>\n            ) : (\n              <InfiniteScroll\n                dataLength={20 * numPages}\n                next={showAnotherPage}\n                hasMore={replies.length > numPages * 20}\n                scrollThreshold={0.9}\n              >\n                {replyItems}\n              </InfiniteScroll>\n            )}\n          </div>\n        </>\n      )}\n      {showError && (\n        <div>\n          <h2>User {profileName} not found</h2>\n          <HiOutlineEmojiSad style={{ fontSize: '50px', marginTop: '15px' }} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfilePage;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { FollowingContext } from '../../MainPage/FollowingContext';\n\nimport axios from 'axios';\n\nconst UserPreview = ({\n  currentUser,\n  user,\n  showFollowBtn,\n  setCurrentUser,\n  getUserData,\n  makeSmall,\n  isSidebar,\n  addToChat,\n}) => {\n  // if the logged in user is following the user in the preview\n  const [isFollowing, setIsFollowing] = useState(currentUser.following.includes(user._id));\n\n  const { usersFollowing, setUsersFollowing } = useContext(FollowingContext);\n\n  const followUser = () => {\n    axios({\n      method: 'put',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/users/${user._id}/follow`,\n    })\n      .then((res) => {\n        // res.data is the newly updated current user\n        setCurrentUser(res.data);\n\n        setIsFollowing(res.data.following.includes(user._id));\n\n        // this updates the intermediate user data varaible on the follower page.\n        // then when i switch tabs this intermediate data overwrites the exsisting user data\n\n        // on the right sidebar it justs gets a new list of people to follow\n        getUserData();\n\n        // this updates the main followers page correctly, when following someone\n        // via the side bar.\n        if (isSidebar) {\n          let updatedFollowingList = [...usersFollowing];\n          updatedFollowingList.push(user);\n          updatedFollowingList.sort((a, b) =>\n            a.firstName.toLowerCase() + a.lastName.toLowerCase() >\n            b.firstName.toLowerCase() + b.lastName.toLowerCase()\n              ? 1\n              : -1\n          );\n          // since i still show users immediatly after they have been unfollowed in the following page,\n          // there can be duplicates if adding that user back in via the side bar.\n\n          const seen = new Set();\n          updatedFollowingList = updatedFollowingList.filter((el) => {\n            const duplicate = seen.has(el._id);\n            seen.add(el._id);\n            return !duplicate;\n          });\n\n          setUsersFollowing(updatedFollowingList);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const addUser = () => {\n    if (addToChat !== null) {\n      addToChat(user);\n    }\n  };\n\n  // this fixes a memory leak\n  useEffect(() => {\n    return () => {\n      setIsFollowing(currentUser.following.includes(user._id));\n    };\n  }, []);\n\n  // special gold name styling just for my profile\n  const displayNameStyle = {};\n  if (user && user.goldenName) {\n    displayNameStyle.color = 'goldenrod';\n  }\n\n  let followBtn = null;\n  if (showFollowBtn && user._id !== currentUser._id) {\n    followBtn = (\n      <div className=\"follow-btn-container\">\n        <button\n          className={isFollowing ? 'follow-btn following' : 'follow-btn'}\n          onClick={followUser}\n        >\n          {isFollowing ? 'Stalking' : 'Stalk'}\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"user-preview\"\n      onClick={addUser}\n      style={{ cursor: addToChat !== null ? 'pointer' : 'auto' }}\n    >\n      {!makeSmall && (\n        <div className=\"user-image-container\">\n          <img src={process.env.REACT_APP_BASE_URL + user.profilePic} alt=\"user profile picture\" />\n        </div>\n      )}\n      <div\n        className=\"user-details-container\"\n        style={makeSmall ? { paddingLeft: '0', paddingRight: '0' } : {}}\n      >\n        <div className=\"header\">\n          {addToChat === null && (\n            <Link\n              to={`/profile/${user.username}`}\n              style={displayNameStyle}\n            >{`${user.firstName} ${user.lastName}`}</Link>\n          )}\n          {addToChat !== null && (\n            <Link\n              to=\"/messages/new\"\n              style={displayNameStyle}\n            >{`${user.firstName} ${user.lastName}`}</Link>\n            // <span style={displayNameStyle}>{`${user.firstName} ${user.lastName}`}</span>\n          )}\n\n          {makeSmall && <br></br>}\n          <span\n            className=\"username\"\n            style={makeSmall ? { marginLeft: '0' } : {}}\n          >{`@${user.username}`}</span>\n        </div>\n      </div>\n      {showFollowBtn && followBtn}\n    </div>\n  );\n};\n\nUserPreview.defaultProps = {\n  showFollowBtn: true, // show a follow button or not\n  makeSmall: false, // show a condensed preview (no picture)\n  isSidebar: false, // different behaviour for the sidebar user previews\n  addToChat: null, // different behaviour for add to chat preview\n};\n\nexport default UserPreview;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, Link } from 'react-router-dom';\n\nimport UserPreview from './UserPreview';\nimport { FollowingContext } from '../../MainPage/FollowingContext';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst FollowerPage = ({ currentUser, setCurrentUser, selectedTab }) => {\n  const profileName = useParams().username;\n\n  // the active tab the user is viewing. eg followers or following\n  const [activeTab, setActiveTab] = useState(selectedTab);\n\n  // array of users that is following the profile user\n  const [usersFollowers, setUsersFollowers] = useState([]);\n\n  // array of users that the profile user is following. reworked to use context so the sidebar has access\n  // const [usersFollowing, setUsersFollowing] = useState([]);\n  const { usersFollowing, setUsersFollowing } = useContext(FollowingContext);\n\n  // when unfollowing someone from the followers or following tab, I want the user preview\n  // to still show but with the follow button style changed, then when i click between tabs i want\n  // the followers / following list to update. after following/ unfollowing, store the\n  // newly returned user data in this varaible, then when swapping tabs update profile user\n  // to this intermediate user variable.\n  const [userData, setUserData] = useState([]);\n\n  const setActiveTabFollowing = () => {\n    setActiveTab('Following');\n  };\n\n  const setActiveTabFollowers = () => {\n    setActiveTab('Followers');\n  };\n\n  const getProfileData = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/users/${profileName}/followers`,\n    })\n      .then((res) => {\n        // res.data is the entire profile user data.\n        // sort users alphabeticaly case insensitive\n        setUsersFollowers(\n          res.data.followers.sort((a, b) =>\n            a.firstName.toLowerCase() + a.lastName.toLowerCase() >\n            b.firstName.toLowerCase() + b.lastName.toLowerCase()\n              ? 1\n              : -1\n          )\n        );\n        setUsersFollowing(\n          res.data.following.sort((a, b) =>\n            a.firstName.toLowerCase() + a.lastName.toLowerCase() >\n            b.firstName.toLowerCase() + b.lastName.toLowerCase()\n              ? 1\n              : -1\n          )\n        );\n        setUserData(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  // this is for the intermediate user variable\n  const getUserData = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/users/${profileName}/followers`,\n    })\n      .then((res) => {\n        // res.data is the entire profile user data\n        setUserData(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    if (userData.followers) {\n      setUsersFollowers(\n        userData.followers.sort((a, b) =>\n          a.firstName + a.lastName > b.firstName + b.lastName ? 1 : -1\n        )\n      );\n    } else {\n      setUsersFollowers([]);\n    }\n\n    if (userData.following) {\n      setUsersFollowing(\n        userData.following.sort((a, b) =>\n          a.firstName.toLowerCase() + a.lastName.toLowerCase() >\n          b.firstName.toLowerCase() + b.lastName.toLowerCase()\n            ? 1\n            : -1\n        )\n      );\n    } else {\n      setUsersFollowing([]);\n    }\n  }, [activeTab]);\n\n  useEffect(() => {\n    getProfileData();\n  }, []);\n\n  useEffect(() => {\n    getUserData();\n  }, [currentUser]);\n\n  const followersList = usersFollowers.map((user) => (\n    <UserPreview\n      currentUser={currentUser}\n      user={user}\n      key={uuidv4()}\n      setCurrentUser={setCurrentUser}\n      getProfileData={getProfileData}\n      getUserData={getUserData}\n    />\n  ));\n\n  const followingList = usersFollowing.map((user) => (\n    <UserPreview\n      currentUser={currentUser}\n      user={user}\n      key={uuidv4()}\n      setCurrentUser={setCurrentUser}\n      getUserData={getUserData}\n    />\n  ));\n\n  return (\n    <div>\n      <Link to={`/profile/${profileName}`} style={{ color: 'white', textDecoration: 'none' }}>\n        <h1 className=\"main-content-heading\">{profileName}</h1>\n      </Link>\n      <div className=\"tabs-container\">\n        <div\n          className={`tab ${activeTab === 'Following' ? 'active' : ''}`}\n          onClick={setActiveTabFollowing}\n        >\n          Stalking\n        </div>\n        <div\n          className={`tab ${activeTab === 'Followers' ? 'active' : ''}`}\n          onClick={setActiveTabFollowers}\n        >\n          Stalkers\n        </div>\n      </div>\n      {usersFollowers.length > 0 && activeTab === 'Followers' && followersList}\n      {usersFollowing.length > 0 && activeTab === 'Following' && followingList}\n    </div>\n  );\n};\n\nFollowerPage.defaultProps = {\n  selectedTab: 'Following', // the default tab the page should show\n};\n\nexport default FollowerPage;\n","import React, { useState, useEffect } from 'react';\n\nimport Post from './Post';\nimport UserPreview from './UserPreview';\nimport DeletePostModal from '../../Modals/DeletePostModal';\nimport ReplyModal from '../../Modals/ReplyModal';\n\nimport { BiSearch } from 'react-icons/bi';\nimport { VscLoading } from 'react-icons/vsc';\n\nimport deletePostRequest from '../../../utils/deletePostRequest';\n\nimport axios from 'axios';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nconst SearchPage = ({ currentUser, setCurrentUser }) => {\n  // the active tab the user is viewing. eg posts or users\n  const [activeTab, setActiveTab] = useState('Posts');\n\n  const [searchText, setSearchText] = useState('');\n\n  // display spinner when search results are loading\n  const [isLoading, setIsLoading] = useState(false);\n\n  // keep track of which comment is being replied to in the modal\n  const [replyComment, setReplyComment] = useState(null);\n\n  // keep track of which comment is being deleted\n  const [deleteComment, setDeleteComment] = useState(null);\n\n  // search results\n  const [postResults, setPostResults] = useState([]);\n  const [userResults, setUserResults] = useState([]);\n\n  // no results error/message\n  const [noPostResults, setNoPostResults] = useState(false);\n  const [noUserResults, setNoUserResults] = useState(false);\n\n  const setActiveTabPosts = () => {\n    setActiveTab('Posts');\n  };\n\n  const setActiveTabUsers = () => {\n    setActiveTab('Users');\n  };\n\n  // make a search request 0.9s after searchText has stopped changing.\n\n  useEffect(() => {\n    // timer that keeps track of when to send search request to server\n    let searchTimer;\n    if (searchText.trim() !== '') {\n      searchTimer = setTimeout(() => {\n        makeSearchRequest();\n      }, 900);\n    } else {\n      // clear results container\n      setUserResults([]);\n      setPostResults([]);\n    }\n\n    return () => {\n      clearTimeout(searchTimer);\n    };\n  }, [searchText]);\n\n  // dont want to show loading spinner when we are just updating data after liking / following\n  // a search result\n  const makeSearchRequest = (showLoading = true) => {\n    if (showLoading) {\n      setIsLoading(true);\n    }\n\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/search`,\n      params: { search: searchText.trim() },\n    })\n      .then((res) => {\n        setPostResults(res.data.posts);\n        // order users alphabetically case insenstitve\n        setUserResults(\n          res.data.users.sort((a, b) =>\n            a.firstName.toLowerCase() + a.lastName.toLowerCase() >\n            b.firstName.toLowerCase() + b.lastName.toLowerCase()\n              ? 1\n              : -1\n          )\n        );\n\n        setIsLoading(false);\n\n        // set no results messages\n\n        if (res.data.posts.length === 0) {\n          setNoPostResults(true);\n        } else {\n          setNoPostResults(false);\n        }\n\n        if (res.data.users.length === 0) {\n          setNoUserResults(true);\n        } else {\n          setNoUserResults(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsLoading(false);\n      });\n  };\n\n  // delete post\n  const deletePost = (id) => {\n    deletePostRequest(id, makeSearchRequest);\n  };\n\n  const postList = postResults.map((post) => (\n    <Post\n      postData={post}\n      currentUser={currentUser}\n      key={uuidv4()}\n      forceUpdate={() => makeSearchRequest(false)}\n      setReplyComment={setReplyComment}\n      setDeleteComment={setDeleteComment}\n    />\n  ));\n\n  const userList = userResults.map((user) => (\n    <UserPreview\n      currentUser={currentUser}\n      user={user}\n      key={uuidv4()}\n      setCurrentUser={setCurrentUser}\n      getUserData={() => makeSearchRequest(false)}\n    />\n  ));\n\n  let replyHeading = '';\n  let replyTextPlaceholder = '';\n\n  // generates custom reply popup message depending on who you reply to\n  // the check for undefined stops the app from crashing when you reply to a reply from within\n  // the view post page. i dont really understand why it crashes without it.\n  if (replyComment !== null && replyComment !== undefined) {\n    if (replyComment.author.username === currentUser.username) {\n      replyHeading = 'Reply to... yourself?';\n      replyTextPlaceholder = 'Replying to yourself huh? You must have a lot of friends...';\n    } else {\n      replyHeading = `Reply to ${replyComment.author.username}`;\n      replyTextPlaceholder = `Give ${replyComment.author.username} a piece of your mind..`;\n    }\n  }\n\n  const noResultsStyle = { marginTop: '20px', fontSize: '16px' };\n\n  return (\n    <div style={{ maxWidth: '100%' }}>\n      <ReplyModal\n        currentUser={currentUser}\n        setCurrentUser={setCurrentUser}\n        replyComment={replyComment}\n        replyHeading={replyHeading}\n        replyTextPlaceholder={replyTextPlaceholder}\n        getPost={makeSearchRequest}\n      />\n      <DeletePostModal deleteComment={deleteComment} deletePost={deletePost} />\n      <h1 className=\"main-content-heading\">Search lifeinvader</h1>\n      <div className=\"search-container\">\n        {isLoading ? <VscLoading className=\"spinner\" /> : <BiSearch />}\n\n        <input\n          autoComplete=\"off\"\n          spellCheck=\"false\"\n          type=\"text\"\n          value={searchText}\n          id=\"search-box\"\n          onChange={(e) => setSearchText(e.target.value)}\n          placeholder={`Search ${activeTab === 'Posts' ? 'posts' : 'users'}`}\n        />\n      </div>\n      <div className=\"tabs-container\">\n        <div className={`tab ${activeTab === 'Posts' ? 'active' : ''}`} onClick={setActiveTabPosts}>\n          Posts\n        </div>\n        <div className={`tab ${activeTab === 'Users' ? 'active' : ''}`} onClick={setActiveTabUsers}>\n          Users\n        </div>\n      </div>\n      {postResults.length > 0 && activeTab === 'Posts' && postList}\n      {userResults.length > 0 && activeTab === 'Users' && userList}\n\n      {noPostResults && activeTab === 'Posts' && searchText !== '' && !isLoading && (\n        <h2 style={noResultsStyle}>No posts found</h2>\n      )}\n\n      {noUserResults && activeTab === 'Users' && searchText !== '' && !isLoading && (\n        <h2 style={noResultsStyle}>No users found</h2>\n      )}\n    </div>\n  );\n};\n\nexport default SearchPage;\n","import React, { useContext } from 'react';\n\nimport Modal from 'react-modal';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nimport { ModalContext } from './ModalContext';\n\nimport modalStyle from './modalStyle';\n\nconst BuyNowModal = () => {\n  // get delete modal state from context\n  const { buyNowModalIsOpen, setBuyNowModalIsOpen } = useContext(ModalContext);\n\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={buyNowModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setBuyNowModalIsOpen(false)}\n    >\n      <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n        <h2 className=\"main-content-heading\" style={{ marginRight: 'auto', marginBottom: '0px' }}>\n          Purchase successful\n        </h2>\n        <span className=\"close-modal-icon-wrapper\">\n          <AiOutlineCloseCircle\n            style={{ fontSize: '22px', cursor: 'pointer' }}\n            onClick={() => setBuyNowModalIsOpen(false)}\n          />\n        </span>\n      </div>\n      <button\n        className=\"modal-delete-btn\"\n        onClick={() => setBuyNowModalIsOpen(false)}\n        style={{ marginTop: '20px' }}\n      >\n        OK\n      </button>\n    </Modal>\n  );\n};\n\nexport default BuyNowModal;\n","import React, { useContext } from 'react';\n\nimport Modal from 'react-modal';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nimport { ModalContext } from './ModalContext';\n\nimport modalStyle from './modalStyle';\n\nconst NoCoinsModal = () => {\n  // get delete modal state from context\n  const { noCoinsModalIsOpen, setNoCoinsModalIsOpen } = useContext(ModalContext);\n\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={noCoinsModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setNoCoinsModalIsOpen(false)}\n    >\n      <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n        <h2 className=\"main-content-heading\" style={{ marginRight: 'auto', marginBottom: '0px' }}>\n          You're all out of coins!\n        </h2>\n        <span className=\"close-modal-icon-wrapper\">\n          <AiOutlineCloseCircle\n            style={{ fontSize: '22px', cursor: 'pointer' }}\n            onClick={() => setNoCoinsModalIsOpen(false)}\n          />\n        </span>\n      </div>\n      <p style={{ fontSize: '16px', marginTop: '10px' }}>\n        We hope you have enjoyed your generous allowance of free lifeinvader coins. You have no\n        coins remaining and must purchase more to continue participating on lifeinvader.{' '}\n      </p>\n      <button\n        className=\"modal-delete-btn\"\n        onClick={() => setNoCoinsModalIsOpen(false)}\n        style={{ marginTop: '20px' }}\n      >\n        Oh no!\n      </button>\n    </Modal>\n  );\n};\n\nexport default NoCoinsModal;\n","export default __webpack_public_path__ + \"static/media/lifeinvadercoin.f4507299.png\";","import React, { useContext, useState, useEffect } from 'react';\n\nimport { ModalContext } from '../../Modals/ModalContext';\nimport BuyNowModal from '../../Modals/BuyNowModal';\nimport NoCoinsModal from '../../Modals/NoCoinsModal';\n\nimport axios from 'axios';\n\nimport coinImage from '../../../images/lifeinvadercoin.png';\n\nconst Store = ({ currentUser, setCurrentUser, popup }) => {\n  const { setBuyNowModalIsOpen, setNoCoinsModalIsOpen } = useContext(ModalContext);\n\n  // number of joins the current user has\n  const [userCoins, setUserCoins] = useState(currentUser.coins ? currentUser.coins : 0);\n\n  useEffect(() => {\n    // has been redirected from failed post. display popup explaining why\n    if (popup === true && userCoins === 0) {\n      setTimeout(() => {\n        setNoCoinsModalIsOpen(true);\n      }, 0);\n    }\n  }, []);\n\n  const buyCoins = (numCoins) => {\n    setBuyNowModalIsOpen(true);\n    axios({\n      method: 'put',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/users/shop/${userCoins + numCoins}`,\n      // send the amount of coins to update user data with\n    })\n      .then((res) => {\n        setCurrentUser(res.data);\n        setUserCoins((prevCoins) => prevCoins + numCoins);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <div>\n      <BuyNowModal />\n      <NoCoinsModal />\n      <h1 className=\"main-content-heading\">lifeinvader store</h1>\n      <div className=\"store-description\">\n        <h2>lifeinvader coins</h2>\n        <p>\n          Purchase lifeinvader coins to make posts and comments. Every post and comment costs 1\n          lifeinvader coin.\n        </p>\n        <p>{`You currently have ${userCoins} lifeinvader coin${userCoins === 1 ? '' : 's'}.`}</p>\n        <p className=\"disclaimer\">\n          Note: This is not a real store and is just for fun. Clicking Buy now will add the coins to\n          your account.\n        </p>\n      </div>\n      <div className=\"shop-items-container\">\n        <div className=\"shop-item\">\n          <div className=\"shop-item-card\">\n            <div className=\"shop-img-container\">\n              <img src={coinImage} alt=\"lifeinvader coin image\" />\n            </div>\n            <div className=\"coin-amount\">10 coins</div>\n          </div>\n          <div className=\"shop-item-description\">\n            <div className=\"shop-item-price\">Only $8.99!</div>\n            <button className=\"btn btn-fill btn-buy\" onClick={() => buyCoins(10)}>\n              Buy now\n            </button>\n          </div>\n        </div>\n\n        <div className=\"shop-item\">\n          <div className=\"shop-item-card\">\n            <div className=\"shop-img-container\">\n              <img src={coinImage} alt=\"lifeinvader coin image\" />\n            </div>\n            <div className=\"coin-amount\">50 coins</div>\n          </div>\n          <div className=\"shop-item-description\">\n            <div className=\"shop-item-price\">Only $42.99!</div>\n            <button className=\"btn btn-fill btn-buy\" onClick={() => buyCoins(50)}>\n              Buy now\n            </button>\n          </div>\n        </div>\n\n        <div className=\"shop-item\">\n          <div className=\"shop-item-card\">\n            <div className=\"shop-img-container\">\n              <img src={coinImage} alt=\"lifeinvader coin image\" />\n            </div>\n            <div className=\"coin-amount\">250 coins</div>\n          </div>\n          <div className=\"shop-item-description\">\n            <div className=\"shop-item-price\">Only $199.99!</div>\n            <button className=\"btn btn-fill btn-buy\" onClick={() => buyCoins(250)}>\n              Buy now\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nStore.defaultProps = {\n  popup: false, // when redirecting to shop on failed post, display popup explaining why\n};\n\nexport default Store;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst ChatListItem = ({ chat, currentUser }) => {\n  const history = useHistory();\n\n  // if the chat has a latest ,essage to display or not\n  const isMessage = chat.lastMessage != undefined;\n\n  let displayLatestMessage = 'New conversation';\n\n  if (isMessage) {\n    displayLatestMessage = `${chat.lastMessage.sender.firstName} ${chat.lastMessage.sender.lastName}: ${chat.lastMessage.content}`;\n    if (chat.lastMessage.sender._id === currentUser._id) {\n      displayLatestMessage = `You: ${chat.lastMessage.content}`;\n    }\n  }\n\n  const goToChat = (id) => {\n    history.push(`/messages/${id}`);\n  };\n\n  const getChatName = () => {\n    if (chat.chatName) {\n      return chat.chatName;\n    } else {\n      // return 'Chat Name ';\n      const chatUsers = getChatUsers(chat.users);\n      const chatNames = chatUsers.map((user) => {\n        return `${user.firstName} ${user.lastName}`;\n      });\n\n      const chatName = chatNames.join(', ');\n      return chatName;\n    }\n  };\n\n  const getChatUsers = (users) => {\n    // chat with self\n    if (users.length === 1) return users;\n\n    return users.filter((user) => {\n      return user._id !== currentUser._id;\n    });\n  };\n\n  const getChatImages = () => {\n    const chatUsers = getChatUsers(chat.users);\n\n    const chatImage = getUserChatImage(chatUsers[0]);\n\n    if (chatUsers.length > 1) {\n      const chatImage2 = getUserChatImage(chatUsers[1]);\n\n      return (\n        <div className=\"group-chat-image results-image-container\">\n          {chatImage}\n          {chatImage2}\n        </div>\n      );\n    } else {\n      return <div className=\"results-image-container\">{chatImage}</div>;\n    }\n  };\n\n  const getUserChatImage = (user) => {\n    if (!user || !user.profilePic) {\n      return console.log('no chat user image');\n    }\n\n    return <img src={process.env.REACT_APP_BASE_URL + user.profilePic} alt=\"pic\"></img>;\n  };\n\n  const activeClass =\n    !chat.lastMessage || chat.lastMessage.seenBy.includes(currentUser._id) ? '' : 'active';\n\n  return (\n    <div className={`chat-list-item ${activeClass}`} onClick={(e) => goToChat(chat._id)}>\n      {getChatImages()}\n      <div className=\"chat-list-item-details ellipsis\">\n        <span className=\"heading ellipsis\">{getChatName()}</span>\n        <span className=\"subtext ellipsis\">{displayLatestMessage}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatListItem;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport ChatListItem from './ChatListItem';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\nimport sockets from '../../../../sockets';\n\nimport { BiMessageAdd } from 'react-icons/bi';\n\nconst Inbox = ({ currentUser }) => {\n  const history = useHistory();\n\n  const [chats, setChats] = useState([]);\n\n  const goToNewMessagePage = () => {\n    history.push('/messages/new');\n  };\n\n  const getChats = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/chats`,\n    })\n      .then((res) => {\n        setChats(res.data);\n        // console.log(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    getChats();\n  }, []);\n\n  useEffect(() => {\n    // update inbox list when a new message is received\n    sockets.socket.on('message recieved', (newMessage) => {\n      const messageSocketResponse = sockets.messageReceived(newMessage);\n      if (messageSocketResponse && messageSocketResponse.onInboxPage) {\n        getChats();\n      }\n    });\n  }, []);\n\n  const chatList = chats.map((chat) => (\n    <ChatListItem chat={chat} key={uuidv4()} currentUser={currentUser} />\n  ));\n\n  return (\n    <div>\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n        <h1 className=\"main-content-heading\">Inbox</h1>\n        <BiMessageAdd\n          className=\"blue-on-hover\"\n          style={{ fontSize: '24px', cursor: 'pointer' }}\n          onClick={goToNewMessagePage}\n        />\n      </div>\n      {chats.length > 0 && chatList}\n    </div>\n  );\n};\n\nexport default Inbox;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport UserPreview from '../UserPreview';\n\nimport { VscLoading } from 'react-icons/vsc';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst NewMessage = ({ currentUser, setCurrentUser }) => {\n  const [text, setText] = useState('');\n\n  // display spinner when search results are loading\n  const [isLoading, setIsLoading] = useState(false);\n\n  // search results\n  const [userResults, setUserResults] = useState([]);\n\n  // users that have been added to chat\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  const history = useHistory();\n\n  const makeSearchRequest = (showLoading = true) => {\n    if (showLoading) {\n      setIsLoading(true);\n    }\n\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/search`,\n      params: { search: text.trim() },\n    })\n      .then((res) => {\n        // order users alphabetically case insenstitve\n        setUserResults(\n          res.data.users.sort((a, b) =>\n            a.firstName.toLowerCase() + a.lastName.toLowerCase() >\n            b.firstName.toLowerCase() + b.lastName.toLowerCase()\n              ? 1\n              : -1\n          )\n        );\n\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsLoading(false);\n      });\n  };\n\n  // make a search request 0.9s after searchText has stopped changing.\n\n  useEffect(() => {\n    // timer that keeps track of when to send search request to server\n    let searchTimer;\n    if (text.trim() !== '') {\n      searchTimer = setTimeout(() => {\n        makeSearchRequest();\n      }, 900);\n    } else {\n      // clear results container\n      setUserResults([]);\n    }\n\n    return () => {\n      clearTimeout(searchTimer);\n    };\n  }, [text]);\n\n  const addUserToMessage = (user) => {\n    setSelectedUsers((prevUsersArray) => [...prevUsersArray, user]);\n    setText('');\n    document.getElementById('user-search-textbox').focus();\n  };\n\n  const removeUserFromMessage = (userId) => {\n    let users = [...selectedUsers];\n    // console.log(users);\n    users = users.filter((user) => {\n      return user._id !== userId;\n    });\n    setSelectedUsers(users);\n  };\n\n  const createNewChat = () => {\n    const data = JSON.stringify(selectedUsers);\n\n    axios({\n      method: 'post',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/chats`,\n      data: { users: data },\n    })\n      .then((res) => {\n        // res.data is the newly created chat. redirect to this chat page.\n        history.push(`/messages/${res.data._id}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  // only show users that isnt the current user and arent in the chat already\n  const userList = userResults\n    .filter((user) => {\n      return user._id !== currentUser._id;\n    })\n    .filter((user) => {\n      return !selectedUsers.some((u) => u._id === user._id);\n    })\n    .map((user) => (\n      <UserPreview\n        currentUser={currentUser}\n        user={user}\n        key={uuidv4()}\n        setCurrentUser={setCurrentUser}\n        getUserData={() => makeSearchRequest(false)}\n        addToChat={addUserToMessage}\n        showFollowBtn={false}\n      />\n    ));\n\n  const selectedUsersLabels = selectedUsers.map((user) => (\n    <p\n      className=\"user-added-to-chat\"\n      onClick={(e) => removeUserFromMessage(user._id)}\n      key={uuidv4()}\n    >{`${user.firstName} ${user.lastName}`}</p>\n  ));\n\n  return (\n    <div>\n      <h1 className=\"main-content-heading\">New Message</h1>\n      <div className=\"chat-page-container\">\n        <div className=\"chat-title-bar\">\n          {!isLoading && <label htmlFor=\"user-search-textbox\">To:</label>}\n          {isLoading && <VscLoading className=\"spinner\" style={{ marginRight: '16px' }} />}\n          <div id=\"selected-users\">\n            <input\n              autoComplete=\"off\"\n              type=\"text\"\n              placeholder=\"Enter message recipients\"\n              id=\"user-search-textbox\"\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n              spellCheck={false}\n            />\n          </div>\n        </div>\n        {selectedUsers.length > 0 && <div>{selectedUsersLabels}</div>}\n        <div className=\"results-container\">{userResults.length > 0 && userList}</div>\n        <button\n          id=\"create-chat-btn\"\n          className=\"follow-btn\"\n          disabled={selectedUsers.length === 0}\n          onClick={createNewChat}\n        >\n          Create new chat\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default NewMessage;\n","import React, { useContext, useState, useEffect } from 'react';\n\nimport Modal from 'react-modal';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nimport { ModalContext } from './ModalContext';\n\nimport axios from 'axios';\n\nimport modalStyle from './modalStyle';\n\nconst EditChatNameModal = ({ chatId, refresh }) => {\n  // get delete modal state from context\n  const { editChatNameModalIsOpen, setEditChatNameModalIsOpen } = useContext(ModalContext);\n\n  const [text, setText] = useState('');\n\n  const updateChatName = () => {\n    // alert(text);\n    axios({\n      method: 'put',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/chats/${chatId}`,\n      data: { chatName: text },\n    })\n      .then((res) => {\n        refresh();\n        setEditChatNameModalIsOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        setEditChatNameModalIsOpen(false);\n      });\n  };\n\n  // focus text box on popup\n  useEffect(() => {\n    if (editChatNameModalIsOpen) {\n      setTimeout(() => {\n        document.querySelector('#change-chat-name-textbox').focus();\n      }, 0);\n    }\n  }, [editChatNameModalIsOpen]);\n\n  return (\n    <Modal\n      style={modalStyle}\n      isOpen={editChatNameModalIsOpen}\n      closeTimeoutMS={300}\n      onRequestClose={() => setEditChatNameModalIsOpen(false)}\n    >\n      <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n        <h2 className=\"main-content-heading\" style={{ marginRight: 'auto', marginBottom: '0px' }}>\n          Edit chat name\n        </h2>\n        <span className=\"close-modal-icon-wrapper\">\n          <AiOutlineCloseCircle\n            style={{ fontSize: '22px', cursor: 'pointer' }}\n            onClick={() => setEditChatNameModalIsOpen(false)}\n          />\n        </span>\n      </div>\n      <input\n        value={text}\n        type=\"text\"\n        id=\"change-chat-name-textbox\"\n        placeholder=\"Enter new chat name\"\n        spellCheck={false}\n        autoComplete=\"false\"\n        onChange={(e) => setText(e.target.value)}\n      />\n\n      <button className=\"modal-delete-btn\" onClick={updateChatName} style={{ marginTop: '20px' }}>\n        OK\n      </button>\n    </Modal>\n  );\n};\n\nexport default EditChatNameModal;\n","import React from 'react';\n\nconst TypingIndicator = () => {\n  return (\n    <div className=\"typing-indicator-container\">\n      <div className=\"typing-indicator\">\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    </div>\n  );\n};\n\nexport default TypingIndicator;\n","import React, { useEffect, useState, useContext, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport EditChatNameModal from '../../../Modals/EditChatNameModal';\nimport { ModalContext } from '../../../Modals/ModalContext';\nimport TypingIndicator from './TypingIndicator';\nimport { NotificationsContext } from '../../NotificationsContext';\n\nimport { FaPaperPlane } from 'react-icons/fa';\nimport { VscLoading } from 'react-icons/vsc';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\nimport socketIOClient, { Socket } from 'socket.io-client';\nimport sockets from '../../../../sockets';\nimport { set } from 'nprogress';\n\nimport getNumMessages from '../../../../utils/getNumMessages';\n\nconst ChatPage = ({ currentUser }) => {\n  let id = useParams().id;\n\n  const { setNumMessages } = useContext(NotificationsContext);\n\n  const { setEditChatNameModalIsOpen } = useContext(ModalContext);\n\n  // display loading spinner while fetching chats\n  const [isChatLoading, setIsChatLoading] = useState(false);\n\n  // error message for no chat found. initialse as null so it doesnt flash false status before\n  // rendering true status.\n  const [noChatFound, setNoChatFound] = useState(null);\n\n  // chat meta data\n  const [chatData, setChatData] = useState(null);\n\n  // chat messages data\n  const [chatMessagesData, setChatMessagesData] = useState([]);\n\n  // currently typed message\n  const [currentMessage, setCurrentMessage] = useState('');\n\n  const [newMessageFromSockets, setNewMessageFromSockets] = useState(null);\n\n  const initialLoad = useRef(true);\n\n  useEffect(() => {\n    //get chat meta data\n    // need to set initial load to true on id change, as this\n    // indicates switching between message pages\n    initialLoad.current = true;\n    getChat();\n    markAllMessagesAsRead();\n  }, [id]);\n\n  // socket join. make this only join on initial fetch?\n  useEffect(() => {\n    if (chatData) {\n      sockets.socket.emit('join room', chatData._id);\n\n      sockets.socket.on('typing', (room) => {\n        // turn on typing indicator\n        // console.log('room:', room);\n        // console.log('id', id);\n\n        // here i am trying to figure out why the typing indicator will persist when messaging\n        // the same user from a different chat.\n        // eg in a chat with someone, then go to a new gourp chat that has the same person in it,\n        // messaging that group chat will still show the typing indictor to the user in the previous chat\n        // console.log(room === chatData._id);\n        if (room === chatData._id) {\n          try {\n            document.querySelector('.typing-indicator').style.display = 'flex';\n          } catch {\n            // need this for if we change page while the typing indicator is active\n          }\n        }\n      });\n\n      sockets.socket.on('stop typing', () => {\n        // turn off typing indicator\n        try {\n          document.querySelector('.typing-indicator').style.display = 'none';\n        } catch {\n          // need this for if we change page while the typing indicator is active\n        }\n      });\n\n      sockets.socket.on('message recieved', (newMessage) => {\n        const messageSocketResponse = sockets.messageReceived(newMessage);\n        if (messageSocketResponse && messageSocketResponse.onChatPage) {\n          setNewMessageFromSockets(messageSocketResponse.newMessage);\n          markAllMessagesAsRead();\n        }\n      });\n    }\n  }, [chatData]);\n\n  // update chat data when a new socket message has been recieved\n  useEffect(() => {\n    if (!initialLoad.current) {\n      setChatMessagesData((prevState) => [...prevState, newMessageFromSockets]);\n    }\n  }, [newMessageFromSockets]);\n\n  const getChat = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/chats/${id}`,\n    })\n      .then((res) => {\n        setChatData(res.data.chat);\n\n        setNoChatFound(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        setNoChatFound(true);\n      });\n  };\n\n  useEffect(() => {\n    if (chatData) {\n      // get chat messages data\n      getChatMessages();\n    }\n  }, [chatData]);\n\n  const getChatMessages = () => {\n    setIsChatLoading(true);\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/chats/${chatData._id}/messages`,\n    })\n      .then((res) => {\n        // console.log(res.data);\n        setIsChatLoading(false);\n        setChatMessagesData(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsChatLoading(false);\n      });\n  };\n\n  // useEffect(() => {\n  //   if (!initialLoad.current) {\n  //   }\n  // }, [chatMessagesData]);\n\n  // resize post form text area to avoid text scroll\n  const resizeTextarea = function (e) {\n    const textarea = document.querySelector('#message-input');\n    textarea.style.height = '38px';\n    textarea.style.height = textarea.scrollHeight + 'px';\n  };\n\n  const chatImage = (chatData, currentUser) => {\n    if (!chatData) {\n      return;\n    }\n\n    // filter out current user\n    let chatDataUsers = chatData.users.filter((user) => {\n      return user._id !== currentUser._id;\n    });\n\n    // only show a maximum of 3 user photos, then have a '+2' for the remaining users\n    const maxUsersToShow = 3;\n\n    const remainingUsers = chatDataUsers.length - maxUsersToShow;\n\n    // take first 3 users to show picture of only\n    chatDataUsers = chatDataUsers.slice(0, 3);\n\n    // need this funky spread and reverse to disply the images correctly with row reverse\n    return (\n      <div className=\"chat-images-container\">\n        {remainingUsers > 0 && (\n          <span className=\"chat-user-extra-count\">{`+${remainingUsers}`}</span>\n        )}\n        {[...chatDataUsers].reverse().map((user) => (\n          <img src={process.env.REACT_APP_BASE_URL + user.profilePic} key={uuidv4()}></img>\n        ))}\n      </div>\n    );\n  };\n\n  const getChatName = () => {\n    if (chatData.chatName) {\n      return chatData.chatName;\n    } else {\n      // return 'Chat Name ';\n      const chatUsers = getChatUsers(chatData.users);\n      const chatNames = chatUsers.map((user) => {\n        return `${user.firstName} ${user.lastName}`;\n      });\n\n      const chatName = chatNames.join(', ');\n      return chatName;\n    }\n  };\n\n  const getChatUsers = (users) => {\n    // chat with self\n    if (users.length === 1) return users;\n\n    return users.filter((user) => {\n      return user._id !== currentUser._id;\n    });\n  };\n\n  const editChatName = () => {\n    //only allow renaming of group chats\n    if (chatData.isGroupChat) {\n      setEditChatNameModalIsOpen(true);\n    }\n  };\n\n  const sendMessage = () => {\n    if (currentMessage.trim().length > 0) {\n      axios({\n        method: 'post',\n        withCredentials: true,\n        url: `${process.env.REACT_APP_BASE_URL}/api/messages/`,\n        data: { content: currentMessage.trim(), chatId: chatData._id },\n      })\n        .then((res) => {\n          setChatMessagesData((prevData) => [...prevData, res.data]);\n          setCurrentMessage('');\n          resizeTextarea();\n\n          if (sockets.connected) {\n            sockets.socket.emit('new message', res.data);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          alert('Could not send message. Please try again.');\n        });\n\n      sockets.socket.emit('stop typing', chatData._id);\n      isTyping = false;\n    }\n  };\n\n  // to apply the correct border radius styling on messages, need to keep track\n  // of the last message rendered\n  let lastMessageSenderId = '';\n\n  const addNewMessage = (message, index, lastMsgId) => {\n    if (!message || !message._id) {\n      return console.log('cannot display invalid message');\n    }\n    const newMessage = createMessage(message, chatMessagesData[index + 1], lastMsgId);\n    lastMessageSenderId = message.sender._id;\n\n    return newMessage;\n  };\n\n  const createMessage = (message, nextMessage, lastMsgId) => {\n    const isOwnMessage = message.sender._id === currentUser._id;\n\n    // variables to conditionally render message border radius\n    const sender = message.sender;\n    const senderName = sender.firstName;\n\n    const currentSenderId = sender._id;\n    const nextSenderId = nextMessage != null ? nextMessage.sender._id : '';\n\n    const isFirst = lastMsgId !== currentSenderId;\n    const isLast = nextSenderId !== currentSenderId;\n\n    let messageName = null;\n\n    // dont want the bottom margin for the very last message\n    const veryLastMessage = nextMessage ? '' : 'very-last-msg';\n\n    let messageClassName = isOwnMessage ? 'message own-msg' : 'message not-own-msg';\n\n    if (isFirst) {\n      messageClassName += ' first-msg';\n\n      if (!isOwnMessage) {\n        messageName = <span className=\"sender-name\">{senderName}</span>;\n      }\n    }\n\n    let profileImg = null;\n    if (isLast) {\n      messageClassName += ' last-msg';\n      profileImg = <img src={process.env.REACT_APP_BASE_URL + sender.profilePic} alt=\"x\" />;\n    }\n\n    let imgContainer = null;\n    if (!isOwnMessage) {\n      imgContainer = <div className=\"img-container\">{profileImg}</div>;\n    }\n\n    return (\n      <li className={`${messageClassName} ${veryLastMessage}`} key={uuidv4()}>\n        {imgContainer}\n        <div className=\"message-container\">\n          {messageName !== null && chatData.isGroupChat && messageName}\n          <span className=\"message-body\">{message.content}</span>\n        </div>\n      </li>\n    );\n  };\n\n  // watch for enter press so can send message. shift + enter will\n  // create a new line instead\n  const watchTextBox = (e) => {\n    if (e.keyCode == 13 && !e.shiftKey) {\n      sendMessage();\n      // prevent enter from making a new line\n      e.preventDefault();\n    }\n  };\n\n  // send typing indicator via sockets\n  let isTyping = false;\n  let lastTypingTime;\n  let timer;\n\n  useEffect(() => {\n    // the currentMessage != '' is to stop it running again after sending a message. as\n    // sending resets currentMessage to ''\n    if (!initialLoad.current && currentMessage != '') {\n      updateTyping();\n      return () => {\n        clearTimeout(timer);\n      };\n    }\n  }, [currentMessage]);\n\n  const updateTyping = () => {\n    if (!sockets.connected) {\n      return;\n    }\n\n    if (!isTyping) {\n      isTyping = true;\n      sockets.socket.emit('typing', chatData._id);\n    }\n\n    lastTypingTime = new Date().getTime();\n    // how long after stop typing to remove indicator - in ms\n    const typingIndicatorTimeout = 3000;\n\n    timer = setTimeout(() => {\n      const currentTime = new Date().getTime();\n      const timeDif = currentTime - lastTypingTime;\n\n      if (timeDif >= typingIndicatorTimeout && isTyping) {\n        sockets.socket.emit('stop typing', chatData._id);\n        isTyping = false;\n      }\n    }, typingIndicatorTimeout);\n  };\n\n  const messagesList = chatMessagesData.map((msg, index) =>\n    addNewMessage(msg, index, lastMessageSenderId)\n  );\n\n  // scroll chat to bottom\n  const scrollToBottom = (animate = false) => {\n    const container = document.querySelector('.chat-messages');\n    const scrollHeight = container.scrollHeight;\n\n    if (animate) {\n      // when adding a new message, smooth scroll to bottom of container\n      container.scrollTo({ top: scrollHeight, behavior: 'smooth' });\n    } else {\n      // on initial load, imediatly scroll to bottom of container\n      container.scrollTo({ top: scrollHeight, behavior: 'auto' });\n    }\n  };\n\n  useEffect(() => {\n    if (chatMessagesData.length > 0) {\n      if (initialLoad.current) {\n        scrollToBottom();\n        initialLoad.current = false;\n        // there can be a quick flash of the top of the chats div before it is scrolled to botom.\n        // default the div to hidden, then change to visible after the scroll.\n        // no more flashing the top of chats div on load\n        document.querySelector('.chat-messages').style.visibility = 'visible';\n      } else {\n        scrollToBottom(true);\n      }\n    }\n  }, [chatMessagesData]);\n\n  const markAllMessagesAsRead = () => {\n    axios({\n      method: 'put',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/chats/${id}/messages/read`,\n    })\n      .then((res) => {\n        getNumMessages(setNumMessages);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const cantEditChatStyle = {\n    border: '1px solid transparent',\n    cursor: 'auto',\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n      <EditChatNameModal chatId={id} refresh={getChat} />\n      {/* <h1 className=\"main-content-heading\">chat page</h1> */}\n      {noChatFound === true && <p style={{ fontSize: '16px' }}>No chat found</p>}\n      {noChatFound === false && (\n        <div className=\"chat-page-container\">\n          <div className=\"chat-title-container\">\n            {chatData != null && chatImage(chatData, currentUser)}\n            <span\n              id=\"chat-name\"\n              onClick={() => editChatName()}\n              style={chatData.isGroupChat ? {} : cantEditChatStyle}\n            >\n              {getChatName()}\n            </span>\n          </div>\n          <div className=\"main-content-container main-content-container-chat\">\n            <div className=\"chat-container\">\n              {isChatLoading && (\n                <div\n                  style={{\n                    height: '100%',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    borderTop: '1px solid #3a3a3a',\n                  }}\n                >\n                  <VscLoading className=\"spinner\" style={{ fontSize: '40px', color: '#1da1f2' }} />\n                </div>\n              )}\n              {!isChatLoading && (\n                <ul className=\"chat-messages\">{chatMessagesData.length > 0 && messagesList}</ul>\n              )}\n              <TypingIndicator />\n              <div className=\"footer\">\n                <textarea\n                  className=\"custom-scroll\"\n                  id=\"message-input\"\n                  name=\"message-input\"\n                  placeholder=\"Enter message...\"\n                  spellCheck={false}\n                  onInput={resizeTextarea}\n                  onChange={(e) => setCurrentMessage(e.target.value)}\n                  maxLength={500}\n                  onKeyDown={watchTextBox}\n                  value={currentMessage}\n                ></textarea>\n                <button className=\"send-msg-btn\" onClick={sendMessage}>\n                  <FaPaperPlane />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatPage;\n","import axios from 'axios';\n\nconst notificationsController = {\n  markAsRead: function (id = null, cb = null) {\n    const url =\n      id !== null\n        ? `${process.env.REACT_APP_BASE_URL}/api/notifications/${id}/read`\n        : `${process.env.REACT_APP_BASE_URL}/api/notifications/read`;\n\n    axios({\n      method: 'put',\n      withCredentials: true,\n      url: url,\n    })\n      .then((res) => {\n        if (cb !== null) {\n          cb();\n        }\n      })\n      .catch((err) => console.log(err));\n  },\n};\n\nexport default notificationsController;\n","import React, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { NotificationsContext } from '../../NotificationsContext';\nimport { NotificationsPopupContext } from '../../NotificationsPopupContext';\n\nimport notificationsController from '../../../../notifications';\nimport getNumNotifications from '../../../../utils/getNumNotifications';\n\nconst NotificationItem = ({ notification, isPopup }) => {\n  const userFrom = notification.userFrom;\n  const history = useHistory();\n\n  const { setNumNotifications } = useContext(NotificationsContext);\n  const { setNotificationIsOpen } = useContext(NotificationsPopupContext);\n\n  const getGoodAdjective = () => {\n    const adjectives = [\n      'amazing',\n      'astounding',\n      'stunning',\n      'prodigious',\n      'maervelous',\n      'incredible',\n      'astonishing',\n      'breathtaking',\n      'fantastic',\n    ];\n    return adjectives[Math.floor(Math.random() * adjectives.length)];\n  };\n\n  const getBadAdjective = () => {\n    const adjectives = [\n      'terrible',\n      'horrible',\n      'no-good',\n      'dissatisfactory',\n      'mediocre',\n      'displeasing',\n      'distasteful',\n      'obnoxious',\n      'awful',\n      'nasty',\n      'unpleasant',\n    ];\n    return adjectives[Math.floor(Math.random() * adjectives.length)];\n  };\n\n  const getNotificationText = (notification) => {\n    if (!userFrom.firstName) {\n      return console.log('userFrom not populated ');\n    }\n\n    const userFromName = userFrom.fullName;\n\n    let text;\n\n    if (notification.notificationType === 'share') {\n      // text = `${userFromName} shared your ${getGoodAdjective()} post`;\n      // until i find a good way to not create a new adjective on component refresh,\n      // (when updating notifications page on new notification) just show the same message\n      text = `${userFromName} shared your post`;\n    } else if (notification.notificationType === 'like') {\n      // text = `${userFromName} disliked your ${getBadAdjective()} post`;\n      text = `${userFromName} disliked your post`;\n    } else if (notification.notificationType === 'reply') {\n      text = `${userFromName} replied to your post`;\n    } else if (notification.notificationType === 'follow') {\n      text = `${userFromName} is stalking you`;\n    }\n\n    // text for disliking or sharing own post\n\n    if (\n      notification.notificationType === 'like' &&\n      notification.userTo._id === notification.userFrom._id\n    ) {\n      text = 'Congratulations, you disliked your own post';\n    }\n\n    if (\n      notification.notificationType === 'share' &&\n      notification.userTo._id === notification.userFrom._id\n    ) {\n      text = 'Congratulations, you shared your own post';\n    }\n\n    if (text) {\n      return text;\n    } else return 'Notification';\n  };\n\n  const getNotificationLink = (notification) => {\n    let url;\n\n    if (\n      notification.notificationType === 'share' ||\n      notification.notificationType === 'like' ||\n      notification.notificationType === 'reply'\n    ) {\n      url = `/post/${notification.entityId}`;\n    } else if (notification.notificationType === 'follow') {\n      url = `/profile/${notification.userFrom.username}`;\n    }\n\n    if (url) {\n      return url;\n    } else return '/notifications';\n  };\n\n  const goToNotificationSubject = () => {\n    markAsRead();\n    if (isPopup) {\n      setNotificationIsOpen(false);\n    }\n    // sometimes it wont mark as read when clicking on popup but this seems\n    // to help\n    setTimeout(() => {\n      markAsRead();\n      history.push(getNotificationLink(notification));\n    }, 0);\n  };\n\n  const markAsRead = () => {\n    if (!notification.read) {\n      notificationsController.markAsRead(notification._id);\n    }\n    getNumNotifications(setNumNotifications);\n  };\n\n  // special styling from un-opned notifications\n  const notificationClass = notification.read ? '' : 'active';\n  const popupClass = isPopup ? 'notification-item-popup' : ``;\n\n  useEffect(() => {\n    if (isPopup) {\n      const popup = document.querySelector('.notification-item-popup');\n\n      if (popup) {\n        popup.classList.add('notification-item-popup-fade');\n      }\n    }\n  }, []);\n\n  return (\n    <div\n      className={`chat-list-item notification ${notificationClass} ${popupClass}`}\n      onClick={goToNotificationSubject}\n    >\n      <div className=\"results-image-container\">\n        <img src={process.env.REACT_APP_BASE_URL + userFrom.profilePic} alt=\"pic\" />\n      </div>\n      <div className=\"chat-list-item-details\">\n        <span style={{ wordBreak: 'break-word' }}>{getNotificationText(notification)}</span>\n      </div>\n    </div>\n  );\n};\n\nNotificationItem.defaultProps = {\n  isPopup: false, // special styling for when this component is used to render a new notifcation as a popup\n};\n\nexport default NotificationItem;\n","import React, { useEffect, useState, useContext } from 'react';\n\nimport { MdPlaylistAddCheck } from 'react-icons/md';\nimport { RiDeleteBinLine } from 'react-icons/ri';\n\nimport NotificationItem from './NotificationItem';\n\nimport { NotificationsContext } from '../../NotificationsContext';\n\nimport notificationsController from '../../../../notifications';\nimport getNumNotifications from '../../../../utils/getNumNotifications';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport sockets from '../../../../sockets';\n\nconst NotificationsPage = () => {\n  const [notificationsData, setNotificationsData] = useState([]);\n\n  const [noNotifications, setNoNotifications] = useState(null);\n\n  const { setNumNotifications } = useContext(NotificationsContext);\n\n  useEffect(() => {\n    getNotifications();\n  }, []);\n\n  // update new notification if user is on notifications page\n  useEffect(() => {\n    sockets.socket.on('notification received', () => {\n      getNotifications();\n    });\n  }, []);\n\n  const getNotifications = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/notifications/`,\n    })\n      .then((res) => {\n        setNotificationsData(res.data);\n        if (res.data.length === 0) {\n          setNoNotifications(true);\n        } else {\n          setNoNotifications(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const markAllAsRead = () => {\n    // const unMarkActive = () => {\n    //   const notifications = document.querySelectorAll('.notification.active');\n    //   notifications.forEach((notif) => {\n    //     // notif.classList.remove('active');\n    //     // need to do inline stlying or it doesnt persist for some reason.\n    //     notif.style.borderLeft = 'none';\n    //   });\n    // };\n\n    notificationsController.markAsRead(null, getNotifications);\n\n    getNumNotifications(setNumNotifications);\n    setTimeout(() => {\n      // sometimes it wont clear the notifiaction from the side bar without this\n      getNumNotifications(setNumNotifications);\n    }, 0);\n  };\n\n  const deleteNotifications = () => {\n    axios({\n      method: 'delete',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/notifications/`,\n    })\n      .then((res) => {\n        setNotificationsData([]);\n        setNoNotifications(true);\n        getNumNotifications(setNumNotifications);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const notificationsList = notificationsData.map((notification) => (\n    <NotificationItem notification={notification} key={uuidv4()} />\n  ));\n\n  return (\n    <div>\n      <div style={{ display: 'flex', justifyContent: 'space-between', maxWidth: '100%' }}>\n        <h1 className=\"main-content-heading\">Notifications</h1>\n        <div className=\"notifications-heading-btns-container\">\n          <MdPlaylistAddCheck\n            className=\"blue-on-hover\"\n            style={{ fontSize: '24px', cursor: 'pointer' }}\n            onClick={markAllAsRead}\n          />\n          <RiDeleteBinLine\n            className=\"blue-on-hover\"\n            style={{ fontSize: '22px', cursor: 'pointer', marginLeft: '16px' }}\n            onClick={deleteNotifications}\n          />\n        </div>\n      </div>\n      {notificationsData.length > 0 && notificationsList}\n      {noNotifications && (\n        <div>\n          <p style={{ fontSize: '16px' }}>No notifications</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NotificationsPage;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport logoIcon from '../../../images/logo-large.png';\n\nconst GuestWelcome = () => {\n  const history = useHistory();\n  const goToSearchPage = () => {\n    history.push('/search');\n  };\n\n  const goToBensPage = () => {\n    history.push('/profile/coolben');\n  };\n\n  return (\n    <div style={{ marginTop: '20px' }}>\n      <h2 className=\"main-content-heading\">Welcome to lifeinvader!</h2>\n      <p className=\"paragraph-text\">\n        Stalk other lifeinvader users to see their posts on the home page.\n      </p>\n      <p className=\"paragraph-text\">\n        Check out{' '}\n        <span className=\"text-link\" onClick={goToBensPage}>\n          Ben's profile here\n        </span>\n        , or search for users from the{' '}\n        <span className=\"text-link\" onClick={goToSearchPage}>\n          search page.\n        </span>\n      </p>\n      <div className=\"image-wrapper\" style={{ width: '60%', margin: '50px auto 0' }}>\n        <img src={logoIcon} alt=\"logo\" style={{ width: '100%' }} />\n      </div>\n    </div>\n  );\n};\n\nexport default GuestWelcome;\n","import React, { useEffect, useContext } from 'react';\nimport { BrowserRouter as Router, Switch, Route, useLocation } from 'react-router-dom';\n\nimport Home from './Home';\nimport ViewPost from './ViewPost';\nimport ProfilePage from './ProfilePage';\nimport FollowerPage from './FollowerPage';\nimport SearchPage from './SearchPage';\nimport Store from './Store';\nimport Inbox from './Messages/Inbox';\nimport NewMessage from './Messages/NewMessage';\nimport ChatPage from './Messages/ChatPage';\nimport NotificationsPage from './Notifications/NotificationsPage';\nimport GuestWelcome from './GuestWelcome';\nimport { ModalContext } from '../../Modals/ModalContext';\n\nconst MainContent = ({ currentUser, setCurrentUser, toggleDropdown }) => {\n  const location = useLocation();\n\n  const {\n    setDeleteModalIsOpen,\n    setModalIsOpen,\n    setProfilePicModalIsOpen,\n    setCoverPhotoModalIsOpen,\n    setPinModalIsOpen,\n    setUnPinModalIsOpen,\n    setEditDescriptionModalIsOpen,\n    setBuyNowModalIsOpen,\n    setNoCoinsModalIsOpen,\n    setEditChatNameModalIsOpen,\n  } = useContext(ModalContext);\n\n  // scrolls back to the top if you click on sidebar link for the page you are already on.\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n\n    // close drop down menu if it is active\n    toggleDropdown(true);\n  }, [location]);\n\n  // close all modals when changing pages. this stops the app crashing when you have an open modal,\n  // click the browser back arrow and then the forward arrow\n  useEffect(() => {\n    setDeleteModalIsOpen(false);\n    setModalIsOpen(false);\n    setProfilePicModalIsOpen(false);\n    setCoverPhotoModalIsOpen(false);\n    setPinModalIsOpen(false);\n    setUnPinModalIsOpen(false);\n    setEditChatNameModalIsOpen(false);\n    setEditDescriptionModalIsOpen(false);\n    setBuyNowModalIsOpen(false);\n    setNoCoinsModalIsOpen(false);\n  }, [location]);\n\n  return (\n    <section className=\"layout__main\">\n      <Switch>\n        <Route exact path=\"/guest\">\n          <GuestWelcome />\n        </Route>\n        <Route exact path=\"/post/:id\">\n          <ViewPost currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n        <Route exact path=\"/profile/:username\">\n          <ProfilePage currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n        <Route exact path={'/profile/:username/followers'}>\n          <FollowerPage\n            selectedTab={'Followers'}\n            currentUser={currentUser}\n            setCurrentUser={setCurrentUser}\n          />\n        </Route>\n        <Route exact path={'/profile/:username/following'}>\n          <FollowerPage\n            selectedTab={'Following'}\n            currentUser={currentUser}\n            setCurrentUser={setCurrentUser}\n          />\n        </Route>\n        <Route exact path=\"/search\">\n          <SearchPage currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n        <Route exact path=\"/store\">\n          <Store currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n        <Route exact path=\"/store/nocoins\">\n          <Store currentUser={currentUser} setCurrentUser={setCurrentUser} popup={true} />\n        </Route>\n        <Route exact path=\"/messages\">\n          <Inbox currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n        <Route exact path=\"/messages/new\">\n          <NewMessage currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n        <Route exact path=\"/messages/:id\">\n          <ChatPage currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n        <Route exact path=\"/notifications\">\n          <NotificationsPage currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n\n        <Route path=\"/\">\n          <Home currentUser={currentUser} setCurrentUser={setCurrentUser} />\n        </Route>\n      </Switch>\n    </section>\n  );\n};\n\nexport default MainContent;\n","import React, { useState, useEffect } from 'react';\n\nimport UserPreview from './MainContent/UserPreview';\nimport { useHistory } from 'react-router-dom';\n\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst RightSidebar = ({ currentUser, setCurrentUser }) => {\n  // array of suggested users to follow\n  const [followSuggestions, setFollowSuggestions] = useState([]);\n\n  const history = useHistory();\n\n  const getFollowSuggestions = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/api/users/suggestions`,\n    })\n      .then((res) => {\n        let followSuggestionResults = res.data;\n\n        // limit suggestions to 3 users at a time\n        if (followSuggestionResults.length > 3) {\n          followSuggestionResults = followSuggestionResults.slice(0, 3);\n        }\n\n        // sort users by number of followers\n        followSuggestionResults.sort((a, b) => (a.followers.length < b.followers.length ? 1 : -1));\n\n        setFollowSuggestions(followSuggestionResults);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const goToStore = () => {\n    history.push('/store');\n  };\n\n  // get suggestions on page load\n  useEffect(() => {\n    getFollowSuggestions();\n  }, [currentUser]);\n\n  const userList = followSuggestions.map((user) => (\n    <UserPreview\n      currentUser={currentUser}\n      user={user}\n      key={uuidv4()}\n      setCurrentUser={setCurrentUser}\n      getUserData={() => 1} /* a do nothing function */\n      makeSmall={true}\n      isSidebar={true}\n    />\n  ));\n\n  return (\n    <section className=\"layout__right-sidebar-container\">\n      <div className=\"layout__right-sidebar custom-scroll\">\n        <h1 className=\"main-content-heading\">Stalk these users</h1>\n        {followSuggestions.length > 0 && userList}\n        {followSuggestions.length === 0 && (\n          <p style={{ fontSize: '16px', marginBottom: '20px' }}>\n            You're already stalking everyone!{' '}\n          </p>\n        )}\n        <div className=\"ad-container\">\n          <h1\n            className=\"main-content-heading\"\n            style={{ borderTop: '1px solid #3a3a3a', paddingTop: '20px' }}\n          >\n            Special deals in the lifeinvader store are waiting for you!\n          </h1>\n          <button\n            className=\"btn btn-fill btn-block\"\n            onClick={goToStore}\n            style={{ marginBottom: '10px' }}\n          >\n            Shop now!\n          </button>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default RightSidebar;\n","import React, { useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { NotificationsPopupContext } from '../../NotificationsPopupContext';\n\nconst ChatNotification = ({ notification }) => {\n  const history = useHistory();\n\n  const { setNotificationIsOpen } = useContext(NotificationsPopupContext);\n\n  useEffect(() => {\n    const popup = document.querySelector('.notification-item-popup');\n\n    if (popup) {\n      popup.classList.add('notification-item-popup-fade');\n    }\n  }, []);\n\n  const goToChat = () => {\n    setNotificationIsOpen(false);\n    history.push(`/messages/${notification.chat._id}`);\n  };\n\n  let displayLatestMessage = `${notification.sender.firstName} ${notification.sender.lastName}: ${notification.content}`;\n  return (\n    <div\n      className={'chat-list-item notification notification-item-popup active'}\n      onClick={goToChat}\n    >\n      <div className=\"results-image-container\">\n        <img src={`${process.env.REACT_APP_BASE_URL}/${notification.sender.profilePic}`} alt=\"\" />\n      </div>\n      <div className=\"chat-list-item-details ellipsis\">\n        <span className=\"heading ellipsis\"></span>\n        <span className=\"subtext subtext-notification ellipsis\">{displayLatestMessage}</span>\n      </div>\n    </div>\n  );\n  // return null;\n};\n\nexport default ChatNotification;\n","import React, { useContext, useEffect } from 'react';\n\nimport NotificationItem from './MainPage/MainContent/Notifications/NotificationItem';\nimport ChatNotification from './MainPage/MainContent/Notifications/ChatNotification';\nimport { NotificationsPopupContext } from './MainPage/NotificationsPopupContext';\n\nconst NotificationPopup = () => {\n  const { currentNotification, currentChat, notificationIsOpen, setNotificationIsOpen } =\n    useContext(NotificationsPopupContext);\n\n  let notificationType;\n\n  if (currentNotification && currentNotification.notificationType !== undefined) {\n    notificationType = currentNotification.notificationType;\n  }\n\n  // add or remove visible class to the notification popup\n  useEffect(() => {\n    const popup = document.querySelector('.notification-item-popup');\n    if (!notificationIsOpen) {\n      if (popup) {\n        popup.classList.remove('notification-item-popup-fade');\n      }\n    } else {\n      if (popup) {\n        popup.classList.add('notification-item-popup-fade');\n      }\n    }\n  }, [notificationIsOpen]);\n\n  // after the current notification has been updated and the notification is open,\n  // set a timer for 5s to close the notification. if the notification updates\n  // during this time, reset the notification.\n  useEffect(() => {\n    let timer;\n    if (notificationIsOpen) {\n      timer = setTimeout(() => {\n        setNotificationIsOpen(false);\n      }, 5000);\n    }\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [currentNotification]);\n\n  if (\n    currentNotification &&\n    (notificationType === 'like' ||\n      notificationType === 'share' ||\n      notificationType === 'reply' ||\n      notificationType === 'follow')\n  ) {\n    return <NotificationItem notification={currentNotification} isPopup={true} />;\n  }\n\n  if (currentChat && notificationType === 'message') {\n    return <ChatNotification notification={currentChat} />;\n  }\n\n  return null;\n};\n\nexport default NotificationPopup;\n","import { BrowserRouter as Router, useHistory } from 'react-router-dom';\nimport { useEffect, useState, useRef, useContext } from 'react';\n\nimport Welcome from './components/WelcomePage/Welcome';\nimport { ModalProvider } from './components/Modals/ModalContext';\nimport { FollowingProvider } from './components/MainPage/FollowingContext';\n\nimport { NotificationsProvider } from './components/MainPage/NotificationsContext';\nimport { NotificationsContext } from './components/MainPage/NotificationsContext';\nimport { NotificationsPopupContext } from './components/MainPage/NotificationsPopupContext';\n\nimport Loading from './components/Loading';\nimport TopNav from './components/MainPage/TopNav';\nimport TopNavDropdown from './components/MainPage/TopNavDropdown';\nimport LeftNav from './components/MainPage/LeftNav';\nimport MainContent from './components/MainPage/MainContent/MainContent';\nimport RightSidebar from './components/MainPage/RightSidebar';\n\nimport axios from 'axios';\nimport nprogress from 'nprogress';\nimport './style/main.scss';\n// import socketIOClient from 'socket.io-client';\nimport sockets from './sockets';\nimport getNumMessages from './utils/getNumMessages';\nimport getNumNotifications from './utils/getNumNotifications';\nimport createNewNotificationPopup from './utils/newNotification';\nimport createNewMessagePopup from './utils/newMessage';\n\nimport openSocket from 'socket.io-client';\nimport NotificationPopup from './components/NotificationPopup';\n\nfunction App() {\n  // const [name, setName] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isLoading, setisLoading] = useState(true);\n  const history = useHistory();\n\n  const { numMessages, setNumMessages, numNotifications, setNumNotifications } =\n    useContext(NotificationsContext);\n\n  const { setCurrentNotification, setCurrentChat, setNotificationIsOpen } =\n    useContext(NotificationsPopupContext);\n\n  // mobile nav\n  const toggleDropdown = (close = false) => {\n    const dropDownMenu = document.querySelector('.navbar-dropdown');\n    if (close) {\n      if (dropDownMenu) {\n        dropDownMenu.classList.remove('dropdown-active');\n      }\n    } else {\n      if (dropDownMenu) {\n        dropDownMenu.classList.toggle('dropdown-active');\n      }\n    }\n  };\n\n  // get user session on page load\n  useEffect(() => {\n    // createNewNotificationPopup();\n\n    // while fetiching user data, display loading page\n    setisLoading(true);\n    // loading bar start\n    nprogress.start();\n    axios({\n      method: 'get',\n\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/authenticate`,\n    })\n      .then((res) => {\n        if (res.data.username !== undefined) {\n          setCurrentUser(res.data);\n        }\n        //after user data is fetched, remove loading page\n        setisLoading(false);\n        //loading bar end\n        nprogress.done();\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  // destroy user session\n  const logOut = () => {\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: `${process.env.REACT_APP_BASE_URL}/logout`,\n    }).then((res) => {\n      setCurrentUser(null);\n      // remove local storage post data. it is only needed when liking posts that have been expanded\n      // and going between pages\n      localStorage.clear();\n    });\n  };\n\n  // socket connection. maybe make this run on initial log in only, then disconet in logout function\n  useEffect(() => {\n    if (currentUser) {\n      if (!sockets.socket) {\n        sockets.socket = openSocket(`${process.env.REACT_APP_BASE_URL}`, {\n          transports: ['websocket'],\n        });\n      }\n      sockets.socket.emit('setup', currentUser);\n\n      sockets.socket.on('connected', () => {\n        sockets.connected = true;\n      });\n\n      // real time messages (also there is logic for this in the chat component)\n      sockets.socket.on('message recieved', (newMessage) => {\n        const messageSocketResponse = sockets.messageReceived(newMessage);\n        if (messageSocketResponse && !messageSocketResponse.onChatPage) {\n          // handle notification\n\n          axios({\n            method: 'get',\n            withCredentials: true,\n            url: `${process.env.REACT_APP_BASE_URL}/api/notifications/latest`,\n          }).then((res) => {\n            // this is old way of creating popup\n            // createNewNotificationPopup(res.data);\n            // this is react way\n            setNotificationIsOpen(true);\n            setCurrentNotification(res.data);\n            setCurrentChat(newMessage);\n\n            getNumMessages(setNumMessages);\n          });\n        }\n      });\n\n      // real time notifications handler\n      sockets.socket.on('notification received', (newNotification) => {\n        // gets the latest notification for the Current User\n        axios({\n          method: 'get',\n          withCredentials: true,\n          url: `${process.env.REACT_APP_BASE_URL}/api/notifications/latest`,\n        }).then((res) => {\n          // this is old way of creating popup\n          // createNewNotificationPopup(res.data);\n          // this is react way\n          setNotificationIsOpen(true);\n          setCurrentNotification(res.data);\n\n          getNumNotifications(setNumNotifications);\n        });\n      });\n\n      // create emit notification function on sockets object\n      sockets.emitNotification = function (userId, currentUserId) {\n        if (userId === currentUserId) {\n          return;\n        }\n        sockets.socket.emit('notification received', userId);\n      };\n    }\n  }, [currentUser]);\n\n  // display loading screen while user data is being fetched\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  // if user is not logged in, only allow access to welcome, register and log in pages\n  if (currentUser === null) {\n    return <Welcome setCurrentUser={setCurrentUser} />;\n  }\n\n  // user is logged in so render main app\n  return (\n    <ModalProvider>\n      <FollowingProvider>\n        <Router history={history}>\n          <div className=\"App\">\n            <TopNav toggleDropdown={toggleDropdown} />\n            <TopNavDropdown\n              logOut={logOut}\n              currentUser={currentUser}\n              toggleDropdown={toggleDropdown}\n            />\n            <div className=\"main-wrapper\">\n              <main className=\"layout\">\n                <LeftNav logOut={logOut} currentUser={currentUser} />\n                <MainContent\n                  currentUser={currentUser}\n                  setCurrentUser={setCurrentUser}\n                  toggleDropdown={toggleDropdown}\n                />\n                <RightSidebar currentUser={currentUser} setCurrentUser={setCurrentUser} />\n                <NotificationPopup currentUser={currentUser} />\n              </main>\n            </div>\n            {/* I may want to add this mobile add-post button back at some point. */}\n            {/* <div className=\"new-post-btn-wrapper mobile-post-btn\">\n              <BiPlus style={{ fontSize: '32px' }} />\n            </div> */}\n          </div>\n        </Router>\n      </FollowingProvider>\n    </ModalProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport { NotificationsProvider } from './components/MainPage/NotificationsContext';\nimport { NotificationsPopupProvider } from './components/MainPage/NotificationsPopupContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <NotificationsProvider>\n        <NotificationsPopupProvider>\n          <App />\n        </NotificationsPopupProvider>\n      </NotificationsProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}